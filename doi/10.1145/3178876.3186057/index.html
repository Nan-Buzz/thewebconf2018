<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta name="generator" content=
  "HTML Tidy for HTML5 for Linux version 5.7.16" />
  <title>Mile High WiFi: A First Look At In-Flight Internet
  Connectivity</title>
  <!-- Copyright (c) 2010-2015 The MathJax Consortium -->
  <meta http-equiv="Content-Type" content=
  "text/html; charset=utf-8" />
  <meta name="viewport" content=
  "width=device-width; initial-scale=1.0;" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="screen, print" rel="stylesheet" href=
  "../../../data/dl.acm.org/pubs/lib/css/bootstrap.min.css" />
  <link media="screen, print" rel="stylesheet" href=
  "../../../data/dl.acm.org/pubs/lib/css/bootstrap-theme.min.css" />
  <link media="screen, print" rel="stylesheet" href=
  "../../../data/dl.acm.org/pubs/lib/css/main.css" />
  <script src="../../../data/dl.acm.org/pubs/lib/js/jquery.min.js" type=
  "text/javascript"></script>
  <script src="../../../data/dl.acm.org/pubs/lib/js/bootstrap.min.js"
  type="text/javascript"></script>
  <script src="../../../data/dl.acm.org/pubs/lib/js/bibCit.js" type=
  "text/javascript"></script>
  <script src="../../../data/dl.acm.org/pubs/lib/js/divTab.js" type=
  "text/javascript"></script>
  <script type="text/javascript" src=
  "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML"></script>
  <script type="text/x-mathjax-config">
  <![CDATA[
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
  ]]>
  </script>
</head>
<body id="main">
<div>
<p style='font-size: 75%; color #444'>
This is a HTML copy of <a href='https://doi.org/10.1145/3178876.3186057'>https://doi.org/10.1145/3178876.3186057</a> 
originally published by ACM, 
redistributed under the terms of 
<a href='https://creativecommons.org/licenses/by/4.0/'>Creative Commons Attribution 4.0 (CC BY 4.0)</a>.
The <a href='https://github.com/usable-oa/thewebconf2018/tree/master/scripts'>modifications</a> 
from the original are solely to improve HTML accessability, compatibility, 
augmenting HTML metadata and avoiding ACM trademark.
To reference this HTML version, use:
</p><p>
<strong>Permalink:</strong>
<a href='https://w3id.org/oa/10.1145/3178876.3186057'>https://w3id.org/oa/10.1145/3178876.3186057</a>
</p></div>
<hr>


  <section class="front-matter">
    <section>
      <header class="title-info">
        <div class="journal-title">
          <h1><span class="title">Mile High WiFi: A First Look At
          In-Flight Internet Connectivity</span><br />
          <span class="subTitle"></span></h1>
        </div>
      </header>
      <div class="authorGroup">
        <div class="author">
          <span class="givenName">John P.</span> <span class=
          "surName">Rula</span>, Akamai/Northwestern University,
          <a href=
          "mailto:john.rula@eecs.northwestern.edu">john.rula@eecs.northwestern.edu</a>
        </div>
        <div class="author">
          <span class="givenName">James</span> <span class=
          "surName">Newman</span>, Northwestern University,
          <a href="mailto:jnewm@eecs.northwestern.edu">jnewm@eecs.northwestern.edu</a>
        </div>
        <div class="author">
          <span class="givenName">Fabián E.</span> <span class=
          "surName">Bustamante</span>, Northwestern University,
          <a href=
          "mailto:fabianb@eecs.northwestern.edu">fabianb@eecs.northwestern.edu</a>
        </div>
        <div class="author">
          <span class="givenName">Arash Molavi</span> <span class=
          "surName">Kakhki</span>, Northeastern University,
          <a href="mailto:arash@ccs.neu.edu">arash@ccs.neu.edu</a>
        </div>
        <div class="author">
          <span class="givenName">David</span> <span class=
          "surName">Choffnes</span>, Northeastern University,
          <a href=
          "mailto:choffnes@ccs.neu.edu">choffnes@ccs.neu.edu</a>
        </div>
      </div><br />
      <div class="pubInfo">
        <p>DOI: <a href="https://doi.org/10.1145/3178876.3186057"
        target=
        "_blank">https://doi.org/10.1145/3178876.3186057</a><br />
        WWW '18: <a href="https://doi.org/10.1145/3178876" target=
        "_blank">Proceedings of The Web Conference 2018</a>, Lyon,
        France, April 2018</p>
      </div>
      <div class="abstract">
        <p><small>In-Flight Communication (IFC), available on a
        growing number of commercial flights, is often received by
        consumers with both awe for its mere availability and harsh
        criticism for its poor performance. Indeed, IFC provides
        Internet connectivity in some of the most challenging
        conditions with aircraft traveling at speeds in excess of
        500 mph at 30,000 feet above the ground. Yet, while
        existing services do provide basic Internet
        <em>accessibility</em>, anecdotal reports rank their
        quality of service as, at best, poor.</small></p>
        <p><small>In this paper, we present the first
        characterization of deployed IFC systems. Using over 45
        flight-hours of measurements, we profile the performance of
        IFC across the two dominant access technologies – direct
        air-to-ground communication (DA2GC) and mobile satellite
        service (MSS). We show that IFC QoS is in large part
        determined by the high latencies inherent to DA2GC and MSS,
        with RTTs averaging 200ms and 750ms, respectively, and that
        these high latencies directly impact the performance of
        common applications such as web browsing. While each IFC
        technology is based on well studied wireless communication
        technologies, our findings reveal that IFC links experience
        further degraded link performance than their technological
        antecedents. We find median loss rates of 7%, and nearly
        40% loss at the 90th percentile for MSS, 6.8x larger than
        recent characterizations of residential satellite
        networks.</small></p>
        <p><small>We extend our IFC study exploring the potential
        of the newly released HTTP/2 and QUIC protocols in an
        emulated IFC environment, finding that QUIC is able to
        improve page load times by as much as 7.9 times. In
        addition, we find that HTTP/2’s use of multiplexing
        multiple requests onto a single TCP connection performs up
        to 4.8x <em>worse</em> than HTTP/1.1 when faced with large
        numbers of objects. We use network emulation to explore
        proposed technological improvements to existing IFC systems
        finding that high link losses, and not bandwidth, account
        for the largest factor of performance degradation with
        applications such as web browsing.</small></p>
      </div>
      <div class="CCSconcepts">
        <p><small><span style="font-weight:bold;">CCS
        Concepts:</span> • <strong>Networks</strong> →
        <strong>Network experimentation;</strong> <strong>Network
        measurement;</strong> <em>Mobile networks;</em></small></p>
      </div>
      <div class="classifications">
        <div class="author">
          <span style=
          "font-weight:bold;"><small>Keywords:</small></span>
          <span class="keyword"><small>In-Flight
          Connectivity</small></span>
        </div><br />
        <div class="AcmReferenceFormat">
          <p><small><span style="font-weight:bold;">ACM Reference
          Format:</span><br />
          John P. Rula, James Newman, Fabián E. Bustamante, Arash
          Molavi Kakhki, and David Choffnes. 2018. Mile High WiFi:
          A First Look At In-Flight Internet Connectivity. In
          <em>WWW 2018: The 2018 Web Conference,</em> <em>April
          23–27, 2018,</em> <em>Lyon, France</em>. ACM, New York,
          NY, USA 10 Pages. <a href=
          "https://doi.org/10.1145/3178876.3186057" class=
          "link-inline force-break" target=
          "_blank">https://doi.org/10.1145/3178876.3186057</a></small></p>
        </div>
      </div>
    </section>
  </section>
  <section class="body">
    <section id="sec-6">
      <header>
        <div class="title-info">
          <h2><span class="section-number">1</span>
          Introduction</h2>
        </div>
      </header>
      <p>In just a few years, ubiquitous connectivity has moved
      from a vision statement to an assumed reality in much of the
      developed world. Leveraging this expectation, several
      airlines offer in-flight connectivity (IFC) among their extra
      amenities on commercial flights. At the end of 2015, 72
      airlines had already installed or announced plans to install
      passenger connectivity systems on board, and the number of
      connected commercial aircraft is expected to grow 5x over the
      2015-2025 period, to reach 62% of the global fleet. In 2017,
      there are over 56 airlines that offer WiFi as a service
      according to a popular frequent flyers’ website[<a class=
      "bib" data-trigger="hover" data-toggle="popover"
      data-placement="top" href="#BibPLXBIB0005">5</a>].</p>
      <p>Since first appearing on the market in late 2004[<a class=
      "bib" data-trigger="hover" data-toggle="popover"
      data-placement="top" href="#BibPLXBIB0010">10</a>], IFC has
      grown to become a key feature of flights for many passengers
      and an important component of revenue for
      airlines&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0020">20</a>]. Passengers are reported to consider
      IFC when making travel decisions. A Honeywell survey found
      that 85% of passengers used IFC in 2013-2014 and 66% of them
      selected flights based on IFC availability&nbsp;[<a class=
      "bib" data-trigger="hover" data-toggle="popover"
      data-placement="top" href="#BibPLXBIB0002">2</a>]. According
      to a recent survey from Inmarsat, 61% of passengers consider
      WiFi more important than in-flight entertainment and 40% rank
      it as one of the top-3 drivers for airline choice[<a class=
      "bib" data-trigger="hover" data-toggle="popover"
      data-placement="top" href="#BibPLXBIB0014">14</a>]. A 2016
      market report from Euroconsult states that total revenue from
      passenger connectivity services are expected to grow from
      <font style="normal">$</font>700 million in 2015 to nearly
      <font style="normal">$</font>5.4 billion by 2025, a 23%
      compound annual growth rate (CAGR) over the 10-year
      period&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href="#BibPLXBIB0009">9</a>].
      Beyond passenger connectivity and airlines’ revenue, IFC
      technologies are being proposed as the basis for future
      iterations of critical aviation infrastructure such as
      air-traffic management systems&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0018">18</a>, <a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0024">24</a>].</p>
      <p>Despite the growing importance of IFC and the many
      interesting challenges faced by this technology, we lack even
      a basic understanding of current and potential performance of
      the different approaches in use. We take an initial step in
      this new domain, presenting the first characterization of
      deployed IFC systems and evaluating the potential benefits of
      new protocols and technologies in the space. <em>We find that
      IFC technologies experience higher latency variance, and
      significantly higher loss rates than their terrestrial
      counterparts, and that novel optimizations are needed to
      improve performance in such challenging area.</em> We show
      through emulated experiments that protocol optimization
      provides the most immediate path forward for improving IFC
      experience.</p>
      <p>This paper makes the following contributions:</p>
      <figure id="fig1">
        <img src=
        "../../../data/deliveryimages.acm.org/10.1145/3190000/3186057/images/www2018-66-fig1.jpg"
        class="img-responsive" alt="Figure 1" longdesc="" />
        <div class="figure-caption">
          <span class="figure-number">Figure 1:</span> <span class=
          "figure-title">Technology alternatives for IFC. Direct
          Air-to-Ground Communication (DA2GC) utilizes cellular
          connectivity to ground stations, and Mobile Satellite
          Service (MSS) connects through satellite relays.</span>
        </div>
      </figure>
      <p></p>
      <ul class="list-no-style">
        <li id="list1" label="•">We profile the performance of
        competing IFC technologies, across the two dominant access
        technologies – direct air-to-ground communication (DA2GC)
        and mobile satellite service (MSS) – using over 45
        flight-hours of measurements, over 16 flights and six
        different airlines. Our characterization includes link
        properties, such as latency, loss and throughput, as well
        as application performance of DA2GC and MSS.<br /></li>
        <li id="list2" label="•">We find that large last-mile
        latencies of IFC technologies – 750 ms for MSS and 200 ms
        for DA2GC – adversely impact the performance of common
        applications such as web browsing. In addition, the
        relatively high loss rates for IFC, averaging 3.3% for
        DA2GC and 6% for MSS, greatly deteriorates the performance
        of TCP-based communication.<br /></li>
        <li id="list3" label="•">We find that while each IFC
        technology is based on well studied wireless communication
        technologies, IFC links experience degraded link
        performance well beyond their technological antecedents. We
        find median loss rates of 7%, and nearly 40% loss at the
        90th percentile for MSS.<br /></li>
        <li id="list4" label="•">We present an analysis of caching
        policies on deployed IFC systems. We find that in-flight
        caching of DNS and HTTP can offer large performance
        improvements; however, current implementations suffer from
        ineffective caching policies.<br /></li>
        <li id="list5" label="•">Using empirically derived
        emulation we evaluate the performance of the recently
        released HTTP/2 and QUIC protocols. We show that HTTP/2
        provides little performance benefit under the high latency
        and loss conditions of IFC, and substantially worse with
        large numbers of objects, due to HTTP/2’s known Head of
        Line (HOL) blocking with TCP's congestion control. QUIC, on
        the other hand, offers significant improvements of up to a
        7.9x reduction in PLT on existing IFC
        technologies.<br /></li>
        <li id="list6" label="•">We explore, through emulation, the
        potential benefits of next-generation IFC. We find that
        increasing bandwidth does little to improve PLT over
        existing technologies.<br /></li>
      </ul>
      <p>In the next section we describe the technologies behind
      today's IFC. We present our methodology and dataset of
      in-flight performance in §<a class="sec" href=
      "#sec-10">3</a>, and discuss our findings in §<a class="sec"
      href="#sec-12">4</a> and §<a class="sec" href=
      "#sec-17">5</a>. In §<a class="sec" href="#sec-21">6</a> we
      discuss our emulation experiments and their results. Finally,
      we briefly describe related work, before summarizing and
      concluding in §<a class="sec" href="#sec-27">9</a>.</p>
    </section>
    <section id="sec-7">
      <header>
        <div class="title-info">
          <h2><span class="section-number">2</span> In-Flight
          Communication</h2>
        </div>
      </header>
      <p>IFC systems can be divided into two main groups based on
      their underlying technologies: the cellular-based <em>Direct
      Air-To-Ground Communication</em> (DA2GC) and satellite-based
      <em>Mobile Satellite Service</em> (MSS). DA2GC includes the
      commonly deployed 2/3G technology and newly proposed
      LTE-based services, while MSS operates over the Ku and Ka
      satellite bands&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0007">7</a>]. The following paragraphs provide
      some additional background information on the different
      technologies, highlighting their inherent differences, and
      some of the main IFC providers today.</p>
      <section id="sec-8">
        <header>
          <div class="title-info">
            <h3><span class="section-number">2.1</span> Direct Air
            To Ground Communication</h3>
          </div>
        </header>
        <p>Direct Air-To-Ground Communication (DA2GC) utilizes
        cellular technology to link the plane and the ground. These
        systems are implemented using three key infrastructure
        pieces: the Aircraft Station (AS), the Ground Station (GS)
        and the DA2GC network core (Fig.&nbsp;<a class="fig" href=
        "#fig1">1</a>). The aircraft station consists of the radio
        receiver and transmitter, as well as network appliances for
        handling in-flight entertainment systems common on many
        aircraft. Ground Stations are towers that communicate with
        passing flights. These stations are similar to cellular
        towers, with the exception that their radio transmitters
        are directed upward, and that they are placed with much a
        greater distances between (e.g. 50 to 150 km radius). DA2GC
        systems also operate their own core networks, analogous to
        modern cellular networks, that handle aircraft mobility and
        tower hand-offs. Traffic from flights is received by each
        GS, and tunnelled through to the DA2GC's core network
        before egressing into the public Internet. Existing DA2GC
        systems operate on 2/3G cellular technologies for the
        air-to-ground link. Although systems using newer LTE
        technology have been proposed&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0006">6</a>, <a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0008">8</a>], none have been deployed
        as of June 2017.</p>
        <p>DA2GC systems have been successfully deployed in North
        America and China. In the U.S., GoGo Biz[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0012">12</a>] (formerly Aircell)
        operates a nationwide network of towers providing
        connectivity in the continental U.S., available since 2008.
        DA2GC systems have been proposed in the EU, but have yet to
        be deployed as of June 2016&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0008">8</a>]. Currently each DA2GC
        system runs on 3G cellular technology, and while LTE based
        systems have been developed and tested, they have yet to be
        deployed commercially.</p>
      </section>
      <section id="sec-9">
        <header>
          <div class="title-info">
            <h3><span class="section-number">2.2</span> Mobile
            Satellite Service</h3>
          </div>
        </header>
        <p>Mobile Satellite Service (MSS) utilizes geostationary
        satellite relays to establish connectivity between aircraft
        and ground stations. MSS providers often lease a fraction
        of the available bandwidth from existing geostationary
        satellite Internet providers. Due to the large distances
        necessary to reach geostationary satellites, MSS requires
        precise directional transmission to successfully achieve
        connectivity. MSS-equipped aircraft are typically outfitted
        with a mechanical directional antenna. Thus, under
        turbulent conditions, MSS often loses connectivity as its
        antenna loses its tracking position.</p>
        <p>While MSS connectivity is not restricted to areas with
        ground towers, they are still subject to geographic
        coverage constraints, and must also perform connectivity
        hand-offs. Due to the large distances traversed by wireless
        signals in satellite communication, and the large
        path-fading effects of transmission, satellite
        transmissions are divided into several beams of a few
        degrees of latitude and longitude. This means that MSS
        aircraft must also perform handovers as they cross between
        individual beam boundaries, similar to the handover made by
        DA2GC as the plane travels between ground station
        boundaries.</p>
        <p>MSS is provided by several companies, with ViaSat,
        Panasonic Aviation, Inmarsat, Row 44, GoGo and Deutsche
        Telecom providing a large share of MSS-based IFC. The
        majority of services offered today are Ku band services,
        available from Panasonic, ViaSat, GoGo, and Row 44, with
        emerging Ka band systems provided by companies such as
        Inmarsat.</p>
      </section>
    </section>
    <section id="sec-10">
      <header>
        <div class="title-info">
          <h2><span class="section-number">3</span> Measurement
          Methodology</h2>
        </div>
      </header>
      <p>We use data collected from flights with Internet
      connectivity from February 2015 until March 2016, using a
      <em>testbench</em> we developed for this work. Our dataset
      consists of more than 45 hours of IFC on 16 flights (from six
      different airlines) equipped with either MSS (13) and DA2GC
      (3) technologies from five different IFC providers. The
      testbench conducts a series of network measurements to
      characterize the performance and reliability of IFC services,
      issuing pings, DNS requests, HTTP requests, and traceroutes.
      Results are recorded on local storage and transferred to our
      analysis servers after the flight.</p>
      <p>To understand the latency and loss, we measured
      <strong>ping</strong> latency to <a class=
      "link-inline force-break" href=
      "http://www.google.com">www.google.com</a> every 2 seconds.
      We chose Google because their servers are close to (or
      inside) most ISPs, and they offer high availability, so the
      performance measured is likely to be a best case for latency
      and loss. Expanding the range of measurement targets is part
      of future work. The testbench issued
      <strong>traceroutes</strong> to <a class=
      "link-inline force-break" href=
      "http://www.google.com">www.google.com</a> every 3 minutes.
      Most of the traceroutes we performed did not reach their
      destination, with probes being dropped after 3-5
      hops.<a class="fn" href="#fn1" id="foot-fn1"><sup>1</sup></a>
      Regardless, information about the first few hops allow us to
      measure 802.11 performance for the in-plane wireless
      link.</p>
      <p>For <strong>DNS</strong>, we performed queries, every 5
      minutes, using the default resolver (obtained via DHCP) to
      the Alexa top 100 sites. We chose the top Alexa sites to
      characterize the performance impact of DNS for the sites that
      users are most likely to visit. For <strong>HTTP</strong>,
      the software issues GET requests to Alexa top 100 sites using
      PhantomJS&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0023">23</a>], generating an HTTP Archive (HAR)
      for each site. The HAR file contains sufficient information
      to identify page load times and other important Web
      performance metrics. Last, the testbench runs <strong>Network
      Diagnostic Tests (NDT)</strong>&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0019">19</a>] every 5 minutes. The
      tests were directed to the nearest server that supports NDT
      tests. A majority of these tests failed due to timeouts in
      signaling packets. In addition, we mapped the collected IFC
      measurements to flight location using data on <strong>flight
      geographic position</strong> obtained from <a class=
      "link-inline force-break" href=
      "http://flightaware.com">flightaware.com</a> ; we partially
      rely on this when interpreting our results.</p>
      <p>We determine the access technology of each flight by
      looking at the minimum ping latency recorded during each
      measurement period. In light of the large speed-of-light
      delay (&gt;470ms), we classified flights with minimum
      latencies below 400 ms as DA2GC, and those above as MSS. We
      found minimum latencies between 50.7 and 93.2 ms, and for MSS
      flights we found minimum latencies ranging between 536.1 and
      682 ms.</p>
      <section id="sec-11">
        <header>
          <div class="title-info">
            <h3><span class="section-number">3.1</span> IFC
            Provider Coverage</h3>
          </div>
        </header>
        <p>To determine the IFC provider for a particular flight,
        we used the client's IP address from our testbench client
        which we periodically recorded through an IP echo service.
        We then mapped each IP address to an ASN using pWhoIs
        data&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
        "popover" data-placement="top" href=
        "#BibPLXBIB0001">1</a>]. We were able to identify each IFC
        provider by its AS mapping, in all finding 6 unique ASes
        for the 5 providers. Table&nbsp;<a class="tbl" href=
        "#tab1">1</a> presents a summary of providers, their AS
        numbers and carriers that used them.</p>
        <div class="table-responsive" id="tab1">
          <div class="table-caption">
            <span class="table-number">Table 1:</span> <span class=
            "table-title">IFC providers in our dataset. Airlines
            often use multiple providers and technologies, across
            their fleets.</span>
          </div>
          <table class="table">
            <thead>
              <tr>
                <th style="text-align:left;">
                <strong>Provider</strong></th>
                <th style="text-align:center;">
                <strong>ASN</strong></th>
                <th><strong>Carriers Equipped</strong></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td style="text-align:left;">Panasonic
                Avionics</td>
                <td style="text-align:center;">ASN 39996, ASN
                22351</td>
                <td>United Airlines</td>
              </tr>
              <tr>
                <td style="text-align:left;">GoGo</td>
                <td style="text-align:center;">ASN 11167</td>
                <td>U.S. Airways, Delta Airlines, United
                Airlines</td>
              </tr>
              <tr>
                <td style="text-align:left;">Row 44</td>
                <td style="text-align:center;">ASN 6621</td>
                <td>Southwest Airlines</td>
              </tr>
              <tr>
                <td style="text-align:left;">T-Mobile</td>
                <td style="text-align:center;">ASN 3320</td>
                <td>American Airlines, Lufthansa Airlines</td>
              </tr>
              <tr>
                <td style="text-align:left;">ViaSat</td>
                <td style="text-align:center;">ASN 7155</td>
                <td>United Airlines</td>
              </tr>
            </tbody>
          </table>
        </div>
        <p>A small number of IFC operators provide service to a
        majority of the airline industry. These providers differ
        both in the technology they use to provide IFC service, and
        in the case of MSS, the satellite technology used. The set
        of IFC providers included in our measurement dataset
        captures nearly 94% of overall IFC market
        share&nbsp;[<a class="bib" data-trigger="hover"
        data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0022">22</a>]. This includes GoGo at 53.1%,
        Panasonic Aviation at 18%, ViaSat at 12.7% and Row 44 at
        10.3% of market share.</p>
      </section>
    </section>
    <section id="sec-12">
      <header>
        <div class="title-info">
          <h2><span class="section-number">4</span> IFC Link-level
          Performance</h2>
        </div>
      </header>
      <p>In this and the next section we present our
      characterization of IFC performance. We first discuss
      link-level properties before looking at application-level
      performance. Given the dominant role of the underlying
      technology, we aggregate results for DA2GG- and MSS-supported
      flights, independently of IFC providers and airlines.</p>
      <section id="sec-13">
        <header>
          <div class="title-info">
            <h3><span class="section-number">4.1</span>
            Latency</h3>
          </div>
        </header>
        <p>We find that latency is largely determined by the IFC
        technology, with MSS latency nearly an order of magnitude
        larger than that of DA2GC. Figure&nbsp;<a class="fig" href=
        "#fig2">2</a> plots the distribution of all ping probes to
        <a class="link-inline force-break" href=
        "http://www.google.com">www.google.com</a> for all flights
        in our dataset, aggregated by IFC technology. The figure
        shows the large disparity in latency between DA2GC and MSS,
        with a nearly 500 ms mean distance between the
        distributions, and a minimum (average) latencies for DA2GC
        ranging between 50-93ms (260-310ms) compared with MSS
        minimum (average) latencies in the 530-680ms (730-1100ms)
        range.</p>
        <figure id="fig2">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186057/images/www2018-66-fig2.jpg"
          class="img-responsive" alt="Figure 2" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 2:</span>
            <span class="figure-title">Latencies to
            <em>www.google.com</em> separated by access technology.
            MSS latencies are significantly larger due to the
            larger miles traveled by packets to and from a
            satellite.</span>
          </div>
        </figure>
        <p>This is not surprising when one considers that most
        communication satellites are in geostationary orbit, 22,000
        miles above the Earth's surface. The <em>c</em>-latency to
        ground via a satellite, i.e., the time for light to travel
        the four-leg trip from plane to satellite to ground
        (Fig.&nbsp;<a class="fig" href="#fig1">1</a>), and back is
        nearly 500 milliseconds.</p>
        <p>Compared to its terrestrial counterpart, we find that
        MSS performance is significantly more variable. Utilizing
        public data from the FCC Broadband America
        study&nbsp;[<a class="bib" data-trigger="hover"
        data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0011">11</a>], from September 2015, we find that
        the rtts were on the order of 1.2 to 1.9 times higher,
        compared to the 599-640 ms on average for terrestrial
        satellite broadband connections. We find that the latency
        variance was substantially higher, with average terrestrial
        standard deviations ranging from 31.9 to 43.1 ms, and MSS
        standard deviations averaging 333 ms, and ranging from 159
        to 707 ms.</p>
        <figure id="fig3">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186057/images/www2018-66-fig3.jpg"
          class="img-responsive" alt="Figure 3" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 3:</span>
            <span class="figure-title">Cabin latency (802.11
            latency) in IFC, measured by the RTT to the first
            traceroute hop for each flight.</span>
          </div>
        </figure>
        <p></p>
        <p>Given the dense, confined space of airline cabins, we
        wondered if 802.11 latencies were contributing to the tail
        latency of IFC. We found that the majority of the time,
        WiFi delays in the cabin typically contribute little to the
        end-to-end latency, plotted in Figure&nbsp;<a class="fig"
        href="#fig3">3</a>. We calculate this cabin latency by
        measuring the RTT to the first traceroute hop, assumed to
        be the WiFi router. We find that, while the latency
        distribution shows a long tail with approximately 5-10% of
        the measurements, stretching to 10s of milliseconds (well
        below the 100s of milliseconds seen in IFC latencie), for
        nearly 70% of probes the cabin WiFi component of latency is
        below 2ms.</p>
      </section>
      <section id="sec-14">
        <header>
          <div class="title-info">
            <h3><span class="section-number">4.2</span> Loss</h3>
          </div>
        </header>
        <p>We measure packet loss by sending a ping every 2 seconds
        and taking the average fraction of pings to <a class=
        "link-inline force-break" href=
        "http://www.google.com">www.google.com</a> that are dropped
        every 100 seconds (50 pings) We plot the distribution of
        packet loss percentage for the two technologies in
        Figure&nbsp;<a class="fig" href="#fig4">4</a>.</p>
        <p>The plot shows the considerable higher reliability of
        DA2GC over MSS. Nearly 75% of DA2GC tests have 0% packet
        loss, while fewer than 12% of MSS tests see the same. In
        addition, all of the DA2GC tests fall below 30% packet
        loss, while 10% of MSS tests have over 30% loss. This
        disparity in packet loss demonstrates the challenges faced
        by MSS packets, including high speeds and altitude. The
        imprecision of directional transmission to a satellite
        22,000 miles away while traveling at hundreds of miles per
        hour is a likely cause of the packet loss experienced on
        MSS flights.</p>
        <figure id="fig4">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186057/images/www2018-66-fig4.jpg"
          class="img-responsive" alt="Figure 4" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 4:</span>
            <span class="figure-title">Distribution of packet loss
            percentage for MSS and DA2GC.</span>
          </div>
        </figure>
        <p></p>
        <p>When we compare MSS performance to its terrestrial
        counterparts, we find packet its packet loss rates are 6.8
        times larger, with terrestrial broadband averaging loss
        rates of 1.38%, compared to the 9.4% average loss rates
        found in our dataset.</p>
      </section>
      <section id="sec-15">
        <header>
          <div class="title-info">
            <h3><span class="section-number">4.3</span>
            Throughput</h3>
          </div>
        </header>
        <p>As with latency, throughput varies based on the
        technology used for communication. As Figure&nbsp;<a class=
        "fig" href="#fig5">5</a>&nbsp;(a) shows, downstream
        throughput for DA2GC ranges from 100kb/s and 800kb/s, while
        throughput for MSS is even more variable, but can achieve
        up to two orders of magnitude larger rates than DA2GC.
        Further, the average and median download speeds for MSS are
        larger than DA2GC. On the other hand, for nearly a third of
        the samples, we find that MSS offers lower downstream
        throughput than DA2GC. In fact, MSS nearly always offers at
        least 10kb/s, while MSS provides small fractions of dial-up
        speeds for a significant number of samples. We see similar
        trends for upstream throughput in Figure&nbsp;<a class=
        "fig" href="#fig5">5</a>&nbsp;(b). The main distinction is
        that the peak throughput and width of the throughput
        distributions are both smaller, clearly indicating
        asymmetric bandwidth allocation.</p>
        <figure id="fig5">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186057/images/www2018-66-fig5.jpg"
          class="img-responsive" alt="Figure 5" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 5:</span>
            <span class="figure-title">Distributions of the
            server-to-client and client-to-server throughput. DA2GC
            systems provide relatively consistent throughput, while
            MSS systems exhibit highly variable performance and
            higher peak throughput.</span>
          </div>
        </figure>
        <p>We speculate that the large variance in throughput is
        partially due to the different MSS bands in use, such as Ku
        and Ka band, which have different throughput capabilities.
        Additionally, the high path loss along the path between the
        plane and satellite can contribute to high losses that
        limit TCP throughput.</p>
        <figure id="fig6">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186057/images/www2018-66-fig6.jpg"
          class="img-responsive" alt="Figure 6" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 6:</span>
            <span class="figure-title">Network latency and path
            loss plotted by latitude and shown in relation to two
            flight paths. We observe greater correlations between
            geographic location and performance characteristics for
            DA2GC than we do for MSS.</span>
          </div>
        </figure>
        <p></p>
      </section>
      <section id="sec-16">
        <header>
          <div class="title-info">
            <h3><span class="section-number">4.4</span> Geographic
            Considerations</h3>
          </div>
        </header>
        <p>Given the large distances and diverse geography covered
        by commercial flights, we would expect to see an effect of
        geographic location on IFC performance. The extent to which
        geography impacts network performance depends, as expected,
        on the particular access technology. The reliance of DA2GC
        on ground stations, for instance, makes it more susceptible
        to the particular coverage of these towers and to
        variations in the underlying geography (e.g., mountains).
        Figure&nbsp;<a class="fig" href="#fig6">6</a> displays the
        latency and packet loss experienced in flight, overlaid
        onto the geographic flight path for a representative flight
        for each access technology. For a given geographic
        coordinate on the blue curve in the map (middle), we plot
        the latency (top) and loss (bottom) measured at that
        location using the same x-coordinate (<em>i.e.,</em> along
        a vertical line that intersects the location on the
        map).</p>
        <p>The figure shows the relative stability of satellite
        services over geographic space (right), while cellular
        technology shows performance degradation and latency and
        packet loss spikes correlated to specific geographic
        locations (left). In particular, latency and packet loss
        spike while the plane traverses northern New Mexico near
        the Arizona and Colorado borders.</p>
      </section>
    </section>
    <section id="sec-17">
      <header>
        <div class="title-info">
          <h2><span class="section-number">5</span> Application
          Performance</h2>
        </div>
      </header>
      <p>In the following paragraphs we focus on DNS and HTTP
      performance.</p>
      <section id="sec-18">
        <header>
          <div class="title-info">
            <h3><span class="section-number">5.1</span> DNS</h3>
          </div>
        </header>
        <p>To evaluate DNS performance in flight, we used the
        locally configured resolver (assigned through DHCP) to
        repeatedly resolve the list of Alexa top 100 sites. For
        each hostname, we performed two sequential resolutions to
        measure the effect of local resolver caching on
        performance.</p>
        <p>The distribution of DNS resolution times for the first
        of the two sequential resolutions is shown in
        Figure&nbsp;<a class="fig" href="#fig7">7</a>. There are
        two clear modes at 10 and 150 ms for DA2GC and 10 and 725
        ms for MSS. The first mode is given by requests served
        directly from the in-flight resolver's cache. The second
        mode is driven by cache misses that require contacting a
        ground DNS server, and is primarily determined by the large
        access latencies between the plane and the ground server.
        The figure also shows the probability of cache hits on
        in-flight appliances. For instance, less than 36.7% of
        first resolutions to the Alexa Top 100 were returned from
        in-plane cache for DA2GC flights, and 39.3% of resolutions
        in the case of MSS. We explore in-flight DNS caching in a
        later section.</p>
        <figure id="fig7">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186057/images/www2018-66-fig7.jpg"
          class="img-responsive" alt="Figure 7" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 7:</span>
            <span class="figure-title">DNS resolution times for the
            first query.</span>
          </div>
        </figure>
        <p></p>
      </section>
      <section id="sec-19">
        <header>
          <div class="title-info">
            <h3><span class="section-number">5.2</span> HTTP</h3>
          </div>
        </header>
        <p>We measured the HTTP performance experienced by IFC
        clients. We conducted our HTTP experiments using
        PhantomJS&nbsp;[<a class="bib" data-trigger="hover"
        data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0023">23</a>] – a fully functional headless
        browser, with full support for Javascript execution. The
        network behavior from a PhantomJS should closely resemble
        that of a GUI-driven browser such as Chrome or Firefox. We
        loaded the Alexa Top 100 sites in order, repeating with a 5
        min. interval between subsequent tests. For each page
        retrieved, PhantomJS created an HTTP Archive (HAR) file for
        later analysis. From these tests we capture the
        <em>onPageLoad</em> events from each browser.</p>
        <p>The large access latencies of each technology, and MSS
        in particular, cause the severe performance degradation on
        modern Web pages containing large numbers of objects and
        dependencies. Figure&nbsp;<a class="fig" href="#fig8">8</a>
        shows the above two events plotted for all pages requested,
        aggregated by access technology. For flights utilizing MSS
        connectivity, the median page load time is <em>more than 30
        sec</em>, and more than 12 sec for DA2GC technology.</p>
        <figure id="fig8">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186057/images/www2018-66-fig8.jpg"
          class="img-responsive" alt="Figure 8" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 8:</span>
            <span class="figure-title">Page load time for Alexa Top
            100, aggregated by IFC technology.</span>
          </div>
        </figure>
        <p></p>
        <p>These inflated load times are due to delays for
        downloading individual HTTP objects on each site. To
        explore this, we capture the timings for each object from
        the HAR file recorded from PhantomJS for each HTTP request.
        Figure&nbsp;<a class="fig" href="#fig9">9</a> plots the
        time to retrieve each HTTP object across the loaded pages,
        for each technology.</p>
        <p>The plot highlights the access-link bottleneck for both
        technologies, evident when considering the small difference
        between the time to download a 1 byte object versus a 100
        KB object. This is particularly visible with satellite
        links (Fig.&nbsp;9b), where most object fetch times are
        between 1–10&nbsp;seconds regardless of size.</p>
        <p>The figure also shows a limited amount of HTTP caching
        on in-flight appliances, identified by cases where the time
        to download an object falls below the minimum RTT
        achievable from each access link (500 ms in satellite and
        50 ms in DA2GC). We combine our analysis of HTTP (and DNS)
        caching in the following section.</p>
        <figure id="fig9">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186057/images/www2018-66-fig10.jpg"
          class="img-responsive" alt="Figure 9" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 9:</span>
            <span class="figure-title">Download time for HTTP
            Objects taken from the Alexa Top 100 sites. Both
            technologies show a small difference in the time it
            takes to download a 1 byte object versus a 100KB
            object.</span>
          </div>
        </figure>
        <p></p>
      </section>
      <section id="sec-20">
        <header>
          <div class="title-info">
            <h3><span class="section-number">5.3</span> Caching in
            the Air</h3>
          </div>
        </header>
        <p>The large latencies for all IFC systems suggests a
        potential for improvement from caching objects on in-flight
        appliances. We now explore the use of caching and policies
        employed on IFC systems as part of our preliminary study.
        We detect DNS caching on all of the flights in our dataset,
        and were able to explicitly verify HTTP caching in 3
        flights.</p>
        <p>For DNS requests, we detect the use of in-flight caching
        by comparing the response time against the minimum ping
        RTT. While it is possible that a cached object may have a
        larger download time than this minimum RTT due to 802.11
        delays, we believe that this scenario is rare considering
        the large RTTs incurred for in-flight communication. For
        HTTP requests, we detected caching for individual objects
        through the <tt>Via</tt> HTTP header, which signals the use
        of proxies in path, when a private IP address was indicated
        as the final proxy traversed.</p>
        <p><strong>DNS Caching. &nbsp;&nbsp;&nbsp;</strong>We first
        explore the use of DNS caching in IFC. As previously
        described, we launched two back-to-back queries immediately
        for each host in the Alexa Top 100 to capture the presence
        of IFC DNS caches. We detect in-flight DNS caching in cases
        where the resolution time was below the minimum ping
        latency found for each flight, approximately 60 ms for
        DA2GC and 600 ms for MSS.</p>
        <figure id="fig10">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186057/images/www2018-66-fig11.jpg"
          class="img-responsive" alt="Figure 10" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 10:</span>
            <span class="figure-title">Sequential DNS queries
            launched adjacently during measurement. A significant
            portion of queries are not cached by the plane's local
            resolver.</span>
          </div>
        </figure>
        <p></p>
        <p>Figure&nbsp;<a class="fig" href="#fig10">10</a> plots
        the results from each sequential DNS resolution, with the
        resolution time from the first response plotted along the
        x-axis and the resolution time from the second response
        along the y-axis. The figures display four cases of
        resolver behavior, separated into quadrants by each
        flight's minimum ping latency: (lower-left) both queries
        served from in-flight caches, (lower-right) cache miss for
        the first and cache hit for the second query, (upper-left)
        cache hit for the first query and cache miss for the
        second, (upper-right) cache miss for both queries.</p>
        <p>We find that first DNS queries are cached in-flight for
        33% and 39% of cases of DA2GC and MSS flights respectively,
        and second queries were cached in 91.4% of DA2GC tests and
        95.6% of MSS tests. However, the figure also shows a large
        fraction in which both the first and second queries were
        not cached (7.7% for MSS and 4.1% for DA2GC), located in
        the upper-right quadrant. While this behavior has been
        identified in previous work&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0003">3</a>], it was due to the
        presence of DNS clusters without shared caches. We do not
        believe that to be the case here, and are continuing to
        investigate the source of this behavior.</p>
        <p><strong>HTTP Object Caching.
        &nbsp;&nbsp;&nbsp;</strong>Despite the high access
        latencies of IFC, we found little HTTP object caching. To
        detect caching for individual HTTP objects we rely on the
        <tt>Via</tt>HTTP header. This header signals the use of
        proxies in path, are chained together for all proxies used
        in an HTTP object's path. Proxies that identify their
        presence do so by appending an identifier, typically using
        the proxy IP address and proxy software (e.g., “squid”), an
        example of which is shown below.</p>
        <p>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<tt>Via&nbsp;:&nbsp;1.0&nbsp;172.19.134.2:3128&nbsp;(squid/2.6.STABLE14)</tt></p>
        <p>Although it is possible that in-path proxies are
        transparent (i.e., they do not identify their presence
        through this header), we identified explicit HTTP proxies
        in three flights in our dataset: DL-2374, SW-2374, and
        UAW-534. In addition to the <tt>Via</tt> header, many
        proxies also append state about their cache operations in
        the HTTP response through the <tt>X-Cache</tt> header. From
        this header, we can identify whether the object was served
        from cache via the “HIT” or “MISS” indicators.</p>
        <figure id="fig11">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186057/images/www2018-66-fig12.jpg"
          class="img-responsive" alt="Figure 11" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 11:</span>
            <span class="figure-title">HTTP object performance for
            objects cached in-plane (HIT) and those not cached on
            the flight (MISS).</span>
          </div>
        </figure>
        <p></p>
        <p>Figure&nbsp;<a class="fig" href="#fig11">11</a> shows
        the HTTP object performance for objects cached in-plane
        (HIT) and those not cached on the flight (MISS). While
        objects cached on the plane result in significantly better
        performance (particularly for MSS), the object download
        times are still larger than would be expected based on WiFi
        latency alone.</p>
        <p>An interesting observation is that for DL-2374, more
        than 80% of the cache HITs took longer than 100 ms, which
        is longer than the minimum ping-based Internet RTT for that
        flight. It is unclear why this process takes so long for
        objects cached aerially; exploring potential reasons is
        part of ongoing work.</p>
      </section>
    </section>
    <section id="sec-21">
      <header>
        <div class="title-info">
          <h2><span class="section-number">6</span> Comparing
          Improvements</h2>
        </div>
      </header>
      <p>In this section, we extend our IFC study exploring the
      potential of alternative application protocols HTTP2 and
      QUIC&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href="#BibPLXBIB0013">13</a>],
      and some proposed link technology improvements. For this
      analysis, we use emulation driven by parameters derived from
      two representative flights for each IFC technology. For our
      DA2GC flight we modeled the link with average values for
      DA2GC [BW=0.468 Mb/s, RTT=262 ms, loss=3.3%], and MSS
      [BW=1.89 Mb/s, RTT=761 ms, loss=6%]. We use <tt>tc</tt> and
      <tt>netem</tt>&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0026">26</a>] to model network conditions after
      the performance of in-flight Wi-Fi.</p>
      <figure id="fig12">
        <img src=
        "../../../data/deliveryimages.acm.org/10.1145/3190000/3186057/images/www2018-66-fig13.jpg"
        class="img-responsive" alt="Figure 12" longdesc="" />
        <div class="figure-caption">
          <span class="figure-number">Figure 12:</span>
          <span class="figure-title">Results from running HTTP,
          HTTP/2, and QUIC over simulated network conditions. On
          average, objects load faster with QUIC over both
          technologies, indicating it would be a viable option for
          adoption regardless of IFC technology.</span>
        </div>
      </figure>
      <p>We downloaded different numbers of web pages of increasing
      size, such as a page consisting of one 100KB object to a page
      consisting of two 500KB objects. The objects are downloaded
      over three different protocols: HTTP/1.1, HTTP/2, QUIC. We
      measure the page load time (PLT) of the web pages over 10
      tests each and graph the three protocols side by side for the
      simulated network conditions of the DA2GC and MSS
      flights.</p>
      <section id="sec-22">
        <header>
          <div class="title-info">
            <h3><span class="section-number">6.1</span> Protocol
            Evaluation</h3>
          </div>
        </header>
        <p>We analyze the benefits of adopting the HTTP/2 and QUIC
        protocols, over HTTP/1.1, to users in the IFC environment.
        Prior work has shown that SPDY – the protocol for which
        HTTP/2 is based – had mixed performance results in high
        latency and loss environments, due to head-of-line blocking
        of its single TCP connection in the face of dropped
        packets. Wang et al. showed that in high latency and loss
        environments, SPDY often performed worse than traditional
        HTTP&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
        "popover" data-placement="top" href=
        "#BibPLXBIB0027">27</a>].</p>
        <p>QUIC is similar to SPDY in that it multiplexes many
        requests into a single flow, yet with less potential for
        head-of-line blocking since loss is handled separately
        within each request in the same flow&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0017">17</a>]. QUIC can also be
        quicker to start than TCP due to its 0-RTT feature which
        for repeated connections do not require a separate
        handshake.</p>
        <p>Figure&nbsp;<a class="fig" href="#fig12">12</a> shows
        the average performance for each protocol over simulated
        network conditions of competing connection technologies,
        with error bars representing the standard deviation over
        the samples. We find that, on average, QUIC performs better
        than the other two protocols, particularly when loading
        larger objects such as a 1MB object. In addition, QUIC
        performs better than HTTP/1.1 and HTTP/2 in both of the
        simulated environments, capable of improving PLT times by
        50%. Adopting QUIC for IFC systems would improve users’ QoE
        across technologies and providers.</p>
      </section>
      <section id="sec-23">
        <header>
          <div class="title-info">
            <h3><span class="section-number">6.2</span> Potential
            of Technological Improvements</h3>
          </div>
        </header>
        <p>Last, we evaluate potential technological improvements
        of existing IFC technologies. Planned upgrades to current
        IFC infrastructures include technologies such as 2Ku
        satellite systems and LTE-based DA2GC. To evaluate these
        new technologies, and in an absence of actual link
        properties of these technologies, we explore the parameter
        space for IFC technologies by performing the same network
        emulation used in the previous section, and varying a
        single link parameter – doubling the link bandwidth,
        halving packet loss rates and halving link latencies – to
        understand which is the most impactful in improving future
        performance. This doubling is derived from the newly
        released 2Ku satellite technology, which exactly double the
        bandwidth of existing Ku systems through channel
        bonding.</p>
        <p>Figure&nbsp;<a class="fig" href="#fig13">13</a> shows
        the performance of different web protocols over these
        hypothetical network conditions. In each row of the grid,
        we modify a single link parameter from the original link
        characteristics used in the previous section for network
        emulation – bandwidth, latency and loss – and compare the
        performance of each protocol to the existing technology. In
        descending row order, we doubled the bandwidth to 3.77 and
        0.936 Mbps, decreased the latency to 380.5 ms and 131 ms,
        decreased the packet loss to 3% and 1.65% for MSS and DA2GC
        respectively.</p>
        <p>Our emulation results found that doubling the bandwidth
        resulted in little, if any, reduction in PLT. For our MSS
        emulation, increasing the bandwidth resulted in a 1.6%
        overall reduction in PLT for HTTP, a 5.9% increase for
        HTTP2 and a 0.9% reduction for QUIC. For DA2GC,
        surprisingly, all three protocols yielded slightly higher
        PLTs, on average, after the bandwidth increased, indicating
        other properties are more determinant of IFC performance.
        Much of the conversation revolving around IFC technologies
        and user quality of experience has centered around the
        throughput of these technologies, yet it is clear from our
        experiments that for IFC, improving throughput does little
        to improve performance of applications such as web
        browsing.</p>
        <p>In contrast, halving the latency and loss of each link
        greatly reduced load times, with loss reduction having the
        largest impact for both technologies. For DA2GC, reducing
        latency by half reduces load times an average of 88.2%
        across the three protocols, and reducing the loss by half
        averages a 92.5% reduction. MSS experienced similar
        performance improvements across protocols. For MSS,
        reducing the latency resulted in a 38.2% decrease in load
        time for HTTP/1.1 and HTTP/2, while halving the loss rate
        provided a 51% decrease for both HTTP protocols.</p>
        <p>While reducing the latency and loss for IFC technologies
        may be challenging, the parameter exploration presented
        allows us to view the major bottlenecks in
        <em>existing</em> performance. For instance, HTTP/2
        performed consistently worse than HTTP/1.1 over both IFC
        technologies. The vast performance improvements obtained in
        the reduced loss environment allow us to deduce that the
        high loss of both IFC technologies is adversely affecting
        TCP performance, and HTTP/2’s multiplexing of requests onto
        a single TCP flow only exacerbates this problem. Similarly,
        the loss sensitivity of TCP partly explains the vastly
        improved performance of QUIC over MSS, since QUIC
        incorporates improved loss recovery
        mechanisms&nbsp;[<a class="bib" data-trigger="hover"
        data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0017">17</a>]. Our results make it clear that
        existing IFC performance can be greatly improved by
        optimizing other layers of the network stack, suck as the
        transport layer, even with existing technology.</p>
        <figure id="fig13">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186057/images/www2018-66-fig14.jpg"
          class="img-responsive" alt="Figure 13" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 13:</span>
            <span class="figure-title">Performance of the three
            different web protocols over varied emulated network
            conditions (orange) compared to existing network
            conditions (blue). Each row modifies a single
            parameter, doubling bandwidth, halving latency and
            halving loss, for each IFC technology.</span>
          </div>
        </figure>
        <p></p>
      </section>
    </section>
    <section id="sec-24">
      <header>
        <div class="title-info">
          <h2><span class="section-number">7</span> Discussion</h2>
        </div>
      </header>
      <p>Our study shows that while today's IFC systems provide
      sufficient connectivity to support consumer-grade Internet
      service, there remains a significant set of challenges for
      IFC performance and reliability to come close to those from
      terrestrial wireless and fixed-line networks.</p>
      <p>While the physical link remains the bottleneck in existing
      IFC deployments, we found several alternative solutions that
      can vastly improve existing performance. For example, the
      most popular transport protocol, TCP, was not designed for
      the high latencies and packet loss rates of satellite links.
      However, we find that Google's QUIC transport protocol, which
      handles variable latency and loss much more gracefully than
      TCP, exhibits good PLT performance (2.5x faster than TCP) in
      the challenging IFC environment. Thus, a reasonable approach
      to improving IFC performance today is for content providers
      to adopt this technology, or even for the deployment of
      TCP-to-QUIC proxies for the satellite link.</p>
      <p>We also found that improving DA2GC access technologies
      will improve PLTs; however, this is not the case for newer
      MSS bands. Further, we note that the application layer
      protocol can significantly impact performance. Specifically,
      HTTP/2 over TCP performs several times worse than HTTP/1.1.
      Thus it is clear that careful, end-to-end evaluations of new
      technologies are required to understand whether they will
      yield gains in the IFC environment.</p>
      <p>As IFC performance and reliability improve, there is
      potential to use it to augment and extend existing
      air-traffic-control (ATC) and air-traffic-management (ATM)
      systems&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0018">18</a>, <a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0024">24</a>]. This has the advantages of
      providing a high bandwidth, reliable and secure data link
      between aircraft, ATC and carriers, to improve the efficiency
      and safety of air travel. Our results indicate that today's
      IFC provides sufficient capabilities to complement ATC/ATM as
      deployed today, and we believe that improvements to
      connectivity will further open the door to innovations and
      improvements in the air travel ecosystem.</p>
      <section id="sec-25">
        <header>
          <div class="title-info">
            <h3><span class="section-number">7.1</span> Comparing
            IFC</h3>
          </div>
        </header>
        <p>Considering the variety of carriers, IFC providers, and
        access technologies, there is a question of how one should
        compare IFC measurements to provide meaningful analysis. As
        we have seen, the particulars of the access technology play
        a dominant role in network characteristics and service
        performance.</p>
        <p>Our analysis shows that while access technology largely
        determines link latencies, throughput is a combination of
        access technology and IFC provider policies. Access
        technology plays a dominant role in determining the latency
        of in-flight communication. The drastic differences between
        access technology limitations is mostly due to the high
        speed-of-light delay for satellites communications. Each
        MSS round trip must travel over 88,000 miles (22,000 x 4)
        incurring 472 ms of light travel for this last mile
        alone.</p>
        <figure id="fig14">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186057/images/www2018-66-fig16.jpg"
          class="img-responsive" alt="Figure 14" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 14:</span>
            <span class="figure-title">Downstream throughput for
            each IFC provider.</span>
          </div>
        </figure>
        <p></p>
        <p>We find throughput is more dependent on the IFC
        provider, and their underlying policies, than on particular
        access technologies. Access technology does place upper
        bounds on data throughput, however. DA2GC technologies are
        currently limited to 3.2 Mbps, while Ku band have a limit
        of 10 Mbps and Ka+ band have a limit of 100 Mbps in MSS.
        Our results show that individual provider policies have a
        much larger impact on the achieved throughput. For
        instance, we found MSS provider Row 44 is unable to provide
        throughput larger than 100 kbps, most likely due to
        throttling applied to each user. Results of NDT measured
        throughput grouped by each IFC provider in our dataset are
        shown in Figure&nbsp;<a class="fig" href=
        "#fig14">14</a>.</p>
      </section>
    </section>
    <section id="sec-26">
      <header>
        <div class="title-info">
          <h2><span class="section-number">8</span> Related
          Work</h2>
        </div>
      </header>
      <p>In-Flight Communication is a challenging and mostly
      unexplored area for networking research at the transport
      layer and above. Our earlier position paper&nbsp;[<a class=
      "bib" data-trigger="hover" data-toggle="popover"
      data-placement="top" href="#BibPLXBIB0024">24</a>] reported a
      subset of preliminary results from our experiments. This work
      represents, to the best of our knowledge, the first
      comprehensive characterization of the performance of IFC
      deployed systems.</p>
      <p>IFC has become possible due in part to the advancements of
      link layer technologies in both satellite
      systems&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0007">7</a>, <a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0028">28</a>] and in DA2GC&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0006">6</a>]. In previous work, we
      advocated for a shift of air traffic management to a common
      IP-based data channel to support flight communication, and
      identified several opportunities where this could greatly
      increase the scalability of the global airline
      system&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href="#BibPLXBIB0024">24</a>].
      With similar goals, Ayaz et al.&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0004">4</a>] describe a proposed design
      for a IPv6-based Aeronautical Telecommunication Network.</p>
      <p>Another line of research explores the feasibility of
      connectivity through airborne MANETs&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0015">15</a>, <a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0016">16</a>, <a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0021">21</a>, <a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0025">25</a>]. While these proposals
      have the potential to add new avenues of connectivity for
      aeronautical networks, they have yet to be implemented.</p>
    </section>
    <section id="sec-27">
      <header>
        <div class="title-info">
          <h2><span class="section-number">9</span> Conclusion</h2>
        </div>
      </header>
      <p>We presented the first characterization of deployed IFC
      systems using over 45 flight-hours of measurements, over 16
      flights and six different airlines. Our analysis shows that
      IFC QoS is in large part determined by the high latencies
      inherent to DA2GC and MSS and that these latencies directly
      impact the performance of common applications such as web
      browsing. In addition, we found very high link loss rates for
      IFC – nearly 40% loss at the 90th percentile for MSS – that
      severely impact the performance of TCP and other loss-based
      congestion-control protocols. We explored the potential of
      alternative protocols and upcoming technology improvements.
      Using empirically-informed emulation we found that the
      recently released HTTP/2 protocol performs poorly due to the
      aforementioned high loss, while the recent QUIC protocol
      outperforms HTTP/1.1 over TCP in large part due to its
      advanced delay inference and loss recovery techniques.</p>
      <p>There are a number of future directions we plan to
      explore, including evaluating the potential benefits of
      hybrid DA2GC/MSS systems, alternative content-caching
      strategies, and exploring the technical challenges of
      supporting real-time and/or high-bandwidth connections, both
      for relaying critical flight information and supporting rich
      media applications.</p>
    </section>
  </section>
  <section class="back-matter">
    <section id="sec-28">
      <header>
        <div class="title-info">
          <h2>ACKNOWLEDGMENTS</h2>
        </div>
      </header>
      <p>The authors would like to thank the anonymous WWW
      reviewers for their valuable comments and helpful
      suggestions. This work was partially funded by the National
      Science Foundation (CNS-1218287) and a Google Research Award.
      All opinions expressed are those of the authors and do no
      necessarily reflect the view of NSF or Google.</p>
    </section>
    <section id="ref-001">
      <header>
        <div class="title-info">
          <h2 class="page-brake-head">REFERENCES</h2>
        </div>
      </header>
      <ul class="bibUl">
        <li id="BibPLXBIB0001" label="[1]">2015. The Prefix WhoIs
        Project. <a class="link-inline force-break" href=
        "http://www.pwhois.org" target=
        "_blank">http://www.pwhois.org</a>. (2015). <a class=
        "link-inline force-break" href="http://www.pwhois.org"
        target="_blank">http://www.pwhois.org</a>
        </li>
        <li id="BibPLXBIB0002" label="[2]">Honeywell Aerospace.
        2014. In Flight Connectivity Survey. <a class=
        "link-inline force-break" href=
        "https://aerospace.honeywell.com/press-release-listing"
        target=
        "_blank">https://aerospace.honeywell.com/press-release-listing</a>.
        (July 2014).
        </li>
        <li id="BibPLXBIB0003" label="[3]">Bernhard Ager, Wolfgang
        Mühlbauer, Georgios Smaragdakis, and Steve Uhlig. 2010.
        Comparing DNS Resolvers in the Wild. In <em><em>Proc.
        IMC</em></em> .</li>
        <li id="BibPLXBIB0004" label="[4]">Serkan Ayaz, Christian
        Bauer, Christian Kissling, Frank Schreckenbach, Fabrice
        Arnal, Cedric Baudoin, Katia Leconte, Max Ehammer, and
        Thomas Graeupl. 2009. Architecture of an IP-based
        Aeronautical Network. In <em><em>Proc. of ICNS</em></em> .
        IEEE, 1–9.</li>
        <li id="BibPLXBIB0005" label="[5]">Lets&nbsp;Fly Cheaper.
        [n. d.]. Airlines That Offer Inflight WiFi- The Definitive
        2017 List. <a class="link-inline force-break" href=
        "https://www.letsflycheaper.com/blog/airlines-2/airlines-that-offer-inflight-wifi/"
          target=
          "_blank">https://www.letsflycheaper.com/blog/airlines-2/airlines-that-offer-inflight-wifi/</a>.
          ([n. d.]).
        </li>
        <li id="BibPLXBIB0006" label="[6]">Shun-Ping Chen. 2014.
        Perfomance analysis and optimization of DA2GC using LTE
        advanced technology. In <em><em>Proc. VITAEw</em></em>
        .</li>
        <li id="BibPLXBIB0007" label="[7]">Paolo Chini, Giovanni
        Giambene, and Sastri Kota. 2010. A survey on mobile
        satellite systems. <em><em>International Journal of
        Satellite Communications and Networking</em></em> 28,
        1(2010), 29–57.</li>
        <li id="BibPLXBIB0008" label="[8]">Electronics
        Communications Committee. 2014. <em><em>Broadband
        Direct-Air-to-Ground Communications (DA2GC)</em></em> .
        Technical Report ECC-214. CEPT.</li>
        <li id="BibPLXBIB0009" label="[9]">Euroconsult. 2016.
        Passenger Connectivity Services to Surpass <font style=
        "normal">$</font>5 Billion by 2025. <a class=
        "link-inline force-break" href=
        "http://www.euroconsult-ec.com/4_February_2016" target=
        "_blank">http://www.euroconsult-ec.com/4_February_2016</a>.
        (February 2016).
        </li>
        <li id="BibPLXBIB0010" label="[10]">FastCompany. [n. d.].
        How Terrible In-Flight Wi-Fi Will Finally Become A Thing Of
        The Past. <a class="link-inline force-break" href=
        "https://www.fastcompany.com/3042609/how-terrible-in-flight-wi-fi-will-finally-become-a-thing-of-the-past"
          target=
          "_blank">https://www.fastcompany.com/3042609/how-terrible-in-flight-wi-fi-will-finally-become-a-thing-of-the-past</a>.
          ([n. d.]).
        </li>
        <li id="BibPLXBIB0011" label="[11]">FCC. [n. d.]. Measuring
        Broadband America. <a class="link-inline force-break"
          href="http://www.fcc.gov/measuring-broadband-america"
          target=
          "_blank">http://www.fcc.gov/measuring-broadband-america</a>.
          ([n. d.]).
        </li>
        <li id="BibPLXBIB0012" label="[12]">GoGo. [n. d.]. GoGo Biz
        Wireless Network for Aircraft. <a class=
        "link-inline force-break" href=
        "https://business.gogoair.com/technology/north-american-broadband-network/gogo-biz/"
          target=
          "_blank">https://business.gogoair.com/technology/north-american-broadband-network/gogo-biz/</a>.
          ([n. d.]).
        </li>
        <li id="BibPLXBIB0013" label="[13]">Google, QUIC. [n. d.].
        QUIC, a multiplexed stream transport over UDP. <a class=
        "link-inline force-break" href=
        "https://www.chromium.org/quic" target=
        "_blank">https://www.chromium.org/quic</a>. ([n. d.]).
        </li>
        <li id="BibPLXBIB0014" label="[14]">Inmarsat. [n. d.].
        Inflight Connectivity Survey. <a class=
        "link-inline force-break" href=
        "https://www.inmarsat.com/aviation/commercial-aviation/in-flight-connectivity-survey"
          target=
          "_blank">https://www.inmarsat.com/aviation/commercial-aviation/in-flight-connectivity-survey</a>.
          ([n. d.]).
        </li>
        <li id="BibPLXBIB0015" label="[15]">Kimon Karras, Theodore
        Kyritsis, Massimiliano Amirfeiz, and Stefano Baiotti. 2008.
        Aeronautical mobile ad hoc networks. In <em><em>Proc.
        European Wireless Conference</em></em> .</li>
        <li id="BibPLXBIB0016" label="[16]">Ryan&nbsp;W. Kingsbury.
        2009. <em>Mobile Ad hoc networks for oceanic aircraft
        communications</em>. Ph.D. Dissertation. Massachusetts
        Institute of Technology.</li>
        <li id="BibPLXBIB0017" label="[17]">Adam Langley, Alistair
        Riddoch, Alyssa Wilk, Antonio Vicente, Charles Krasic, Dan
        Zhang, Fan Yang, Fedor Kouranov, Ian Swett, Janardhan
        Iyengar, Jeff Bailey, Jeremy Dorfman, Jim Roskind, Joanna
        Kulik, Patrik Westin, Raman Tenneti, Robbie Shade, Ryan
        Hamilton, Victor Vasiliev, Wan-Teh Chang, and Zhongyi Shi.
        2017. The QUIC Transport Protocol: Design and
        Internet-Scale Deployment. In <em><em>Proc. ACM
        SIGCOMM</em></em> .</li>
        <li id="BibPLXBIB0018" label="[18]">Oliver Lücke and
        Eriza&nbsp;Hafid Fazli. 2011. A Networking Testbed for
        IPv6-Based Future Air Traffic Management (ATM) Network.. In
        <em><em>Personal Satellite Services</em></em> .
        <em>Springer</em>.</li>
        <li id="BibPLXBIB0019" label="[19]">M-Lab. [n. d.]. NDT
        (Network Diagnostic Test). <a class=
        "link-inline force-break" href=
        "http://www.measurementlab.net/tools/ndt" target="_blank">
          http://www.measurementlab.net/tools/ndt</a>. ([n. d.]).
        </li>
        <li id="BibPLXBIB0020" label="[20]">Markets and Markets.
        2015. Commercial Aviation In Flight Entertainment and
        Communications Market (2012 - 2017). <a class=
        "link-inline force-break" href=
        "http://www.marketsandmarkets.com/Market-Reports/in-flight-entertainment-communications-market-860.html"
          target=
          "_blank">http://www.marketsandmarkets.com/Market-Reports/in-flight-entertainment-communications-market-860.html</a>.
          (September 2015).
        </li>
        <li id="BibPLXBIB0021" label="[21]">Daniel Medina, Felix
        Hoffmann, Serkan Ayaz, and C-H. Rokitansky. 2008.
        Feasibility of an aeronautical mobile ad hoc network over
        the north atlantic corridor. In <em><em>Proc. of
        SECON</em></em> .</li>
        <li id="BibPLXBIB0022" label="[22]">Northern Sky Research.
        2013. The In-Flight Connectivity Market. <a class=
        "link-inline force-break" href=
        "http://www.nsr.com/upload/presentations/NSR_Webinar-_The_In-Flight_Connectivity_Market-_A_Boom_for_the_Satellite_Industry.pdf"
          target=
          "_blank">http://www.nsr.com/upload/presentations/NSR_Webinar-_The_In-Flight_Connectivity_Market-_A_Boom_for_the_Satellite_Industry.pdf</a>.
          (October 2013).
        </li>
        <li id="BibPLXBIB0023" label="[23]">PhantomJS. [n. d.].
        PhantomJS | PhantomJS. <a class="link-inline force-break"
        href="http://phantomjs.org" target=
        "_blank">http://phantomjs.org</a>. ([n. d.]).
        </li>
        <li id="BibPLXBIB0024" label="[24]">John&nbsp;P Rula,
        Fabián&nbsp;E Bustamante, and David&nbsp;R Choffnes. 2016.
        When IPs Fly: A Case for Redefining Airline Communication.
        In <em><em>Proc. of HotMobile</em></em> .</li>
        <li id="BibPLXBIB0025" label="[25]">Ehssan Sakhaee and
        Abbas Jamalipour. 2006. The global in-flight Internet.
        <em><em>IEEE JSAC</em></em> 24, 9 (2006), 1748–1757.</li>
        <li id="BibPLXBIB0026" label="[26]">The Linux Foundation,
        NETEM. [n. d.]. NETEM. <a class="link-inline force-break"
        href=
        "http://www.linuxfoundation.org/collaborate/workgroups/networking/netem"
          target=
          "_blank">http://www.linuxfoundation.org/collaborate/workgroups/networking/netem</a>.
          ([n. d.]).
        </li>
        <li id="BibPLXBIB0027" label="[27]">Xiao&nbsp;Sophia Wang,
        Aruna Balasubramanian, Arvind Krishnamurthy, and David
        Wetherall. 2014. How speedy is SPDY?. In <em><em>Proc.
        USENIX NSDI</em></em> .</li>
        <li id="BibPLXBIB0028" label="[28]">William Wu, Edward
        Miller, Wilbur Pritchard, and Raymond Pickholtz. 1994.
        Mobile satellite communications. <em><em>Proc. of the
        IEEE</em></em> 82, 9 (1994), 1431–1448.</li>
      </ul>
    </section>
  </section>
  <section id="foot-001" class="footnote">
    <header>
      <div class="title-info">
        <h2>FOOTNOTE</h2>
      </div>
    </header>
    <p id="fn1"><a href="#foot-fn1"><sup>1</sup></a>Using
    delay-based inference, we believe filtering occurs on the
    ground stations; we have not yet been able to validate
    this.</p>
    <div class="bibStrip">
      <p>This paper is published under the Creative Commons
      Attribution 4.0 International (CC-BY&nbsp;4.0) license.
      Authors reserve their rights to disseminate the work on their
      personal and corporate Web sites with the appropriate
      attribution.</p>
      <p><em>WWW '18, April 23-27, 2018, Lyon, France</em></p>
      <p>© 2018; IW3C2 (International World Wide Web Conference
      Committee), published under Creative Commons CC-BY&nbsp;4.0
      License.<br />
      ACM ISBN 978-1-4503-5639-8/18/04.DOI: <a class=
      "link-inline force-break" target="_blank" href=
      "https://doi.org/10.1145/3178876.3186057">https://doi.org/10.1145/3178876.3186057</a></p>
    </div>
  </section>
  <div class="pubHistory">
    <p></p>
  </div>
</body>
</html>
