<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta name="generator" content=
  "HTML Tidy for HTML5 for Linux version 5.7.16" />
  <title>When Online Dating Meets Nash Social Welfare: Achieving
  Efficiency and Fairness</title>
  <!-- Copyright (c) 2010-2015 The MathJax Consortium -->
  <meta http-equiv="Content-Type" content=
  "text/html; charset=utf-8" />
  <meta name="viewport" content=
  "width=device-width; initial-scale=1.0;" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="screen, print" rel="stylesheet" href=
  "../../../data/dl.acm.org/pubs/lib/css/bootstrap.min.css" />
  <link media="screen, print" rel="stylesheet" href=
  "../../../data/dl.acm.org/pubs/lib/css/bootstrap-theme.min.css" />
  <link media="screen, print" rel="stylesheet" href=
  "../../../data/dl.acm.org/pubs/lib/css/main.css" />
  <script src="../../../data/dl.acm.org/pubs/lib/js/jquery.min.js" type=
  "text/javascript"></script>
  <script src="../../../data/dl.acm.org/pubs/lib/js/bootstrap.min.js"
  type="text/javascript"></script>
  <script src="../../../data/dl.acm.org/pubs/lib/js/bibCit.js" type=
  "text/javascript"></script>
  <script src="../../../data/dl.acm.org/pubs/lib/js/divTab.js" type=
  "text/javascript"></script>
  <script type="text/javascript" src=
  "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML"></script>
  <script type="text/x-mathjax-config">
  <![CDATA[
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
  ]]>
  </script>
</head>
<body id="main">
  <section class="front-matter">
    <section>
      <header class="title-info">
        <div class="journal-title">
          <h1><span class="title">When Online Dating Meets Nash
          Social Welfare: Achieving Efficiency and
          Fairness</span><br />
          <span class="subTitle"></span></h1>
        </div>
      </header>
      <div class="authorGroup">
        <div class="author">
          <span class="givenName">Yongzheng</span> <span class=
          "surName">Jia</span>, Tsinghua University, <a href=
          "mailto:jiayz13@mails.tsinghua.edu.cn">jiayz13@mails.tsinghua.edu.cn</a>
        </div>
        <div class="author">
          <span class="givenName">Xue</span> <span class=
          "surName">Liu</span>, McGill University, <a href=
          "mailto:xueliu@cs.mcgill.ca">xueliu@cs.mcgill.ca</a>
        </div>
        <div class="author">
          <span class="givenName">Wei</span> <span class=
          "surName">Xu</span>, Tsinghua University, <a href=
          "mailto:wei.xu.0@gmail.com">wei.xu.0@gmail.com</a>
        </div>
      </div><br />
      <div class="pubInfo">
        <p>DOI: <a href="https://doi.org/10.1145/3178876.3186109"
        target=
        "_blank">https://doi.org/10.1145/3178876.3186109</a><br />
        WWW '18: <a href="https://doi.org/10.1145/3178876" target=
        "_blank">Proceedings of The Web Conference 2018</a>, Lyon,
        France, April 2018</p>
      </div>
      <div class="abstract">
        <p><small>Mobile dating applications such as Coffee Meets
        Bagel, Tantan, and Tinder, have become significant for
        young adults to meet new friends and discover romantic
        relationships. From a system designer's perspective, in
        order to achieve better user experience in these
        applications, we should take both the <em>efficiency</em>
        and <em>fairness</em> of a dating market into
        consideration, so as to increase the overall satisfaction
        for all users. Towards this goal, we investigate the nature
        of diminishing marginal returns for online dating markets
        (i.e., captured by the submodularity), and trade-off
        between the efficiency and fairness of the market with Nash
        social welfare. We further design effective online
        algorithms to the apps. We verify our models and algorithms
        through sound theoretical analysis and empirical studies by
        using real data and show that our algorithms can
        significantly improve the ecosystems of the online dating
        applications.</small></p>
      </div>
      <div class="classifications">
        <div class="AcmReferenceFormat">
          <p><small><span style="font-weight:bold;">ACM Reference
          Format:</span><br />
          Yongzheng Jia, Xue Liu, and Wei Xu. 2018. When Online
          Dating Meets Nash Social Welfare: Achieving Efficiency
          and Fairness. In <em>WWW 2018: The 2018 Web
          Conference,</em> <em>April 23–27, 2018,</em> <em>Lyon,
          France. ACM, New York, NY, USA,</em> 11 Pages. <a href=
          "https://doi.org/10.1145/3178876.3186109" class=
          "link-inline force-break" target=
          "_blank">https://doi.org/10.1145/3178876.3186109</a></small></p>
        </div>
      </div>
    </section>
  </section>
  <section class="body">
    <section id="sec-4">
      <header>
        <div class="title-info">
          <h2><span class="section-number">1</span>
          Introduction</h2>
        </div>
      </header>
      <p>Online dating applications are more and more ubiquitous
      and becoming an integral part of young adults’ everyday
      lives. These applications&nbsp;<a class="fn" href="#fn1" id=
      "foot-fn1"><sup>1</sup></a>, such as Coffee Meets
      Bagel&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href="#BibPLXBIB0001">1</a>],
      Tantan&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href="#BibPLXBIB0003">3</a>],
      and Tinder&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0004">4</a>], provide platforms for people to make
      new friends with various purposes including meeting new
      friends and developing personal or romantic relationships.
      The report in&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0005">5</a>] shows that the percentage of online
      dating users in the USA triples (i.e., from 5% to 15%) from
      2013 to 2016. Tinder consistently ranks as one of the top 10
      grossing apps in Apple's online store, with more than 50
      million active users&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0014">14</a>]. It is also reported that Coffee
      Meets Bagel has created 997 million matches and more than
      50,000 happy couples in long-standing
      relationships&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0006">6</a>]. Tantan claims 60 million registered
      users, of which 6 million are active on a daily
      basis&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href=
      "#BibPLXBIB0007">7</a>].</p>
      <p>Behind the great success of the online dating apps is the
      <em>double opt-in</em> design, which provides the users with
      appealing online dating experiences: For instance, all of the
      above three apps present potential matches with profile cards
      that a user can swipe through within the app. Each profile
      card includes a deck of photos and an optional text-based
      biography. Each user has two main activities: pass (i.e., a
      “swipe-left”) and like (i.e., a “swipe-right”) on the profile
      cards. These dating apps only notify the users when both
      sides like each other (i.e., referred to as a
      <em>match</em>). Only matched users can start conversations.
      The double opt-in design turns the complex, anxious, and a
      sometimes awkward act of introducing oneself to another
      person into a simple yet playful experience&nbsp;[<a class=
      "bib" data-trigger="hover" data-toggle="popover"
      data-placement="top" href="#BibPLXBIB0046">46</a>]. This
      design motivates users to discover more profiles and get more
      matches.</p>
      <p>To achieve better user experience in these emerging dating
      apps, a system designer should consider both
      <em>efficiency</em> and <em>fairness</em> of the dating
      markets. Efficiency means that the apps should make as many
      matches as possible in the market. This is similar to
      maximizing the social welfare.</p>
      <p>In the meantime, we should also consider fairness of the
      dating market, which is often ignored by the designers of the
      apps. Most dating apps follow the <em>freemium strategy</em>,
      in which the basic features are free to all, while the paying
      users get premium services. Examples of premium services
      include Tinder <em>Boost</em>, Tinder <em>Plus</em> and
      Coffee Meets Bagel <em>Woo</em>. The dating apps give more
      preferences to the paying users. However, these preferences
      may introduce unfairness, causing the non-paying users more
      difficult to get matches. For example, those who use Boost
      will have much more opportunities to be shown to others and
      hence get more matches than those who do not. A more “fair”
      situation is that the app should help both active paying
      users and non-paying users get a number of matches.</p>
      <p>Keeping the non-paying users a number of matches is
      important to the system designer as it leads to higher
      retention: We analyze the correlation between the users’
      retention rates and number of matches based on the data from
      online dating apps. We find that users with few matches
      (usually, these are “less attractive users”) are often
      frustrated, hence they tend to become inactive with low
      retention rates (We show the detailed analysis in
      Section&nbsp;<a class="sec" href="#sec-8">3.2</a>).</p>
      <p>Each online dating application is a sophisticated
      ecosystem resulting from the interactions of many factors. To
      better understand the fairness problems discussed above, we
      classify the factors into two categories: the
      <em>uncontrollable</em> factors (i.e., mainly determined by
      the user's attractiveness), and the <em>controllable</em>
      factors (i.e., caused by the policies and algorithms used in
      the app). For the uncontrollable factors, there exists a
      natural and intrinsic unfairness as a consequence of the
      attractiveness for people's appearance. Moreover, it is
      reported in&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0023">23</a>] that users tend to pursue attractive
      users regardless of their own appearance in online dating.
      This tendency causes that a small group of attractive users
      can get matches much more easily than others. For the
      controllable factors, Tinder and some other online dating
      apps can control each recommendation by showing a user's
      profile card to another or not. Furthermore, the dating apps
      can also control the privileges to the paying users, so as to
      trade-off the revenue and the fairness of the dating market.
      In this work, we only focus on the discussion of the
      controllable factors: to improve both efficiency and fairness
      for the online dating ecosystems based on economic models and
      online algorithm design. We show that our algorithms can
      significantly improve the efficiency and fairness of the
      online dating market, and the online dating apps can use them
      to relieve the effect of the uncontrollable factors to
      provide better user experiences.</p>
      <p>Existing studies such as&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0031">31</a>]&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0039">39</a>] and&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0042">42</a>] observe the imbalanced
      distributions of matches on Tinder, implying the importance
      of fairness. However, they do not propose sound solutions to
      the problem.</p>
      <p>It is challenging to design and implement an online dating
      market to be both efficient and fair. There are three key
      challenges to overcome. <em>First</em>, the objectives of
      efficiency and fairness do not often align with each other.
      It is difficult to present appropriate performance metric to
      trade off these objectives within one systematic framework.
      <em>Second</em>, the algorithms deployed for the apps should
      run fast enough and scale to enormous user activities. For
      example, Tinder processes billions of events per day,
      generating terabytes of data&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0046">46</a>], hence a slow algorithm
      degrades the user's experience significantly. <em>Last but
      not least,</em> the algorithms should be <em>online</em> to
      deal with unpredictable user activities. The online
      requirement is important because it is hard to predict when
      the users begin/stop swiping; how many profile cards they
      will swipe on. Furthermore, their preferences for matches may
      also vary over time.</p>
      <p>To the best of our knowledge, this is the first work to
      present a generalized model to achieve both efficient and
      fair online dating markets based on the data-driven studies,
      with the goal of designing fast online algorithms:</p>
      <p><em>First,</em> we present a systematic and generalized
      model for the dating markets to trade off the objectives
      between efficiency and fairness. We find the match goal based
      on the correlation between users’ retention rates and number
      of matches from data of online dating apps, and discover the
      property of <em>diminishing marginal returns</em> for the
      online dating markets. We further set up match goals for
      different user groups, and define the utility function to
      measure the satisfaction for each user in the dating app.
      Then we present the objective function to maximize the
      overall satisfaction (i.e., welfare) in the market, which
      indicates both efficiency and fairness.</p>
      <p><em>Second,</em> by discovering the diminishing marginal
      returns when a user gets more and more matches, we reduce our
      problem to the online submodular welfare maximization
      problem. Then we present a <span class=
      "inline-equation"><span class=
      "tex">$\frac{1}{2}$</span></span> -competitive online greedy
      algorithm to solve the problem. We further show that the
      online greedy algorithm is effective both in theory and
      practice.</p>
      <p><em>Third,</em> we adapt the <em>Nash social welfare</em>
      to the online dating markets, which provides a natural
      balance between efficiency and fairness. We further reduce
      the problem of maximizing the Nash social welfare to a
      special case of the submodular welfare optimization, and
      adjust our online algorithm to solve the problem.</p>
      <p><em>Last but not least,</em> we present data-driven
      empirical studies to evaluate the performance of our model by
      using the data from an online dating app. To this goal, we
      define generalized performance metrics, as well as discuss
      the selection of appropriate utility functions and
      parameters. More interestingly, we discover an
      <em>equilibrium</em> when we are evaluating the performance
      of Nash social welfare. The equilibrium indicates a market
      configuration where both non-paying users and paying users
      are satisfied. Finally, we evaluate the improvement of
      applying the Nash social welfare by comparing the performance
      with the distributions of our dataset. The results show
      significant improvement for both efficiency and fairness by
      using Nash social welfare.</p>
      <p>The rest of the paper is organized as follows: First, we
      discuss related work in Section&nbsp;<a class="sec" href=
      "#sec-5">2</a> and present the problem model in
      Section&nbsp;<a class="sec" href="#sec-6">3</a>. Next, we
      reduce the problem to the online submodular welfare
      maximization problem and present an efficient online
      algorithm to solve it in Section&nbsp;<a class="sec" href=
      "#sec-10">4</a>. Then we discuss how to leverage the Nash
      social welfare to the context of online dating markets in
      Section&nbsp;<a class="sec" href="#sec-13">5</a>. Finally, we
      present the effectiveness of our approaches based on
      data-driven studies in Section&nbsp;<a class="sec" href=
      "#sec-16">6</a>. We conclude the paper and present the open
      questions for future work in Section&nbsp;<a class="sec"
      href="#sec-22">7</a>.</p>
    </section>
    <section id="sec-5">
      <header>
        <div class="title-info">
          <h2><span class="section-number">2</span> Related
          Work</h2>
        </div>
      </header>
      <p>The online dating market has attracted broad and
      interdisciplinary research interest in social networking,
      communications, economics and even psychology, sociology and
      anthropology.</p>
      <p><strong>Online dating applications.</strong> In recent
      years, the studies for online dating apps emerge both in
      academia and social media&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0006">6</a>][<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0031">31</a>]. Researchers study the user
      motivations&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0040">40</a>][<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0012">12</a>], social impacts&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0044">44</a>][<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0036">36</a>], and privacy
      issues&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href="#BibPLXBIB0015">15</a>]
      for online dating. They also investigate the gender
      differences between males and females, including different
      selection strategies&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0008">8</a>][<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0042">42</a>], as well as conversation
      behaviors&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0045">45</a>].</p>
      <p>Some research uses economic models to analyze user
      behavior for the dating markets,&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0022">22</a>] investigates an economic
      matching model to explain the matching patterns and evaluate
      the efficiency of the matches. The authors in&nbsp;[<a class=
      "bib" data-trigger="hover" data-toggle="popover"
      data-placement="top" href="#BibPLXBIB0023">23</a>] analyze
      and predict the user preferences in online dating based on
      data-driven studies.</p>
      <p>Some articles demonstrate the <em>imbalanced</em>
      distributions of the matches in online dating, and shows that
      it is hard for some less attractive males to get a
      match&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href=
      "#BibPLXBIB0031">31</a>]&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0039">39</a>]. The authors of&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0042">42</a>] further present a
      hypothesis of the “feedback loop” in the online dating
      market: The males are forced to be <em>less</em> selective in
      the hope of getting a match, while females are becoming
      <em>more</em> selective, as they know that any males they
      like will result in a match with high probabilities. All
      these findings imply that fairness is a crucial factor to
      consider for the online dating apps.</p>
      <p><strong>Two-sided Markets: models and algorithms.</strong>
      The online dating market is typical two-sided (matching)
      market&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href="#BibPLXBIB0038">38</a>].
      To better understand the models and challenges of the online
      dating market, we compare it to other two-sided markets. One
      is the well-studied online ride-sharing market (e.g., Uber
      and Lyft)&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0013">13</a>][<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0018">18</a>][<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0024">24</a>]. Much simpler than the online dating
      market, the online ride-sharing market is based on a
      <em>centralized matching design</em>, in which the market
      maker (i.e., the platform) <em>decides</em> all matches.
      However, in the online dating market, the platform only
      <em>recommends</em> potential matches by showing profile
      cards, and all the (swiping) activities from the users are
      uncontrollable by the platform.</p>
      <p>Another similar two-sided market is the online advertising
      market, such as Google's Adwords&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0002">2</a>]. The authors
      in&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href="#BibPLXBIB0032">32</a>]
      summarizes various models and fundamental online algorithms
      for the online advertising market.&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0019">19</a>] presents theoretical
      studies to design online ad allocation algorithms to achieve
      both efficiency and fairness.</p>
      <p><strong>Methodologies.</strong> Submodular welfare
      maximization is a framework for resource allocation with
      decreasing marginal utilities. Existing studies investigate
      the complexity&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0026">26</a>]&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0033">33</a>], offline algorithms&nbsp;[<a class=
      "bib" data-trigger="hover" data-toggle="popover"
      data-placement="top" href=
      "#BibPLXBIB0043">43</a>]&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0020">20</a>], and online
      algorithms&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0032">32</a>]&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0030">30</a>]&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0025">25</a>]&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0027">27</a>].</p>
      <p>Nash social welfare is a sound criterion to trade off
      between efficiency and fairness, which is first proposed by
      John Nash&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0035">35</a>]. Recently, researchers figure out
      the its properties in&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0011">11</a>]&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0029">29</a>]&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0010">10</a>]. They also design offline algorithms
      to maximize the Nash social welfare with different settings
      in&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href=
      "#BibPLXBIB0016">16</a>]&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0021">21</a>]&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0009">9</a>]&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0037">37</a>]. We will discuss more details of the
      methodologies in Section&nbsp;<a class="sec" href=
      "#sec-10">4</a> and&nbsp;<a class="sec" href=
      "#sec-13">5</a>.</p>
    </section>
    <section id="sec-6">
      <header>
        <div class="title-info">
          <h2><span class="section-number">3</span> Market,
          Observations, and Models</h2>
        </div>
      </header>
      <p>In this section, we present the model of each user's
      utility (i.e., degree of satisfaction) in online dating apps
      based on our results from data-driven studies. We first
      introduce the preliminaries for the market configurations of
      online dating. Then we analyze the correlations between
      users’ retention rate and number of matches by using the data
      from a popular online dating app, and discover the match goal
      (i.e., expected number of matches within a period) from our
      results. We further define each user's utility by his match
      goal and actual matches. Finally, we formulate our objective
      function, which maximizes the total degrees of satisfaction
      for all users.</p>
      <section id="sec-7">
        <header>
          <div class="title-info">
            <h3><span class="section-number">3.1</span> Market
            Configurations for Online Dating</h3>
          </div>
        </header>
        <p>The online dating market consists of two groups, and we
        call them <em>male</em> and <em>female</em>. Both groups
        behave the same way in the market. In this paper, we only
        consider the matches happening between the two groups. We
        consider a dating market with <em>M</em> male and
        <em>F</em> female users. We adopt the convention
        [<em>X</em>] = {1, 2, …, <em>X</em>} to denote the set of
        <em>X</em> elements throughout the paper, e.g.,
        [<em>M</em>] = {1, 2, ⋅⋅⋅, <em>M</em>} is the set of all
        males and [<em>F</em>] = {1, 2, ⋅⋅⋅, <em>F</em>} is that of
        all females.</p>
        <p>To simplify the discussion, we divide time into
        fixed-length time slots that we call <em>rounds</em>. We
        consider a user <em>active</em> in round <em>t</em> if
        he/she swipes at least once in round <em>t</em>.</p>
        <p>Note that as both groups are in symmetry in most of our
        discussions, without loss of generality, we focus on the
        algorithms for recommending males to females in this paper,
        and the other side works the same way.</p>
        <p>We also define the number of swipes (or the number of
        profiles reviewed) in round <em>t</em> as the <em>(swiping)
        capacity</em> of the user in that round. We denote the
        capacity of a male <em>m</em> or a female <em>f</em> in
        round <em>t</em> as <span class=
        "inline-equation"><span class=
        "tex">$c^{(t)}_{m}$</span></span> and <span class=
        "inline-equation"><span class=
        "tex">$\bar{c}^{(t)}_f$</span></span> , respectively.</p>
        <p><strong>Estimate achieved matches.</strong> To estimate
        the number of achieved matches for each user, we take a
        closer look at the match making process under the
        <em>double opt-in</em> model. The app has a mechanism to
        estimate the probability of whether female <em>f</em> will
        swipe right (i.e., like) on a male <em>m</em> in round
        <em>t</em>. We denote the estimation as <span class=
        "inline-equation"><span class="tex">$\bar{p}^{(t)}_{f,
        m}$</span></span> (and the other way around as <span class=
        "inline-equation"><span class="tex">$p^{(t)}_{m,
        f}$</span></span> ), ∀<em>m</em> ∈ [<em>M</em>] and
        ∀<em>f</em> ∈ [<em>F</em>]. In practice, collaborative
        filtering is a good algorithm to predict the probabilities.
        The detail of the prediction algorithms is beyond the scope
        of the paper, and we only take the predicted probabilities
        as our input.</p>
        <p>We further define the <em>match score</em> at round
        <em>t</em> as the product of the predicted (like)
        probabilities in both directions, i.e. <span class=
        "inline-equation"><span class="tex">$w^{(t)}_{m, f}=
        p^{(t)}_{m, f}\cdot \bar{p}^{(t)}_{f, m}$</span></span> .
        Intuitively, the match score captures the degree of the
        mutual-likes between a pair of users. When we recommend
        male <em>m</em> to female <em>f</em> at round <em>t</em>,
        the probability of a match achieved between <em>m</em> and
        <em>f</em> is <span class="inline-equation"><span class=
        "tex">$w^{(t)}_{m, f}$</span></span> . The <em>decision
        variable</em> is whether the online dating app should
        recommend <em>m</em> to <em>f</em> at round <em>t</em>,
        denoted as a binary variable <span class=
        "inline-equation"><span class="tex">$x^{(t)}_{m, f}\in
        \lbrace 0, 1\rbrace , \forall m \in [M], \forall f \in
        [F]$</span></span> . To sum up, we estimate the expectation
        of achieved match of male <em>m</em> at round <em>t</em> as
        follows:</p>
        <div class="table-responsive" id="eq1">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \displaystyle
            a^{(t)}_{m}= \sum _{f \in [F]} w^{(t)}_{m, f}\cdot
            x^{(t)}_{m, f}\quad \forall m \in [M].
            \end{equation}</span><br />
            <span class="equation-number">(1)</span>
          </div>
        </div>
        <p></p>
      </section>
      <section id="sec-8">
        <header>
          <div class="title-info">
            <h3><span class="section-number">3.2</span> Finding the
            Match Goal</h3>
          </div>
        </header>
        <p><strong>Retentions vs. matches.</strong> To discover the
        insights of the online dating market, and explore how the
        number of matches influences users’ satisfaction in online
        dating. We analyze the correlations between the retention
        rate and the number of matches per week. In practice, the
        retention rate is a sound and widely-used indicator,
        providing us with quantitative measurements of users’
        satisfaction, as a user tends to continue using the app if
        he is satisfied.</p>
        <p>We collect two weeks’ activity data for the users from a
        popular online dating app. For each user, we count his
        matches during the first week, and count his retention as a
        binary of whether he opens the app during the second week,
        that is, with 1 indicating a “yes”, and 0 for “no”. Then
        the question is: What is the probability of a user to use
        the app (i.e., retention rate) in the second week with a
        given number of matches during the first week?</p>
        <p>Figure&nbsp;<a class="fig" href="#fig1">1</a> shows the
        correlation between the (normalized) retention rate and the
        (normalized) number of matches for both male and female
        users<a class="fn" href="#fn2" id=
        "foot-fn2"><sup>2</sup></a>. The x-axis is the (normalized)
        number of matches received by a user in the first week, and
        the y-axis is the (normalized) average retention
        rate<a class="fn" href="#fn3" id=
        "foot-fn3"><sup>3</sup></a> (i.e., whether they opens the
        app in the second week) of the users with the corresponding
        number of matches. Due to the confidentiality of the data,
        we normalize the retention rate by dividing each average
        retention rate by males’ average retention rate with no
        match. The two solid curves in Figure&nbsp;<a class="fig"
        href="#fig1">1</a> illustrate the correlation between
        retention rates and number of matches. We limit the range
        of x-axis (i.e., the number of matches) to {0, 1, 2, ⋅⋅⋅,
        20}, as the curves for both males and the females stay flat
        when the number of weekly matches exceeds 20. Moreover, the
        two vertical dotted lines show the median number of weekly
        matches for both males and females.</p>
        <figure id="fig1">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186109/images/www2018-118-fig1.jpg"
          class="img-responsive" alt="Figure 1" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 1:</span>
            <span class="figure-title">(Normalized) retention vs.
            number of matches.</span>
          </div>
        </figure>
        <p>From the data, we have the following key observations
        based on the relationships between the retention rate and
        the number of weekly matches for both males and
        females:</p>
        <ul class="list-no-style">
          <li id="list1" label="•">A male's retention rate
          increases fast when he gets a new match with less than 7
          matches during the week. When a male user gets more than
          7 matches. The retention rate stays stable.<br /></li>
          <li id="list2" label="•">The average number of matches
          for a male user is about 5, and the median is 1 (i.e.,
          half of the males have less than 1 match in the first
          week). If we improve a male's number of matches from 0 to
          7, the retention rate will triple. If we improve it from
          1 to 7, the retention rate will also improve as high as
          65%, which indicates that helping each male user get one
          match per day, will increase the retention rate by 65%
          for half of the males. Meanwhile, improving the a male's
          number of matches from the median level to the average
          level will also increase his retention rate by
          49%.<br /></li>
          <li id="list3" label="•">However, the effect of improving
          the number of matches for females is not significant. The
          average number of matches for a female user is about 15,
          and the median is 7. The slope of the curve for females
          after the median (i.e., 7) is much more moderate.
          Moreover, even if we improve a female's number of matches
          from 7 to 20, the retention rate will only increase
          27%.<br /></li>
        </ul>
        <p>Based on the above observations, we have the following
        conclusions: 1) For both males and females, more matches
        lead to a higher retention rate. 2) We find that the males’
        retention rate is much more sensitive than that of females
        in terms of number of matches, as the number of matches for
        females is much more optimistic. 3) Improving the weekly
        number of matches for each male to about 7 (i.e., we call
        this the <em>magic number</em> for males’ matches) will
        promote the males’ retention rate significantly. In the
        meantime, if a male gets more matches than the magic
        number, then the improvement of his retention rate is
        rather modest. 4) The retention curves for both males and
        females are <em>concave</em>, indicating the
        <em>diminishing marginal returns</em> when a user gradually
        gets more matches, and we will discuss the details in
        Section&nbsp;<a class="sec" href="#sec-10">4</a>. 5) Our
        observations also illustrate why we care much more on
        males’ numbers of matches, as the improvement of retention
        rate is moderate even though we promote females’ number of
        matches a lot from the current level.</p>
        <p>To give a formal definition of the observed magic number
        for following theoretical studies, we introduce the concept
        of the <em>match goal</em> for the males as follows:</p>
        <p><strong>Match goal.</strong> For a male <em>m</em> ∈
        [<em>M</em>] using the dating app, we define his match goal
        as <span class="inline-equation"><span class=
        "tex">$g^{(t)}_{m}$</span></span> in round <em>t</em>,
        which is his expectation for the number of matches in that
        round. In practice, we can set the length for each round as
        one day, or set the length for each round as a week if we
        consider the seasonality factor for a user to get a match.
        This is because the distribution of matches for the online
        dating apps varies over the days of the week, as there are
        both more male and female users online on weekends than
        weekdays. It is easier for a user to get a match on
        Saturday night than Monday morning. For a common non-paying
        user on the app, the system can set his match goal as one
        match per day (or 7 to 8 matches per week), that is, a
        non-paying user will be happy to get one match per day. For
        a paying user (e.g., a Tinder Boost user) or a new user,
        the system can set a higher match goal for him (e.g., 2 to
        4 matches per day), since a paying user deserves more
        matches and a new user is more motivated when getting more
        matches when he starts to use the app. In practice, we can
        also dynamically adjust the match goals in different
        regions, as the market configurations may vary.</p>
        <p>A user's match goal is an estimation for his expectation
        of matches set by the system. To capture the differences
        between the match goal and the actual matches of a (male)
        user <em>m</em>, we also define the <em>achieved
        matches</em>, <span class="inline-equation"><span class=
        "tex">$a^{(t)}_{m}$</span></span> , for the actual number
        of matches for <em>m</em> during round <em>t</em>. We
        further define the <em>(match) achievement rate</em>
        <span class="inline-equation"><span class=
        "tex">$r^{(t)}_{m}$</span></span> as the ratio of the
        achieved match (i.e., <span class=
        "inline-equation"><span class=
        "tex">$a^{(t)}_{m}$</span></span> ) to match goal (i.e.,
        <span class="inline-equation"><span class=
        "tex">$g^{(t)}_{m}$</span></span> ) for each male
        <em>m</em>, such that <span class=
        "inline-equation"><span class="tex">$r^{(t)}_{m}=
        \frac{a^{(t)}_{m}}{g^{(t)}_{m}}, \forall m \in
        [M]$</span></span> .</p>
      </section>
      <section id="sec-9">
        <header>
          <div class="title-info">
            <h3><span class="section-number">3.3</span> Problem
            Formulation</h3>
          </div>
        </header>
        <p><strong>Satisfaction and utility function.</strong> We
        define each user's degree of satisfaction (i.e.,
        <span class="inline-equation"><span class=
        "tex">$s^{(t)}_{m}$</span></span> ) in (<a class="eqn"
        href="#eq2">2</a>) with a utility function <span class=
        "inline-equation"><span class=
        "tex">$u^{(t)}_{m}$</span></span> times a weight factor
        <span class="inline-equation"><span class="tex">$\alpha
        ^{(t)}_{m}$</span></span> . The utility function is defined
        on [0, +∞) with input <span class=
        "inline-equation"><span class=
        "tex">$r^{(t)}_{m}$</span></span> . The weight factor
        <span class="inline-equation"><span class="tex">$\alpha
        ^{(t)}_{m}$</span></span> is used to distinguish the
        priorities for different users.</p>
        <div class="table-responsive" id="eq2">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \displaystyle
            s^{(t)}_{m}= \alpha ^{(t)}_{m}\cdot
            u^{(t)}_{m}(r^{(t)}_{m}) = \alpha ^{(t)}_{m}\cdot
            u^{(t)}_{m}\Big (\frac{\sum _{f \in [F]} w^{(t)}_{m,
            f}x^{(t)}_{m, f}}{g^{(t)}_{m}}\Big).
            \end{equation}</span><br />
            <span class="equation-number">(2)</span>
          </div>
        </div>
        <p></p>
        <p>Note that the value of each <span class=
        "inline-equation"><span class="tex">$w^{(t)}_{m,
        f}$</span></span> and <span class=
        "inline-equation"><span class=
        "tex">$g^{(t)}_{m}$</span></span> is maintained by the
        system and is fixed, and therefore <span class=
        "inline-equation"><span class=
        "tex">$s^{(t)}_{m}$</span></span> is only determined by the
        decision variables <span class=
        "inline-equation"><span class="tex">$x^{(t)}_{m,
        f}$</span></span> . To simplify the model, we can further
        assume that the utility functions are <em>symmetric</em>
        over different males in all rounds, such that <span class=
        "inline-equation"><span class="tex">$u^{(t)}_{m}(\cdot)
        \triangleq u(\cdot), \forall m \in [M], t \in \mathbb
        {N}^{+}$</span></span> .</p>
        <p><strong>Objective.</strong> Our objective function is to
        maximize the overall weighted degrees of satisfaction for
        males (i.e., (<a class="eqn" href="#eq3">3</a>)), subjected
        to the (swiping) capacity constraint for each female (i.e.,
        (<a class="eqn" href="#eq4">4a</a>)), and the (swiping)
        capacity constraint for each male (i.e., (<a class="eqn"
        href="#eq5">4b</a>)):</p>
        <div class="table-responsive" id="eq3">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation}
            \begin{aligned} \displaystyle max: &amp;\sum _{m \in
            [M]} s^{(t)}_{m}\end{aligned}
            \end{equation}</span><br />
            <span class="equation-number">(3)</span>
          </div>
        </div>s.t.,
        <div class="table-responsive" id="eq4">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \displaystyle
            \sum _{m \in [M]} x^{(t)}_{m, f}\le \bar{c}^{(t)}_f,
            \quad \forall f \in [F]; \hspace{56.9055pt}
            \end{equation}</span><br />
            <span class="equation-number">(4a)</span>
          </div>
        </div>
        <div class="table-responsive" id="eq5">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \displaystyle
            \sum _{f \in [F]} x^{(t)}_{m, f}\le c^{(t)}_{m}, \quad
            \forall m \in [M]; \hspace{56.9055pt}
            \end{equation}</span><br />
            <span class="equation-number">(4b)</span>
          </div>
        </div>
        <div class="table-responsive" id="eq6">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \displaystyle
            x^{(t)}_{m, f}\in \lbrace 0, 1\rbrace , \quad \forall m
            \in [M], \forall f \in [F]. \hspace{28.45274pt}
            \end{equation}</span><br />
            <span class="equation-number">(4c)</span>
          </div>
        </div>
        <p></p>
        <p>In practice, when we design the algorithm of
        recommending males to females, we can neglect the
        constraint for each male's capacity (i.e., (<a class="eqn"
        href="#eq5">4b</a>)). This is because it is difficult to
        estimate each male's capacity <span class=
        "inline-equation"><span class=
        "tex">$c^{(t)}_{m}$</span></span> by only looking at the
        females’ swiping activities in an online setting, and a
        male tends to spontaneously increase his (swiping) capacity
        if he has not get enough matches. However, even though we
        add constraint (<a class="eqn" href="#eq5">4b</a>), our
        online algorithm in Section&nbsp;<a class="sec" href=
        "#sec-10">4</a> still works by applying the methodologies
        in&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
        "popover" data-placement="top" href=
        "#BibPLXBIB0030">30</a>].</p>
        <p>As we discussed before, we want to mention that the
        mirroring model and algorithm of recommending females to
        males throughout this paper is theoretically correct,
        though practically it impacts the retention much less
        significantly. In the following section, for concise and
        practical considerations, we only discuss the algorithms
        for the recommendations from males to females.</p>
      </section>
    </section>
    <section id="sec-10">
      <header>
        <div class="title-info">
          <h2><span class="section-number">4</span> Online
          Submodular Welfare Maximization</h2>
        </div>
      </header>
      <p>In the previous section, we define the problem model to
      maximize the overall degrees of satisfaction of the market
      (i.e., the welfare). Based on the results in
      Section&nbsp;<a class="sec" href="#sec-8">3.2</a>, the
      marginal returns (i.e., degree of satisfaction) for each user
      decrease when he gradually achieves more matches during a
      certain round. Moreover, when the number of his matches
      reaches a threshold (e.g., he can hardly keep up with all the
      conversations with his matches), his utility stops
      increasing.</p>
      <section id="sec-11">
        <header>
          <div class="title-info">
            <h3><span class="section-number">4.1</span> Define the
            Submodularity</h3>
          </div>
        </header>
        <p>We have discovered the property of diminishing marginal
        returns for online dating markets, to capture this
        property, we introduce the <em>submodularity</em> in this
        section. We first define the <em>impression set</em>
        <span class="inline-equation"><span class=
        "tex">$I^{(t)}_{m}$</span></span> for each <em>m</em> ∈
        [<em>M</em>], denoting the set of females that the app
        recommends <em>m</em> to:</p>
        <div class="table-responsive" id="eq7">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \displaystyle
            I^{(t)}_{m}= \lbrace f | x^{(t)}_{m, f}= 1 \rbrace
            \quad \forall m \in [M]. \end{equation}</span><br />
            <span class="equation-number">(5)</span>
          </div>
        </div>
        <p></p>
        <p>It is easy to find that <span class=
        "inline-equation"><span class="tex">$\forall
        I^{(t)}_{m}$</span></span> , <span class=
        "inline-equation"><span class="tex">$I^{(t)}_{m}\subseteq
        [F]$</span></span> and <span class=
        "inline-equation"><span class="tex">$I^{(t)}_{m}\in
        2^{[F]}$</span></span> . Furthermore, we present each
        user's <em>weighted utility function on impression set</em>
        (i.e., equivalent to (<a class="eqn" href="#eq2">2</a>)),
        which is a function defined on
        2<sup>[<em>F</em>]</sup>:</p>
        <div class="table-responsive" id="eq8">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \displaystyle
            s^{(t)}_{m}= \mu ^{(t)}_{m}(I^{(t)}_{m}) = \alpha \cdot
            u^{(t)}_{m}\Big (\frac{\sum _{f \in I^{(t)}_{m}}
            w^{(t)}_{m, f}}{g^{(t)}_{m}} \Big) \quad \forall m \in
            [M]. \end{equation}</span><br />
            <span class="equation-number">(6)</span>
          </div>
        </div>
        <p></p>
        <p>We then present the property of <em>submodularity and
        monotonicity</em> for <em>μ<sub>m</sub></em> as
        follows:</p>
        <div class="definition" id="enc1">
          <label>Definition 4.1.</label>
          <p>(monotone submodular) <em>μ</em> is
          <strong>submodular</strong> iff for each male <em>m</em>
          ∈ [<em>M</em>] with any impression sets <span class=
          "inline-equation"><span class=
          "tex">$\tilde{I}^{(t)}_{m}\subseteq
          I^{(t)}_{m}$</span></span> , and a female <span class=
          "inline-equation"><span class="tex">$f \notin
          I^{(t)}_{m}$</span></span> , such that:</p>
          <div class="table-responsive" id="eq9">
            <div class="display-equation">
              <span class="tex mytex">\begin{equation}
              \displaystyle \mu _m(I^{(t)}_{m}\cup \lbrace
              f\rbrace) - \mu _m(I^{(t)}_{m}) \le \mu
              _m(\tilde{I}^{(t)}_{m}\cup \lbrace f\rbrace) - \mu
              _m(\tilde{I}^{(t)}_{m}). \end{equation}</span><br />
              <span class="equation-number">(7)</span>
            </div>
          </div>
          <p></p>
          <p>Furthermore, we say that <em>μ</em> is
          <strong>monotone submodular</strong> if additionally,
          <span class="inline-equation"><span class="tex">$\mu
          _m(I^{(t)}_{m}) \ge \mu
          _m(\tilde{I}^{(t)}_{m})$</span></span> .</p>
        </div>
        <p>To recap, <span class="inline-equation"><span class=
        "tex">$\mu _m(I^{(t)}_{m}\cup \lbrace f\rbrace) - \mu
        _m(I^{(t)}_{m})$</span></span> is the marginal utility of
        <em>m</em> when the app recommends him to one more female
        <em>f</em> after showing his profile to the females in his
        impression set <span class="inline-equation"><span class=
        "tex">$I^{(t)}_{m}$</span></span> , and (<a class="eqn"
        href="#eq9">7</a>) presents the diminishing marginal
        returns for <em>m</em>. Additionally, <em>m</em>’s utility
        is non-decreasing when his impression set grows, so
        <em>μ<sub>m</sub></em> is <em>monotone submodular</em>.</p>
        <p>As our utility function is monotone submodular, our
        problem of maximizing the objective function (<a class=
        "eqn" href="#eq3">3</a>) becomes a <em>submodular welfare
        maximization</em> problem. We summarize existing studies in
        both offline and online settings. We further present
        Algorithm&nbsp;1 and show that it is effective and
        practical for our app, especially in an online setting.</p>
        <p><img src=
        "../../../data/deliveryimages.acm.org/10.1145/3190000/3186109/images/www2018-118-img1.svg"
        class="img-responsive" alt="" longdesc="" /></p>
      </section>
      <section id="sec-12">
        <header>
          <div class="title-info">
            <h3><span class="section-number">4.2</span> Solutions:
            Offline and Online</h3>
          </div>
        </header>
        <p>We first depict the offline and online settings for the
        online dating apps when we recommend males to females. In
        an offline setting, we know all the values of inputs such
        as <span class="inline-equation"><span class=
        "tex">$w^{(t)}_{m, f}$</span></span> , <span class=
        "inline-equation"><span class=
        "tex">$\bar{c}^{(t)}_f$</span></span> , and <em>μ</em> in
        advance. Whereas in an online setting, the app presents
        real-time recommendations to each female <em>f</em> when
        she arrives with a subset of input values. Some values
        (e.g., <span class="inline-equation"><span class=
        "tex">$\bar{c}^{(t)}_f$</span></span> , <span class=
        "inline-equation"><span class="tex">$w^{(t)}_{m,
        f}$</span></span> ) are not revealed until female
        <em>f</em> logs into the app and starts swiping, without
        knowing when a female becomes active/inactive, or her
        preference over time.</p>
        <p>To solve the submodular welfare maximization problem,
        there is a greedy algorithm that is intuitive but
        efficient, in which each time we recommend a male
        <em>m</em> to <em>f</em> with maximum marginal returns, and
        then update his impression set. The algorithm can solve
        both offline and online cases. We present the online greedy
        algorithm in Algorithm&nbsp;1 .</p>
        <p>We show that Algorithm&nbsp;1 is promising both in
        theory and in practice, by comparing it with existing
        results for both offline and online settings.</p>
        <p><strong>Offline setting.</strong> In the offline
        setting, the submodular welfare maximization problem is
        NP-hard to approximate better than <span class=
        "inline-equation"><span class="tex">$1 -
        \frac{1}{e}$</span></span> &nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0026">26</a>], and&nbsp;[<a class=
        "bib" data-trigger="hover" data-toggle="popover"
        data-placement="top" href="#BibPLXBIB0043">43</a>] provides
        an algorithm in the value oracle model to achieve this
        bound.&nbsp;[<a class="bib" data-trigger="hover"
        data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0033">33</a>] proves that beating the
        <span class="inline-equation"><span class="tex">$1 -
        \frac{1}{e}$</span></span> bound needs exponential
        communication.&nbsp;[<a class="bib" data-trigger="hover"
        data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0020">20</a>] proposes a randomized local search
        algorithm, which is simpler than&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0043">43</a>], also achieving the
        bound. However, these algorithms have high complexity, and
        thus are impractical in real-life apps.</p>
        <p><strong>Online setting.</strong> In the online setting,
        &nbsp;[<a class="bib" data-trigger="hover" data-toggle=
        "popover" data-placement="top" href=
        "#BibPLXBIB0030">30</a>] shows that Algorithm&nbsp;1
        achieves a ratio of <span class=
        "inline-equation"><span class=
        "tex">$\frac{1}{2}$</span></span> for the online submodular
        welfare maximization problem even under adversarial input
        orders. Furthermore, in&nbsp;[<a class="bib" data-trigger=
        "hover" data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0025">25</a>], the authors proved that there is
        no (randomized) algorithm achieving a competitive ratio of
        better than <span class="inline-equation"><span class=
        "tex">$\frac{1}{2}$</span></span> for the online submodular
        welfare maximization problem, unless <em>NP</em> =
        <em>RP</em>.</p>
        <p>In comparison, Algorithm&nbsp;1 is a solid online
        algorithm in theory, which guarantees a tight <span class=
        "inline-equation"><span class=
        "tex">$\frac{1}{2}$</span></span> -competitive bound for
        any submodular function <em>μ<sub>m</sub></em> .</p>
        <p><strong>Time complexity.</strong> We then analyze the
        time complexity for Algorithm&nbsp;1 . For each
        recommendation of female <em>f</em>, the algorithm goes
        through <em>M</em> iterations to select the best candidate,
        so it takes <span class="inline-equation"><span class=
        "tex">$M \cdot \bar{c}^{(t)}_{f}$</span></span> iterations
        for all the recommendations of female <em>f</em>. If we
        take all the females <em>f</em> ∈ [<em>F</em>] into
        consideration, then the overall time complexity for
        Algorithm&nbsp;1 is <span class=
        "inline-equation"><span class="tex">$O(M\bar{\mathcal
        {C}}^{(t)}_{F})$</span></span> , where <span class=
        "inline-equation"><span class="tex">$\bar{\mathcal
        {C}}^{(t)}_{F}$</span></span> is the total capacities for
        all females in [<em>F</em>], such that <span class=
        "inline-equation"><span class="tex">$\bar{\mathcal
        {C}}^{(t)}_{F} = \sum _{f \in [F]}
        \bar{c}^{(t)}_{f}$</span></span> . Therefore it is fast
        enough and practical to apply Algorithm&nbsp;1 in the
        app.</p>
      </section>
    </section>
    <section id="sec-13">
      <header>
        <div class="title-info">
          <h2><span class="section-number">5</span> Nash Social
          Welfare</h2>
        </div>
      </header>
      <p>To further trade-off the efficiency and fairness, we adapt
      the Nash social welfare to the online dating markets, which
      provides a natural balance between the efficiency and
      fairness.</p>
      <section id="sec-14">
        <header>
          <div class="title-info">
            <h3><span class="section-number">5.1</span> Definition
            and Properties</h3>
          </div>
        </header>
        <p>Eq. (<a class="eqn" href="#eq10">8</a>) presents the
        formulation of Nash social welfare for online dating
        markets: allocate the recommendations to maximize the
        geometric mean of the users’ utilities (i.e., <span class=
        "inline-equation"><span class=
        "tex">$s^{(t)}_{m}$</span></span> ).</p>
        <div class="table-responsive" id="eq10">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \displaystyle
            \texttt {NSW}([M])= \Big (\Pi _{m \in [M]}
            s^{(t)}_{m}\Big)^{\frac{1}{M}}.
            \end{equation}</span><br />
            <span class="equation-number">(8)</span>
          </div>
        </div>
        <p></p>
        <p>The idea dates back to John Nash's famous solution to
        the bargaining problem in &nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0035">35</a>]. Recently, the Nash
        social welfare is captured by a family of the
        <em>generalized (power) mean function</em>&nbsp;[<a class=
        "bib" data-trigger="hover" data-toggle="popover"
        data-placement="top" href="#BibPLXBIB0010">10</a>] with an
        exponent <em>τ</em>:</p>
        <div class="table-responsive" id="eq11">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \displaystyle
            A_{\tau }([M]) = \Big (\frac{1}{M} \cdot \sum _{m \in
            [M]} (s^{(t)}_{m})^{\tau } \Big)^{\frac{1}{\tau }}.
            \end{equation}</span><br />
            <span class="equation-number">(9)</span>
          </div>
        </div>
        <p></p>
        <p>In particular, <span class=
        "inline-equation"><span class="tex">$\texttt
        {NSW}([M])$</span></span> corresponds to <em>A</em>
        <sub>0</sub>([<em>M</em>]), which is the limit of
        <em>A<sub>τ</sub></em> ([<em>M</em>]) as <em>τ</em> goes to
        zero.</p>
        <p>In order to study the trade-offs between efficiency and
        fairness for Nash social welfare, we extend the treatment
        for its properties. Two other well-studied functions
        captured by <em>A<sub>τ</sub></em> ([<em>M</em>]) include:
        (i) the <em>egalitarian</em> (i.e., max-min) objective when
        <em>τ</em> → −∞ and (ii) <em>utilitarian</em> (i.e.,
        average) objective when <em>τ</em> = 1&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0034">34</a>]. They correspond to
        extreme fairness and extreme efficiency, respectively.
        However, <em>τ</em> → −∞ may cause large inefficiency, such
        that the total matches in the dating market may be poor.
        While <em>τ</em> = 1 neglects how unhappy some males might
        be, causing unfairness such that they can hardly get a
        match. The Nash social welfare lies between the two
        extremities and strikes a natural balance. This is because
        maximizing the geometric mean leads to more balanced
        recommendations (i.e., fairness), and also takes efficiency
        into consideration.</p>
        <p>Futhermore, &nbsp;[<a class="bib" data-trigger="hover"
        data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0011">11</a>] presents game-theoretic properties
        for Nash social welfare, and proves that each allocation
        with the maximum Nash social welfare is both <em>Pareto
        optimal</em> (indicating efficiency) and <em>EF1</em>
        (i.e., <em>Envy-Freeness up to One Good</em>, indicating
        fairness).</p>
      </section>
      <section id="sec-15">
        <header>
          <div class="title-info">
            <h3><span class="section-number">5.2</span> Maximizing
            the Nash Social Welfare</h3>
          </div>
        </header>
        <p><strong>Reduce maximizing</strong> <span class=
        "inline-equation"><span class="tex">$\texttt
        {NSW}([M])$</span></span> <strong>to</strong> (<a class=
        "eqn" href="#eq3">3</a>)<strong>.</strong> Revisit the
        definition of <span class="inline-equation"><span class=
        "tex">$s^{(t)}_{m}$</span></span> in (<a class="eqn" href=
        "#eq2">2</a>), to simplify, we first set a uniform weight
        parameter for all users, such that <span class=
        "inline-equation"><span class="tex">$\alpha ^{(t)}_{m}=
        1$</span></span> and <span class=
        "inline-equation"><span class="tex">$s^{(t)}_{m}=
        u^{(t)}_{m}(r^{(t)}_{m}) = r^{(t)}_{m}, \forall m \in
        [M]$</span></span> . We then introduce a logarithm utility
        function <span class="inline-equation"><span class=
        "tex">$\tilde{s}^{(t)}_{m}= \tilde{u}^{(t)}_{m}=
        log(r^{(t)}_{m})$</span></span> . Therefore maximizing the
        Nash social welfare (i.e., <span class=
        "inline-equation"><span class="tex">$(\Pi _{m \in [M]}
        s^{(t)}_{m})^{\frac{1}{M}}$</span></span> ) is equivalent
        to the objective function (<a class="eqn" href=
        "#eq3">3</a>) by using <span class=
        "inline-equation"><span class=
        "tex">$\tilde{s}^{(t)}_{m}$</span></span> (i.e., maximizing
        <span class="inline-equation"><span class="tex">$\sum _{m
        \in [M]} \tilde{s}^{(t)}_{m}$</span></span> ). Since
        <span class="inline-equation"><span class=
        "tex">$\tilde{s}^{(t)}_{m}= log(s^{(t)}_{m})$</span></span>
        , <span class="inline-equation"><span class=
        "tex">$r^{(t)}_{m}\ge 0$</span></span> and <em>M</em> is a
        constant, the reduction holds.</p>
        <p>To consider different weight parameters, we set
        <span class="inline-equation"><span class=
        "tex">$s^{(t)}_{m}= u^{(t)}_{m}(r^{(t)}_{m}) =
        (r^{(t)}_{m})^{\alpha ^{(t)}_{m}}$</span></span> , and
        introduce <span class="inline-equation"><span class=
        "tex">$\tilde{s}^{(t)}_{m}= \alpha ^{(t)}_{m}\cdot
        log(r^{(t)}_{m})$</span></span> and <span class=
        "inline-equation"><span class=
        "tex">$\tilde{u}^{(t)}_{m}(r^{(t)}_{m}) =
        log(r^{(t)}_{m})$</span></span> . Then we can also reduce
        the problem to maximize the Nash social welfare into
        (<a class="eqn" href="#eq3">3</a>) using <span class=
        "inline-equation"><span class=
        "tex">$\tilde{s}^{(t)}_{m}$</span></span> (i.e.,
        <span class="inline-equation"><span class="tex">$\sum _{m
        \in [M]} \tilde{s}^{(t)}_{m}$</span></span> ) as
        <span class="inline-equation"><span class=
        "tex">$\tilde{s}^{(t)}_{m}= log(s^{(t)}_{m})$</span></span>
        . Since each <span class="inline-equation"><span class=
        "tex">$\tilde{s}^{(t)}_{m}$</span></span> is a monotone
        submodular utility function, we can reduce the problem of
        maximizing Nash social welfare as a special case of online
        submodular welfare maximization problem if we set
        <span class="inline-equation"><span class=
        "tex">$s^{(t)}_{m}= (r^{(t)}_{m})^{\alpha
        ^{(t)}_{m}}$</span></span> in (<a class="eqn" href=
        "#eq10">8</a>) for each user.</p>
        <p>Note that this setup is reasonable for real-life dating
        apps. For instance, we set <span class=
        "inline-equation"><span class="tex">$\alpha ^{(t)}_{m}{\gt}
        1$</span></span> for the paying users and <span class=
        "inline-equation"><span class="tex">$\alpha ^{(t)}_{m}=
        1$</span></span> for the non-paying users, indicating that
        the app takes on a higher priority for each paying user.
        Therefore when we maximize the Nash social welfare in
        (<a class="eqn" href="#eq10">8</a>), we are prone to first
        make <span class="inline-equation"><span class=
        "tex">$r^{(t)}_{m}$</span></span> as large as possible for
        the paying users, since the value of <span class=
        "inline-equation"><span class=
        "tex">$s^{(t)}_{m}$</span></span> grows faster when
        <span class="inline-equation"><span class="tex">$\alpha
        ^{(t)}_{m}{\gt} 1$</span></span> . We can further adjust
        <span class="inline-equation"><span class="tex">$\alpha
        ^{(t)}_{m}$</span></span> to set different priorities for
        paying users.</p>
        <p><strong>Utility caps.</strong> However, if there exist a
        male <em>m</em> with <span class=
        "inline-equation"><span class="tex">$r^{(t)}_{m}{\gt}
        1$</span></span> and <span class=
        "inline-equation"><span class="tex">$\alpha ^{(t)}_{m}{\gt}
        1$</span></span> , it will reduce fairness of the market to
        further increase <span class="inline-equation"><span class=
        "tex">$r^{(t)}_{m}$</span></span> to maximize Nash social
        welfare. To tackle this problem and further improve the
        fairness, it is practical to introduce utility caps by
        setting <span class="inline-equation"><span class=
        "tex">$r^{(t)}_{m}= 1$</span></span> when <span class=
        "inline-equation"><span class=
        "tex">$\frac{a^{(t)}_{m}}{g^{(t)}_{m}} {\gt}
        1$</span></span> , which makes <span class=
        "inline-equation"><span class="tex">$s^{(t)}_{m}=
        (r^{(t)}_{m})^{\alpha ^{(t)}_{m}} \le 1$</span></span> .
        Thus for a male reaching his match goal, making more match
        for him will not improve the Nash social welfare any
        more.</p>
        <p><strong>Offline solution.</strong> Recent years,
        designing approximation algorithms to maximize the Nash
        social welfare attracts lots of research
        interest.&nbsp;[<a class="bib" data-trigger="hover"
        data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0029">29</a>] shows that maximizing Nash social
        welfare for indivisible items with additive utilities is
        both NP-hard and APX-hard.&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0016">16</a>] presents offline
        approximation algorithms to maximize the Nash social
        welfare with additive utilities, and&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0021">21</a>] further handle the
        cases with utility caps. However, note that these
        algorithms apply the Eisenberg-Gale program&nbsp;[<a class=
        "bib" data-trigger="hover" data-toggle="popover"
        data-placement="top" href="#BibPLXBIB0017">17</a>] to
        achieve a fractional optimal solution, followed by a
        carefully designed rounding algorithm. Thus they all need
        the values of all inputs (e.g., <span class=
        "inline-equation"><span class="tex">$w^{(t)}_{m,
        f}$</span></span> , <span class=
        "inline-equation"><span class=
        "tex">$\bar{c}^{(t)}_f$</span></span> ) in advance and can
        not be directly applied in the online settings for dating
        apps.</p>
        <p><strong>Discussions on the online solution.</strong> It
        is worth noting that existing work mostly studies the
        offline solutions to maximize the Nash social welfare,
        which is not applicable to the dating markets as we
        discussed in Section&nbsp;<a class="sec" href=
        "#sec-4">1</a> for the requirement of online
        algorithms.</p>
        <p>In this work, our contribution is to reduce the Nash
        social welfare maximization to (<a class="eqn" href=
        "#eq3">3</a>) based on the reductions above, and use
        Algorithm&nbsp;1 to get an online solution. In practice, we
        set <span class="inline-equation"><span class=
        "tex">$\tilde{u}^{(t)}_{m}(r^{(t)}_{m}) = log(\epsilon +
        r^{(t)}_{m})$</span></span> , where ϵ = 10<sup>− 4</sup> or
        other small values. This is because <em>log</em>(0) = −∞
        and if there exists a male <em>m</em> with <span class=
        "inline-equation"><span class="tex">$a^{(t)}_{m}=
        0$</span></span> , the output is always − ∞, hence
        Algorithm&nbsp;1 makes no improvements in initial steps.
        Adding a small ϵ will tackle this dilemma, letting
        Algorithm&nbsp;1 make improvements in each iteration.</p>
      </section>
    </section>
    <section id="sec-16">
      <header>
        <div class="title-info">
          <h2><span class="section-number">6</span> Data-driven
          Empirical Studies</h2>
        </div>
      </header>
      <p>In this section, we conduct evaluations based on the
      combined models and techniques discussed above.</p>
      <section id="sec-17">
        <header>
          <div class="title-info">
            <h3><span class="section-number">6.1</span> Evaluation
            Setups</h3>
          </div>
        </header>
        <p>We first describe the dataset configuration for our
        evaluations. We use the distribution based on the user's
        swiping data from an online dating app during one week in a
        small region. We also normalize the number of matches in
        our evaluation like what we do in Section <a class="sec"
        href="#sec-8">3.2</a>. There are about 3,800 (i.e.,
        <em>M</em> = 3, 800) male active users<a class="fn" href=
        "#fn4" id="foot-fn4"><sup>4</sup></a> and 1,700 (i.e.,
        <em>F</em> = 1, 700) female active users using the app. We
        partition the male users in [<em>M</em>] into two user
        groups, with <span class="inline-equation"><span class=
        "tex">$[M_{\texttt {npu}}]$</span></span> denoting the
        <span class="inline-equation"><span class="tex">$M_{\texttt
        {npu}}$</span></span> non-paying users, and <span class=
        "inline-equation"><span class="tex">$[M_{\texttt
        {pay}}]$</span></span> denoting the <span class=
        "inline-equation"><span class="tex">$M_{\texttt
        {pay}}$</span></span> paying users. We define the paying
        rate <span class="inline-equation"><span class=
        "tex">$\gamma = \frac{M_{\texttt {pay}}}{M}$</span></span>
        , and we calculate <em>γ</em> ≈ 0.26 based on the dataset
        we use. We setup uniform match goal for the male users in
        each group, using <span class=
        "inline-equation"><span class="tex">$g_{\texttt
        {pay}}$</span></span> to denote the match goal for each
        paying user all the time (i.e., <span class=
        "inline-equation"><span class="tex">$g^{(t)}_m = g_{\texttt
        {pay}}, \forall m\in [M_{\texttt {pay}}]$</span></span> )
        and <span class="inline-equation"><span class=
        "tex">$g_{\texttt {npu}}$</span></span> for the match goal
        of each non-paying user. We set <span class=
        "inline-equation"><span class="tex">$g_{\texttt {npu}}=
        7$</span></span> , and use <span class=
        "inline-equation"><span class="tex">$\eta =
        \frac{g_{\texttt {pay}}}{g_{\texttt {npu}}}$</span></span>
        to capture the <em>goal gap</em> between the paying and
        non-paying users. We can change <em>η</em> to adjust the
        added value for premium services, and increasing <em>η</em>
        will decrease the fairness of the market.</p>
        <p>The preference prediction scores (i.e., <span class=
        "inline-equation"><span class="tex">$p^{(t)}_{m,
        f}$</span></span> , <span class=
        "inline-equation"><span class="tex">$\bar{p}^{(t)}_{f,
        m}$</span></span> ) come from the backend recommendation
        system of the app. Then we calculate each match score
        (i.e., <span class="inline-equation"><span class=
        "tex">$w^{(t)}_{m, f}$</span></span> ) and estimate the
        mean of a match score (i.e., <span class=
        "inline-equation"><span class="tex">$\mathbb
        {E}_{w}$</span></span> ). Deriving from the system, we get
        <span class="inline-equation"><span class="tex">$\mathbb
        {E}_{w} = 0.05$</span></span> . To measure the ratio
        between the supply (i.e., expected matches from females’
        swipes) and demand (i.e., sum of match goals for all
        males), we define <span class=
        "inline-equation"><span class="tex">$\Psi
        ^{(t)}_{[M]}$</span></span> as the <em>expected overall
        happiness</em> for the males in the market at round
        <em>t</em>. We calculate the value of <span class=
        "inline-equation"><span class="tex">$\Psi
        ^{(t)}_{[M]}$</span></span> by dividing the total expected
        matches achieved by the total match goals for all
        males:</p>
        <div class="table-responsive" id="eq12">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \displaystyle
            \Psi ^{(t)}_{[M]}= \frac{\mathbb {E}_{w} \cdot \sum _{f
            \in [F]} \bar{c}^{(t)}_f}{M \cdot \Big (\gamma \cdot
            g_{\texttt {pay}}+ (1-\gamma) \cdot g_{\texttt
            {npu}}\Big)}. \end{equation}</span><br />
            <span class="equation-number">(10)</span>
          </div>
        </div>
        <p></p>
        <p>We have <span class="inline-equation"><span class=
        "tex">$\Psi ^{(t)}_{[M]}\in (0, 1)$</span></span> , as the
        limited capacities for females make it difficult to reach
        each male's match goal. The value of <span class=
        "inline-equation"><span class="tex">$\Psi
        ^{(t)}_{[M]}$</span></span> also varies over time. In our
        traces, the value of <span class=
        "inline-equation"><span class="tex">$\Psi
        ^{(t)}_{[M]}$</span></span> is mostly in [0.3, 0.7] for
        various market configurations, and 0.5 is a good estimation
        for common cases.</p>
      </section>
      <section id="sec-18">
        <header>
          <div class="title-info">
            <h3><span class="section-number">6.2</span> Performance
            Metrics</h3>
          </div>
        </header>
        <p>To design better online algorithm using
        Algorithm&nbsp;1, we may try different monotone submodular
        utility functions and parameters. Therefore we need a set
        of performance metrics (i.e., indicators), each of which is
        independent of the utility functions and parameters, to
        evaluate both the efficiency and fairness of the
        market.</p>
        <p><strong>Efficiency indicators.</strong> We use the
        <em>uniform happiness indicators</em> to measure the
        efficiency of the market. For each male <em>m</em> ∈
        [<em>M</em>], his uniform happiness (i.e., denoted as
        <span class="inline-equation"><span class=
        "tex">$h^{(t)}_m$</span></span> ) is <span class=
        "inline-equation"><span class=
        "tex">$r^{(t)}_{m}$</span></span> if <span class=
        "inline-equation"><span class="tex">$r^{(t)}_{m}\le
        1$</span></span> , and <span class=
        "inline-equation"><span class="tex">$h^{(t)}_m=
        1$</span></span> if <span class=
        "inline-equation"><span class="tex">$r^{(t)}_{m}{\gt}
        1$</span></span> . The happiness indicator for all users is
        <span class="inline-equation"><span class=
        "tex">$H^{(t)}_{[M]}= \frac{1}{M} \cdot \sum _{m \in [M]}
        h^{(t)}_m$</span></span> , which implies the ratio of
        satisfied users in the dating market. In the same way, we
        also define the happiness indicator for paying users (i.e.,
        <span class="inline-equation"><span class=
        "tex">$H^{(t)}_{[M_{\texttt {pay}}]}$</span></span> ) and
        for non-paying users (i.e., <span class=
        "inline-equation"><span class="tex">$H^{(t)}_{[M_{\texttt
        {npu}}]}$</span></span> ).</p>
        <p><strong>Fairness Indicators.</strong> To evaluate the
        overall fairness for the male users, we define the match
        fairness (i.e., <span class="inline-equation"><span class=
        "tex">$J^{(t)}_{[M]}$</span></span> ) and impression
        fairness (i.e., <span class="inline-equation"><span class=
        "tex">$\tilde{J}^{(t)}_{[M]}$</span></span> ) based on
        <em>Jain's fairness index</em>&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0028">28</a>]. The metric indicates
        the fairness for the number of matches for each male and
        the cardinality of each male's impression set. Jain's index
        provides a promising system-level overview of the fairness,
        which is both easy to compute (i.e., has an explicit form)
        and normalized (i.e., ranges in [0, 1]). Therefore it is
        more appropriate to our model than other fairness
        indicators such as Gini coefficient&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0041">41</a>], max-min
        fairness&nbsp;[<a class="bib" data-trigger="hover"
        data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0028">28</a>], or
        <em>α</em>-fairness&nbsp;[<a class="bib" data-trigger=
        "hover" data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0028">28</a>]. Based on the definition of Jain's
        index, we calculate <span class=
        "inline-equation"><span class=
        "tex">$J^{(t)}_{[M]}$</span></span> and <span class=
        "inline-equation"><span class=
        "tex">$\tilde{J}^{(t)}_{[M]}$</span></span> :</p>
        <div class="table-responsive" id="eq13">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \displaystyle
            J^{(t)}_{[M]}= \frac{\Big (\sum _{m \in
            [M]}a^{(t)}_{m}\Big) ^ {2}}{M \cdot \Big (\sum _{m \in
            [M]} (a^{(t)}_{m})^{2}\Big)}
            \end{equation}</span><br />
            <span class="equation-number">(11)</span>
          </div>
        </div>
        <div class="table-responsive" id="eq14">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \displaystyle
            \tilde{J}^{(t)}_{[M]}= \frac{\Big (\sum _{m \in
            [M]}|I^{(t)}_{m}| \Big) ^ {2}}{M \cdot \Big (\sum _{m
            \in [M]} |I^{(t)}_{m}|^{2}\Big) }
            \end{equation}</span><br />
            <span class="equation-number">(12)</span>
          </div>
        </div>
        <p></p>
      </section>
      <section id="sec-19">
        <header>
          <div class="title-info">
            <h3><span class="section-number">6.3</span> Choosing
            the Utility Function</h3>
          </div>
        </header>
        <p>Different utility functions imply various trade-offs
        between efficiency and fairness. However, since the match
        goal in each group varies, if we recommend male
        <span class="inline-equation"><span class="tex">$m \in
        [M_{\texttt {npu}}]$</span></span> and <span class=
        "inline-equation"><span class="tex">$m^{\prime } \in
        [M_{\texttt {pay}}]$</span></span> to female <em>f</em>
        with <span class="inline-equation"><span class=
        "tex">$w^{(t)}_{m, f}= w^{(t)}_{m^{\prime },
        f}$</span></span> , the increment in <span class=
        "inline-equation"><span class=
        "tex">$r^{(t)}_{m}$</span></span> and <span class=
        "inline-equation"><span class="tex">$r^{(t)}_{m^{\prime
        }}$</span></span> varies, and therefore the marginal
        utility may be biased. To eliminate the bias, we introduce
        the <em>indifferent coefficient</em> (i.e., denoted as
        <em>β</em>), which depends on the utility function
        <em>u</em> and the goal gap <em>λ</em>, but is independent
        of achieved matches <span class=
        "inline-equation"><span class=
        "tex">$a^{(t)}_{m}$</span></span> .</p>
        <div class="definition" id="enc2">
          <label>Definition 6.1.</label>
          <p><strong>(Indifferent Coefficient)</strong> For a
          differentiable and monotone submodular utility function
          <em>u</em> and goal gap <em>η</em>, if there exists a
          constant <em>β</em>, such that:</p>
          <div class="table-responsive" id="eq15">
            <div class="display-equation">
              <span class="tex mytex">\begin{equation}
              \displaystyle u^{\prime } \Big (\frac{a}{g_{\texttt
              {npu}}}\Big) = \beta \cdot u^{\prime } \Big
              (\frac{a}{\eta \cdot g_{\texttt {npu}}} \Big), \quad
              \forall a \ge 0, \end{equation}</span><br />
              <span class="equation-number">(13)</span>
            </div>
          </div>
          <p></p>
          <p>and we define <em>β</em> as the indifferent
          coefficient of <em>u</em> and <em>η</em>.</p>
        </div>
        <p>While <em>β</em> indicates the same accelerated speed
        for marginal utility gained for different user groups, note
        that not every monotone submodular function has an
        indifferent coefficient. For instance, the <em>tanh</em>
        function (i.e., <em>u</em>(<em>r</em>) =
        <em>tanh</em>(<em>r</em>)) does not have an indifferent
        coefficient. It is easy to verify that of power functions
        (i.e., <em>u</em>(<em>r</em>) = <em>r<sup>τ</sup></em> ,
        ∀<em>r</em> ∈ [0, +∞)) with exponent <em>τ</em> ∈ (0, 1]
        are all monotone submodular with <em>β</em> =
        <em>η<sup>τ</sup></em> . Additionally, the logarithmic
        utility function (i.e., <em>u</em>(<em>r</em>) =
        <em>log</em>(<em>r</em>), reduced from the Nash social
        welfare) has a consistent indifferent coefficient
        <em>β</em> = 1. <strong>Priority parameter.</strong>Let us
        revisit the definition for the weight parameters
        <span class="inline-equation"><span class="tex">$\alpha
        ^{(t)}_{m}$</span></span> in (<a class="eqn" href=
        "#eq2">2</a>). If we set <span class=
        "inline-equation"><span class="tex">$\alpha ^{(t)}_{m}= 1,
        \forall m \in [M_{\texttt {npu}}]$</span></span> , and
        <span class="inline-equation"><span class="tex">$\alpha
        ^{(t)}_{m}= \beta , \forall m \in [M_{\texttt
        {pay}}]$</span></span> , then the non-paying users and
        paying users will have the same accelerated speed to get a
        match. In practice, to make the premium services more
        valuable, the app needs to help the paying users get a
        match more quickly, otherwise, it is hard for a paying user
        to reach his match goal with the same speed. Therefore we
        introduce the <em>priority parameter</em> for the paying
        users (i.e., <em>λ</em>), indicating the level of
        accelerated speed for paying users, comparing to the
        non-paying users. Then we set <span class=
        "inline-equation"><span class="tex">$\alpha ^{(t)}_{m}=
        \beta \cdot \lambda , \forall m \in [M_{\texttt
        {pay}}]$</span></span> . In this way, we decompose the
        value for each weight coefficient <span class=
        "inline-equation"><span class="tex">$\alpha
        ^{(t)}_{m}$</span></span> into two independent components:
        one component is the indifferent coefficient <em>β</em>
        that only depends on the utility function (i.e., a constant
        part), and the other component is the priority, measuring
        the level of privileges to the paying users (i.e., the
        tunable parameter). In practice, we can dynamically adjust
        the value of <em>λ</em> to strike a good balance between
        the happiness for non-paying and paying users, (i.e., like
        tuning a <em>hyperparameter</em> in machine learning
        algorithms). We will show the details about how to tune it
        in Section&nbsp;<a class="sec" href="#sec-20">6.4</a>.</p>
        <p><strong>Evaluate the functions.</strong> Then we
        evaluate a set of monotone submodular utility functions,
        where each of them has an indifferent coefficient
        <em>β</em>. We choose <tt>Linear</tt> (i.e.,
        <em>u</em>(<em>r</em>) = <em>r</em>), <tt>Sqrt</tt> (i.e.,
        <span class="inline-equation"><span class=
        "tex">$u(r)=r^{\frac{1}{2}}$</span></span> ), <tt>Cbrt</tt>
        (i.e., <span class="inline-equation"><span class=
        "tex">$u(r)=r^{\frac{1}{3}}$</span></span> ), and
        <span class="inline-equation"><span class="tex">${\texttt
        {NSW}}$</span></span> (i.e., <em>u</em>(<em>r</em>) =
        <em>log</em>(<em>r</em>)), as well as these functions
        incorporating with utility caps, (i.e., denoted as
        <tt>Linear-cap</tt>, <tt>Sqrt-cap</tt>, <tt>Cbrt-cap</tt>,
        and <span class="inline-equation"><span class=
        "tex">${\texttt {NSW-cap}}$</span></span> ).</p>
        <p>To show the performance of different utility functions,
        we fix <em>η</em> = 3, <em>λ</em> = 3, and vary the value
        of <span class="inline-equation"><span class="tex">$\Psi
        ^{(t)}_{[M]}\in (0,1)$</span></span> , to evaluate the
        results with various supply-demand conditions.</p>
        <p>Figure&nbsp;<a class="fig" href="#fig2">2(a)</a> to
        Figure&nbsp;<a class="fig" href="#fig2">2(c)</a> show the
        efficiency indicators for the functions. For overall
        happiness and non-paying users’ happiness, both
        <span class="inline-equation"><span class="tex">${\texttt
        {NSW}}$</span></span> and <span class=
        "inline-equation"><span class="tex">${\texttt
        {NSW-cap}}$</span></span> perform well and <span class=
        "inline-equation"><span class="tex">${\texttt
        {NSW}}$</span></span> beats all the other functions without
        utility caps. As <span class="inline-equation"><span class=
        "tex">${\texttt {NSW}}$</span></span> and <span class=
        "inline-equation"><span class="tex">${\texttt
        {NSW-cap}}$</span></span> care more about the overall
        happiness, especially the non-paying users, sometimes they
        do not perform well on the happiness for paying users. This
        is also because <em>λ</em> = 3 is not an appropriate
        parameter, and we show how to choose the best <em>λ</em>
        under different <em>η</em> and <span class=
        "inline-equation"><span class="tex">$\Psi
        ^{(t)}_{[M]}$</span></span> in Section&nbsp;<a class="sec"
        href="#sec-20">6.4</a>.</p>
        <figure id="fig2">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186109/images/www2018-118-fig2.jpg"
          class="img-responsive" alt="Figure 2" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 2:</span>
            <span class="figure-title">Happiness indicators for
            different user groups.</span>
          </div>
        </figure>
        <p>Figure&nbsp;<a class="fig" href="#fig3">3(a)</a> and
        Figure&nbsp;<a class="fig" href="#fig3">3(b)</a>
        demonstrate the performance for fairness. We see that
        <span class="inline-equation"><span class="tex">${\texttt
        {NSW}}$</span></span> beats all the other functions on
        impression fairness <span class=
        "inline-equation"><span class=
        "tex">$\tilde{J}^{(t)}_{[M]}$</span></span> . For match
        fairness <span class="inline-equation"><span class=
        "tex">$J^{(t)}_{[M]}$</span></span> , <span class=
        "inline-equation"><span class="tex">${\texttt
        {NSW-cap}}$</span></span> beats all the other functions,
        and <span class="inline-equation"><span class=
        "tex">${\texttt {NSW}}$</span></span> beats the other
        functions without utility caps.</p>
        <figure id="fig3">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186109/images/www2018-118-fig3.jpg"
          class="img-responsive" alt="Figure 3" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 3:</span>
            <span class="figure-title">Impression fairness for all
            users.</span>
          </div>
        </figure>
        <figure id="fig4">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186109/images/www2018-118-fig4.jpg"
          class="img-responsive" alt="Figure 4" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 4:</span>
            <span class="figure-title">Match distribution for the
            males.</span>
          </div>
        </figure>
        <p></p>
      </section>
      <section id="sec-20">
        <header>
          <div class="title-info">
            <h3><span class="section-number">6.4</span> Parameters
            and Equilibriums</h3>
          </div>
        </header>
        <p>From the results above, we select <span class=
        "inline-equation"><span class="tex">${\texttt
        {NSW}}$</span></span> and <span class=
        "inline-equation"><span class="tex">${\texttt
        {NSW-cap}}$</span></span> to further evaluate how to select
        appropriate parameters.</p>
        <p><strong>Tuning the priority parameter
        <em>λ</em>.</strong>We first fix <span class=
        "inline-equation"><span class="tex">$\Psi ^{(t)}_{[M]}=
        0.5$</span></span> and <em>η</em> = 3. To capture how
        <em>λ</em> impacts the priority for the paying users in
        reality, comparing to the expected goal gap <em>η</em>, we
        introduce the deviation factor <em>δ</em>, denoting the
        real gap (i.e., for <span class=
        "inline-equation"><span class=
        "tex">$a^{(t)}_{m}$</span></span> ) between paying and
        non-paying users divided by <em>η</em>.</p>
        <p>For <span class="inline-equation"><span class=
        "tex">${\texttt {NSW}}$</span></span> (i.e.,
        Figure&nbsp;<a class="fig" href="#fig5">5(a)</a>), easy to
        find that the fairness indicators both go down when
        <em>λ</em> increases. A good value for <em>λ</em> is around
        5, where <em>δ</em> ≈ 1, and the values of <span class=
        "inline-equation"><span class=
        "tex">$H^{(t)}_{[M]}$</span></span> , <span class=
        "inline-equation"><span class="tex">$H^{(t)}_{[M_{\texttt
        {npu}}]}$</span></span> , <span class=
        "inline-equation"><span class="tex">$H^{(t)}_{[M_{\texttt
        {pay}}]}$</span></span> are almost equal (i.e., around
        0.64). This interesting phenomenon shows an
        <em>equilibrium</em> (i.e., when <em>λ</em> = <em>λ</em>
        <sup>*</sup>) between non-paying users and paying users,
        where the three happiness indicators reach around an
        <em>equilibrium happiness</em> (i.e., denoted as <em>H</em>
        <sup>*</sup>). The equilibrium provides a promising
        selection of <em>λ</em> (i.e., <em>λ</em> <sup>*</sup>), as
        when <em>λ</em> &lt; <em>λ</em> <sup>*</sup>, the paying
        users are not satisfied. Additionally, when <em>λ</em> &gt;
        <em>λ</em> <sup>*</sup>, the happiness of non-paying users
        drops faster than the happiness of paying users can
        increase.</p>
        <p>For <span class="inline-equation"><span class=
        "tex">${\texttt {NSW-cap}}$</span></span> (i.e.,
        Figure&nbsp;<a class="fig" href="#fig5">5(b)</a>), we also
        find the equilibrium when <em>λ</em> ≈ 6 with <em>δ</em> ≈
        1 and <em>H</em> <sup>*</sup> ≈ 0.66, indicating that 66%
        of both the non-paying and paying users are happy, which is
        better than the equilibrium happiness of <span class=
        "inline-equation"><span class="tex">${\texttt
        {NSW}}$</span></span> .</p>
        <figure id="fig5">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186109/images/www2018-118-fig5.jpg"
          class="img-responsive" alt="Figure 5" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 5:</span>
            <span class="figure-title">Indicators for <span class=
            "inline-equation"><span class="tex">${\texttt
            {NSW}}$</span></span> and <span class=
            "inline-equation"><span class="tex">${\texttt
            {NSW-cap}}$</span></span> with different
            <em>λ</em>.</span>
          </div>
        </figure><strong>Finding equilibriums.</strong> Then we
        find the equilibriums under different configurations (i.e.,
        <span class="inline-equation"><span class="tex">$\Psi
        ^{(t)}_{[M]}$</span></span> and <em>η</em>). We show the
        results in Table&nbsp;<a class="tbl" href="#tab1">1</a>
        (<span class="inline-equation"><span class="tex">${\texttt
        {NSW}}$</span></span> ) and Table&nbsp;<a class="tbl" href=
        "#tab2">2</a> (<span class="inline-equation"><span class=
        "tex">${\texttt {NSW-cap}}$</span></span> ).
        <p></p>
        <div class="table-responsive" id="tab1">
          <div class="table-caption">
            <span class="table-number">Table 1:</span> <span class=
            "table-title">Finding equilibriums for <span class=
            "inline-equation"><span class="tex">${\texttt
            {NSW}}$</span></span> .</span>
          </div>
          <table class="table">
            <thead>
              <tr>
                <td style="text-align:center;"><span class=
                "inline-equation"><span class="tex">$\Psi
                ^{(t)}_{[M]}$</span></span></td>
                <td style="text-align:center;"><em>η</em></td>
                <td style="text-align:center;"><em>λ</em>
                <sup>*</sup></td>
                <td style="text-align:center;"><em>H</em>
                <sup>*</sup></td>
                <td style="text-align:center;"><span class=
                "inline-equation"><span class=
                "tex">$J^{(t)}_{[M]}$</span></span></td>
                <td style="text-align:center;"><span class=
                "inline-equation"><span class=
                "tex">$\tilde{J}^{(t)}_{[M]}$</span></span></td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td style="text-align:center;">0.3</td>
                <td style="text-align:center;">2.0</td>
                <td style="text-align:center;">2.5</td>
                <td style="text-align:center;">0.56</td>
                <td style="text-align:center;">0.62</td>
                <td style="text-align:center;">0.83</td>
              </tr>
              <tr>
                <td style="text-align:center;">0.3</td>
                <td style="text-align:center;">3.0</td>
                <td style="text-align:center;">4.0</td>
                <td style="text-align:center;">0.47</td>
                <td style="text-align:center;">0.51</td>
                <td style="text-align:center;">0.67</td>
              </tr>
              <tr>
                <td style="text-align:center;">0.3</td>
                <td style="text-align:center;">4.0</td>
                <td style="text-align:center;">5.5</td>
                <td style="text-align:center;">0.40</td>
                <td style="text-align:center;">0.45</td>
                <td style="text-align:center;">0.60</td>
              </tr>
              <tr>
                <td style="text-align:center;">0.5</td>
                <td style="text-align:center;">2.0</td>
                <td style="text-align:center;">3.0</td>
                <td style="text-align:center;">0.72</td>
                <td style="text-align:center;">0.62</td>
                <td style="text-align:center;">0.80</td>
              </tr>
              <tr>
                <td style="text-align:center;">0.5</td>
                <td style="text-align:center;">3.0</td>
                <td style="text-align:center;">5.0</td>
                <td style="text-align:center;">0.64</td>
                <td style="text-align:center;">0.50</td>
                <td style="text-align:center;">0.65</td>
              </tr>
              <tr>
                <td style="text-align:center;">0.5</td>
                <td style="text-align:center;">4.0</td>
                <td style="text-align:center;">7.0</td>
                <td style="text-align:center;">0.56</td>
                <td style="text-align:center;">0.44</td>
                <td style="text-align:center;">0.57</td>
              </tr>
              <tr>
                <td style="text-align:center;">0.7</td>
                <td style="text-align:center;">2.0</td>
                <td style="text-align:center;">3.5</td>
                <td style="text-align:center;">0.80</td>
                <td style="text-align:center;">0.61</td>
                <td style="text-align:center;">0.77</td>
              </tr>
              <tr>
                <td style="text-align:center;">0.7</td>
                <td style="text-align:center;">3.0</td>
                <td style="text-align:center;">5.5</td>
                <td style="text-align:center;">0.73</td>
                <td style="text-align:center;">0.51</td>
                <td style="text-align:center;">0.62</td>
              </tr>
              <tr>
                <td style="text-align:center;">0.7</td>
                <td style="text-align:center;">4.0</td>
                <td style="text-align:center;">8.5</td>
                <td style="text-align:center;">0.71</td>
                <td style="text-align:center;">0.44</td>
                <td style="text-align:center;">0.55</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="table-responsive" id="tab2">
          <div class="table-caption">
            <span class="table-number">Table 2:</span> <span class=
            "table-title">Finding equilibriums for <span class=
            "inline-equation"><span class="tex">${\texttt
            {NSW-cap}}$</span></span> .</span>
          </div>
          <table class="table">
            <thead>
              <tr>
                <td style="text-align:center;"><span class=
                "inline-equation"><span class="tex">$\Psi
                ^{(t)}_{[M]}$</span></span></td>
                <td style="text-align:center;"><em>η</em></td>
                <td style="text-align:center;"><em>λ</em>
                <sup>*</sup></td>
                <td style="text-align:center;"><em>H</em>
                <sup>*</sup></td>
                <td style="text-align:center;"><span class=
                "inline-equation"><span class=
                "tex">$J^{(t)}_{[M]}$</span></span></td>
                <td style="text-align:center;"><span class=
                "inline-equation"><span class=
                "tex">$\tilde{J}^{(t)}_{[M]}$</span></span></td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td style="text-align:center;">0.3</td>
                <td style="text-align:center;">2.0</td>
                <td style="text-align:center;">3.0</td>
                <td style="text-align:center;">0.57</td>
                <td style="text-align:center;">0.66</td>
                <td style="text-align:center;">0.79</td>
              </tr>
              <tr>
                <td style="text-align:center;">0.3</td>
                <td style="text-align:center;">3.0</td>
                <td style="text-align:center;">4.5</td>
                <td style="text-align:center;">0.48</td>
                <td style="text-align:center;">0.52</td>
                <td style="text-align:center;">0.66</td>
              </tr>
              <tr>
                <td style="text-align:center;">0.3</td>
                <td style="text-align:center;">4.0</td>
                <td style="text-align:center;">5.5</td>
                <td style="text-align:center;">0.40</td>
                <td style="text-align:center;">0.45</td>
                <td style="text-align:center;">0.60</td>
              </tr>
              <tr>
                <td style="text-align:center;">0.5</td>
                <td style="text-align:center;">2.0</td>
                <td style="text-align:center;">4.5</td>
                <td style="text-align:center;">0.75</td>
                <td style="text-align:center;">0.75</td>
                <td style="text-align:center;">0.69</td>
              </tr>
              <tr>
                <td style="text-align:center;">0.5</td>
                <td style="text-align:center;">3.0</td>
                <td style="text-align:center;">6.0</td>
                <td style="text-align:center;">0.66</td>
                <td style="text-align:center;">0.59</td>
                <td style="text-align:center;">0.62</td>
              </tr>
              <tr>
                <td style="text-align:center;">0.5</td>
                <td style="text-align:center;">4.0</td>
                <td style="text-align:center;">7.5</td>
                <td style="text-align:center;">0.57</td>
                <td style="text-align:center;">0.48</td>
                <td style="text-align:center;">0.55</td>
              </tr>
              <tr>
                <td style="text-align:center;">0.7</td>
                <td style="text-align:center;">2.0</td>
                <td style="text-align:center;">10.0</td>
                <td style="text-align:center;">0.82</td>
                <td style="text-align:center;">0.80</td>
                <td style="text-align:center;">0.58</td>
              </tr>
              <tr>
                <td style="text-align:center;">0.7</td>
                <td style="text-align:center;">3.0</td>
                <td style="text-align:center;">12.0</td>
                <td style="text-align:center;">0.74</td>
                <td style="text-align:center;">0.63</td>
                <td style="text-align:center;">0.54</td>
              </tr>
              <tr>
                <td style="text-align:center;">0.7</td>
                <td style="text-align:center;">4.0</td>
                <td style="text-align:center;">14.0</td>
                <td style="text-align:center;">0.71</td>
                <td style="text-align:center;">0.51</td>
                <td style="text-align:center;">0.50</td>
              </tr>
            </tbody>
            <tfoot>
              <tr>
                <td>‘</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
              </tr>
            </tfoot>
          </table>
        </div>
        <p>When we fix the value of <em>η</em>, increasing
        <span class="inline-equation"><span class="tex">$\Psi
        ^{(t)}_{[M]}$</span></span> will result in higher
        equilibriums for both <em>λ</em> <sup>*</sup> and
        <em>H</em> <sup>*</sup>. This is because improving the
        supply (i.e., total capacities of females) will make it
        easy to get a match for each user, so as to improve the
        happiness indicators. Furthermore, since non-paying user
        can get a match more easily, we need to raise <em>λ</em>
        <sup>*</sup> to make <em>δ</em> ≈ 1.</p>
        <p>Additionally, when we fix the value of <span class=
        "inline-equation"><span class="tex">$\Psi
        ^{(t)}_{[M]}$</span></span> , we see that a larger
        <em>η</em> will increase <em>λ</em> <sup>*</sup>. While
        increasing <em>η</em> leads to a more imbalanced market,
        the fairness indicators and <em>H</em> <sup>*</sup> both go
        down, as non-paying users will get less match and therefore
        unsatisfied.</p>
      </section>
      <section id="sec-21">
        <header>
          <div class="title-info">
            <h3><span class="section-number">6.5</span> Evaluation
            of the Performance Gains</h3>
          </div>
        </header>
        <p>In this section, we evaluate the performance gains of
        using Nash social welfare maximization (i.e., <span class=
        "inline-equation"><span class="tex">${\texttt
        {NSW}}$</span></span> and <span class=
        "inline-equation"><span class="tex">${\texttt
        {NSW-cap}}$</span></span> ). From the dataset and the
        differences between paying and non-paying in the region, we
        calculate that <span class="inline-equation"><span class=
        "tex">$\Psi ^{(t)}_{[M]}= 0.5$</span></span> , <em>η</em> =
        3, and <span class="inline-equation"><span class=
        "tex">$g_{\texttt {pay}}= \eta \cdot g_{\texttt {npu}}=
        21$</span></span> . By the definitions in (<a class="eqn"
        href="#eq13">11</a>) and (<a class="eqn" href=
        "#eq14">12</a>), we calculate that the match fairness for
        the males in the dataset is 0.297, and the impression
        fairness is 0.342 by using Jain's fairness indicators.</p>
        <p>We then plot the match distribution for our dataset
        (Figure&nbsp;<a class="fig" href="#fig4">4(a)</a>), as well
        as for the result of <span class=
        "inline-equation"><span class="tex">${\texttt
        {NSW}}$</span></span> (<a class="fig" href=
        "#fig4">Figure&nbsp;4(b)</a>) and <span class=
        "inline-equation"><span class="tex">${\texttt
        {NSW-cap}}$</span></span> (Figure&nbsp;<a class="fig" href=
        "#fig4">4(c)</a>). The x-axis is the number of matches, and
        the y-axis is the population ratio given a fixed number of
        matches. We also zoom in the x-axis to {0, 1, 2, ⋅⋅⋅, 24},
        as <span class="inline-equation"><span class=
        "tex">$g_{\texttt {npu}}= 7$</span></span> and <span class=
        "inline-equation"><span class="tex">$g_{\texttt {pay}}=
        21$</span></span> , and the population ratio is very small
        when the matches exceed <span class=
        "inline-equation"><span class="tex">$g_{\texttt
        {pay}}$</span></span> .</p>
        <p>For <span class="inline-equation"><span class=
        "tex">${\texttt {NSW-cap}}$</span></span> , the match
        fairness can improve by 98.7% to 0.59 comparing to the
        matches of the dataset, and the impression fairness
        increases 81.3%. Furthermore, we estimate that the average
        number of matches of the males will increase 32.0% for
        <span class="inline-equation"><span class="tex">${\texttt
        {NSW-cap}}$</span></span> by using <em>H</em> <sup>*</sup>
        divided by <span class="inline-equation"><span class=
        "tex">$\Psi ^{(t)}_{[M]}$</span></span> . From
        Figure&nbsp;<a class="fig" href="#fig4">4(c)</a>, we can
        observe two peaks of population ratios for 7 (i.e.,
        <span class="inline-equation"><span class="tex">$g_{\texttt
        {npu}}$</span></span> ) and 21 matches (i.e., <span class=
        "inline-equation"><span class="tex">$g_{\texttt
        {pay}}$</span></span> ), and also find that the population
        ratio becomes 0 when the number of matches exceeds 21.
        These are all caused by the <em>utility caps</em>.</p>
        <p>For <span class="inline-equation"><span class=
        "tex">${\texttt {NSW}}$</span></span> (i.e., without
        introducing the utility caps), it increases 68.4% of the
        match fairness and 28.0% of the average number of matches,
        which underperforms the <span class=
        "inline-equation"><span class="tex">${\texttt
        {NSW-cap}}$</span></span> . Whereas it increases the
        impression fairness by 90.1%, which outperforms the
        <span class="inline-equation"><span class="tex">${\texttt
        {NSW-cap}}$</span></span> . Furthermore, as <span class=
        "inline-equation"><span class="tex">${\texttt
        {NSW}}$</span></span> does not introduce the utility caps,
        we do not see clear peaks at <span class=
        "inline-equation"><span class="tex">$g_{\texttt
        {npu}}$</span></span> and <span class=
        "inline-equation"><span class="tex">$g_{\texttt
        {pay}}$</span></span> from Figure&nbsp;<a class="fig" href=
        "#fig4">4(b)</a> .</p>
      </section>
    </section>
    <section id="sec-22">
      <header>
        <div class="title-info">
          <h2><span class="section-number">7</span> Conclusion and
          Future Work</h2>
        </div>
      </header>
      <p>Modern mobile dating applications provide appealing double
      opt-in design to make the match making simple and enjoyable.
      We strongly believe that a better trade-off between the
      efficiency and fairness of the dating markets can further
      improve the users’ satisfactions, removing the frustration
      when a user can not obtain a match or his desired number of
      matches. This paper focuses on the discussion on designing
      and implementing efficient and fair online dating markets. We
      discuss the submodularity and leverage the Nash social
      welfare to trade off between the two objectives through both
      theoretical analysis and empirical studies.</p>
      <p>This work leads to many open questions to future
      directions to build a more efficient and fair online dating
      market: 1) We have not discussed the <em>uncontrollable</em>
      factors affecting the fairness in this work, and we can
      classify the users based on their attractiveness levels, and
      design better recommendation algorithms for each level of
      users. 2) We mentioned that the females’ retention rate is
      not much sensitive to the number of matches, and we want to
      design better algorithms or policies to improve the females’
      retention rate.</p>
    </section>
    <section id="sec-23">
      <header>
        <div class="title-info">
          <h2>Acknowledgment</h2>
        </div>
      </header>
      <p>tocsectionAcknowledgment This research is supported in
      part by the Tsinghua Initiative Research Program Grant
      20151080475. We thank Maria Renhui Zhang for the insightful
      discussions.</p>
    </section>
  </section>
  <section class="back-matter">
    <section id="ref-001">
      <header>
        <div class="title-info">
          <h2 class="page-brake-head">REFERENCES</h2>
        </div>
      </header>
      <ul class="bibUl">
        <li id="BibPLXBIB0001" label="[1]">[n. d.]. <em><em>Coffee
        Meets Bagel</em></em> . <a href=
        "https://coffeemeetsbagel.com/" target=
        "_blank">https://coffeemeetsbagel.com/</a>.
        </li>
        <li id="BibPLXBIB0002" label="[2]">[n. d.]. <em><em>Google
        Adwords</em></em> . <a href="https://adwords.google.com"
        target="_blank">https://adwords.google.com</a>.
        </li>
        <li id="BibPLXBIB0003" label="[3]">[n. d.].
        <em><em>TanTan</em></em> . <a href=
        "https://tantanapp.com/en/" target=
        "_blank">https://tantanapp.com/en/</a>.
        </li>
        <li id="BibPLXBIB0004" label="[4]">[n. d.].
        <em><em>Tinder</em></em> . <a href=
        "https://www.gotinder.com/" target=
        "_blank">https://www.gotinder.com/</a>.
        </li>
        <li id="BibPLXBIB0005" label="[5]">2016. 15% of American
        Adults Have Used Online Dating Sites or Mobile Dating Apps.
        <em><em>Retrived from <a href=
        "http://www.pewinternet.org/2016/02/11/15-percent-of-american-adults-have-used-online-dating-sites-or-mobile-dating-apps/"
        target=
        "_blank">http://www.pewinternet.org/2016/02/11/15-percent-of-american-adults-have-used-online-dating-sites-or-mobile-dating-apps/</a></em></em>
        (2016).</li>
        <li id="BibPLXBIB0006" label="[6]">2017. Cosmo's Dating App
        School. <em><em>Cosmopolitan</em></em> (2017).</li>
        <li id="BibPLXBIB0007" label="[7]">2017. Tantan, China's
        top dating app, raises <font style="normal">$</font>70M for
        monetization push and overseas expansion. <em><em>Retrived
        from <a href=
        "https://techcrunch.com/2017/06/21/chinas-tantan-raises-70-million/"
        target=
        "_blank">https://techcrunch.com/2017/06/21/chinas-tantan-raises-70-million/</a></em></em>
        (2017).</li>
        <li id="BibPLXBIB0008" label="[8]">Olga Abramova, Annika
        Baumann, and Hanna Krasnova. 2016. Gender differences in
        online dating: What do we know so far?. In <em><em>Hawaii
        International Conference on System Sciences
        (HICSS)</em></em> .</li>
        <li id="BibPLXBIB0009" label="[9]">Siddharth Barman,
        Sanath&nbsp;Kumar Krishnamurthy, and Rohit Vaish. 2017.
        Finding Fair and Efficient Allocations. In <em><em>Arxiv:
        1707.04731</em></em> .</li>
        <li id="BibPLXBIB0010" label="[10]">Simina Branzei, Vasilis
        Gkatzelis, and Ruta Mehta. 2017. Nash Social Welfare
        Approximation for Strategic Agents. In <em><em>Proceedings
        of the ACM Conference on Economics and Computation
        (EC)</em></em> .</li>
        <li id="BibPLXBIB0011" label="[11]">Ioannis Caragiannis,
        David Kurokawa, Hervé Moulin, Ariel&nbsp;D. Procaccia,
        Nisarg Shah, and Junxing Wang. 2016. The Unreasonable
        Fairness of Maximum Nash Welfare. In <em><em>Proceedings of
        the ACM Conference on Economics and Computation
        (EC)</em></em> .</li>
        <li id="BibPLXBIB0012" label="[12]">Christopher&nbsp;J.
        Carpenter and Bree McEwan. 2016. The players of
        micro-dating: Individual and gender differences in goal
        orientations toward micro-dating apps. <em><em>First
        Monday</em></em> (2016).</li>
        <li id="BibPLXBIB0013" label="[13]">M.&nbsp;Keith Chen.
        2016. Dynamic Pricing in a Labor Market: Surge Pricing and
        Flexible Work on the Uber Platform. In <em><em>Proceedings
        of the ACM Conference on Economics and
        Computation</em></em> .</li>
        <li id="BibPLXBIB0014" label="[14]">Marie Claire. 2017.
        Tinder: The Online Dating App Everyone's Talking About.
        <em><em>Retrived from <a href=
        "http://www.marieclaire.co.uk/life/sex-and-relationships/tinder-the-online-dating-app-that-everyone-s-talking-about-112522"
        target=
        "_blank">http://www.marieclaire.co.uk/life/sex-and-relationships/tinder-the-online-dating-app-that-everyone-s-talking-about-112522</a></em></em>
        (2017).</li>
        <li id="BibPLXBIB0015" label="[15]">Camille Cobb and
        Tadayoshi Kohno. 2017. How Public Is My Private Life?
        Privacy in Online Dating. In <em><em>Proceedings of the
        26th International Conference on World Wide Web
        (WWW)</em></em> .</li>
        <li id="BibPLXBIB0016" label="[16]">Richard Cole and
        Vasilis Gkatzelis. 2015. Approximating the Nash Social
        Welfare with Indivisible Items. In <em><em>Proceedings of
        the annual ACM symposium on Theory of computing</em></em>
        .</li>
        <li id="BibPLXBIB0017" label="[17]">Edmund Eisenberg and
        David Gale. 1959. Consensus of Subjective Probabilities:
        The Pari-Mutuel Method. <em><em>The Annals of Mathematical
        Statistics 30, 1</em></em> (1959).</li>
        <li id="BibPLXBIB0018" label="[18]">Zhixuan Fang, Longbo
        Huang, and Adam Wierman. 2017. Prices and Subsidies in the
        Sharing Economy. In <em><em>Proceedings of the 26th
        International Conference on World Wide Web (WWW)</em></em>
        .</li>
        <li id="BibPLXBIB0019" label="[19]">Jon Feldman, Monika
        Henzinger, Nitish Korula, Vahab&nbsp;S. Mirrokni, and Cliff
        Stein. 2010. Online Stochastic Packing Applied to Display
        Ad Allocation. In <em><em>European Symposium on Algorithms
        (ESA)</em></em> .</li>
        <li id="BibPLXBIB0020" label="[20]">Yuval Filmus and Justin
        Ward. 2012. A Tight Combinatorial Algorithm for Submodular
        Maximization Subject to a Matroid Constraint. In
        <em><em>Proceedings of the IEEE Annual Symposium on
        Foundations of Computer Science (FOCS)</em></em> .</li>
        <li id="BibPLXBIB0021" label="[21]">Jugal Garg, Martin
        Hoefer, and Kurt Mehlhorn. 2017. Approximating the Nash
        Social Welfare with Budget-Additive Valuations. In
        <em><em>Arxiv: 1707.04428v1</em></em> .</li>
        <li id="BibPLXBIB0022" label="[22]">Günter&nbsp;J. Hitsch,
        Ali&nbsp;Hortaçsu, and Dan Ariely. 2010. Matching and
        Sorting in Online Dating. <em><em>The American Economic
        Review</em></em> (2010).</li>
        <li id="BibPLXBIB0023" label="[23]">Günter&nbsp;J. Hitsch,
        Ali&nbsp;Hortaçsu, and Dan Ariely. 2010. What makes you
        click? mate preferences in online dating.
        <em><em>Quantitative marketing and Economics</em></em>
        (2010).</li>
        <li id="BibPLXBIB0024" label="[24]">Yongzheng Jia, Wei Xu,
        and Xue Liu. 2017. An Optimization Framework For Online
        Ride-sharing Markets. In <em><em>IEEE International
        Conference on Distributed Computing Systems
        (ICDCS)</em></em> .</li>
        <li id="BibPLXBIB0025" label="[25]">Michael Kapralov, Ian
        Post, and Jan Vondrák. 2013. Online submodular welfare
        maximization: Greedy is optimal. In <em><em>Proceedings of
        the annual ACM-SIAM symposium on discrete algorithm
        (SODA)</em></em> .</li>
        <li id="BibPLXBIB0026" label="[26]">Subhash Khot,
        Richard&nbsp;J. Lipton, Evangelos Markakis, and Aranyak
        Mehta. 2005. Inapproximability Results for Combinatorial
        Auctions with Submodular Utility Functions. In
        <em><em>Proceedings of the international conference on
        Internet and Network Economics (WINE)</em></em> .</li>
        <li id="BibPLXBIB0027" label="[27]">Nitish Korula, Vahab
        Mirrokni, and Morteza. 2015. Online Submodular Welfare
        Maximization: Greedy Beats 1/2 in Random Order. In
        <em><em>Proceedings of the annual ACM symposium on Theory
        of computing (STOC)</em></em> .</li>
        <li id="BibPLXBIB0028" label="[28]">Tian Lan, David Kao,
        Mung Chiang, and Ashutosh Sabharwal. 2010. An Axiomatic
        Theory of Fairness in Network Resource Allocation. In
        <em><em>Proceedings of the IEEE International Conference on
        Computer Communications (INFOCOM)</em></em> .</li>
        <li id="BibPLXBIB0029" label="[29]">Euiwoong Lee. 2017.
        APX-Hardness of Maximizing Nash Social Welfare with
        Indivisible Items. <em><em>Information Processing Letters
        122, 17-20</em></em> (2017).</li>
        <li id="BibPLXBIB0030" label="[30]">Benny Lehmann, Daniel
        Lehmann, and Noam Nisan. 2001. Combinatorial Auctions with
        Decreasing Marginal Utilities. In <em><em>Proceedings of
        the ACM conference on Electronic Commerce (EC)</em></em>
        .</li>
        <li id="BibPLXBIB0031" label="[31]">Medium. 2015. Retrived
        from <a href=
        "https://medium.com/@worstonlinedater/tinder-experiments-ii-guys-unless-you-are-really-hot-you-are-probably-better-off-not-wasting-your-2ddf370a6e9a"
          target=
          "_blank">https://medium.com/@worstonlinedater/tinder-experiments-ii-guys-unless-you-are-really-hot-you-are-probably-better-off-not-wasting-your-2ddf370a6e9a</a>.
          In <em><em>Tinder Experiments II: Guys, unless you are
          really hot you are probably better off not wasting your
          time on Tinder – a quantitative socio-economic
          study</em></em> .
        </li>
        <li id="BibPLXBIB0032" label="[32]">Aranyak Mehta. 2013.
        Online Matching and Ad Allocation. <em><em>Foundations and
        Trends in Theoretical Computer Science</em></em>
        (2013).</li>
        <li id="BibPLXBIB0033" label="[33]">Vahab Mirrokni, Michael
        Schapira, and Jan Vondrak. 2008. Tight
        information-theoretic lower bounds for welfare maximization
        in combinatorial auctions. In <em><em>Proceedings of the
        conference on Electronic commerce (EC)</em></em> .</li>
        <li id="BibPLXBIB0034" label="[34]">Hervé Moulin. 2004.
        Fair Division and Collective Welfare. <em><em>Public
        Choice</em></em> (2004).</li>
        <li id="BibPLXBIB0035" label="[35]">John Nash. 1950. The
        Bargaining Problem. <em><em>Econometrica 18, 2</em></em>
        (1950).</li>
        <li id="BibPLXBIB0036" label="[36]">Gábor Orosz, István
        Tóth-Király, Beáta&nbsp;Bőthe, and Dóra Melher. 2016. Too
        many swipes for today: The development of the Problematic
        Tinder Use Scale. <em><em>Journal of Behavioral
        Addictions</em></em> (2016).</li>
        <li id="BibPLXBIB0037" label="[37]">Sara Ramezani and Ulle
        Endriss. 2010. Nash Social Welfare in Multiagent Resource
        Allocation. <em><em>Lecture Notes in Business Information
        Processing</em></em> (2010).</li>
        <li id="BibPLXBIB0038" label="[38]">Jean-Charles Rochet and
        Jean Tirole. 2004. Two-Sided Markets: An Overview.
        <em><em>mimeo: MIT</em></em> (2004).</li>
        <li id="BibPLXBIB0039" label="[39]">Jessica Strubel and
        Trent&nbsp;A Petrie. 2017. Love me Tinder: Body image and
        psychosocial functioning among men and women. <em><em>Body
        Image</em></em> (2017).</li>
        <li id="BibPLXBIB0040" label="[40]">S.&nbsp;R. Sumter, L.
        Vandenbosch, and L. Ligtenberg. 2017. Love me Tinder:
        Untangling emerging adults motivations for using the dating
        application Tinder. <em><em>Telematics and
        Informatics</em></em> (2017).</li>
        <li id="BibPLXBIB0041" label="[41]">Vinod Thomas, Yan Wang,
        and Xibo Fan. 2001. Measuring Education Inequality : Gini
        Coefficients of Education. <em><em>Policy Research Working
        Papers</em></em> (2001).</li>
        <li id="BibPLXBIB0042" label="[42]">Gareth Tyson,
        Vasile&nbsp;C. Perta, Hamed Haddadi, and Michael&nbsp;C.
        Seto. 2016. A First Look at User Activity on Tinder. In
        <em><em>Proceedings of IEEE/ACM International Conference on
        Advances in Social Networks Analysis and Mining
        (ASONAM)</em></em> .</li>
        <li id="BibPLXBIB0043" label="[43]">Jan Vondrak. 2008.
        Optimal approximation for the submodular welfare problem in
        the value oracle model. In <em><em>Proceedings of the
        annual ACM symposium on Theory of computing
        (STOC)</em></em> .</li>
        <li id="BibPLXBIB0044" label="[44]">J. Ward. 2016. What are
        you doing on Tinder? impression management on a matchmaking
        mobile app. <em><em>Information, Communication &amp;
        Society</em></em> (2016).</li>
        <li id="BibPLXBIB0045" label="[45]">Jennie Zhang and Taha
        Yasseri. 2016. What happens after you both swipe right: A
        statistical description of mobile dating communications.
        <em><em>arXiv preprint arXiv:1607.03320</em></em>
        (2016).</li>
        <li id="BibPLXBIB0046" label="[46]">Maria Zhang. 2016.
        Retrived from <a href=
        "http://tech.gotinder.com/building-tinder/" target=
        "_blank">http://tech.gotinder.com/building-tinder/</a>. In
        <em><em>Tinder Tech Blog: Building Tinder</em></em> .
        </li>
      </ul>
    </section>
  </section>
  <section id="foot-001" class="footnote">
    <header>
      <div class="title-info">
        <h2>FOOTNOTE</h2>
      </div>
    </header>
    <p id="fn1"><a href="#foot-fn1"><sup>1</sup></a>As these dating
    applications are all mobile-phone based, we will use “apps” as
    the abbreviation of “applications” throughout the rest of the
    paper</p>
    <p id="fn2"><a href="#foot-fn2"><sup>2</sup></a>In this paper,
    some of the observations are based on data from online dating
    apps. However, all the data presented is normalized in order
    not to reveal any of the business-related details.</p>
    <p id="fn3"><a href="#foot-fn3"><sup>3</sup></a>We will use
    “matches” as the abbreviation of “(normalized) matches” and
    “retention rate” as the abbreviation of “(normalized) retention
    rate” in the rest of Section <a class="sec" href=
    "#sec-8">3.2</a>.</p>
    <p id="fn4"><a href="#foot-fn4"><sup>4</sup></a>If a user logs
    in and swipes at least once, then we count him/her as an active
    user.</p>
    <div class="bibStrip">
      <p>This paper is published under the Creative Commons
      Attribution 4.0 International (CC-BY&nbsp;4.0) license.
      Authors reserve their rights to disseminate the work on their
      personal and corporate Web sites with the appropriate
      attribution.</p>
      <p><em>WWW' 18, April 23–27, 2018, Lyon, France</em></p>
      <p>© 2018 IW3C2 (International World Wide Web Conference
      Committee), published under Creative Commons CC-BY&nbsp;4.0
      License. ACM ISBN 978-1-4503-5639-8/18/04.<br />
      DOI: <a class="link-inline force-break" target="_blank" href=
      "https://doi.org/10.1145/3178876.3186109">https://doi.org/10.1145/3178876.3186109</a></p>
    </div>
  </section>
  <div class="pubHistory">
    <p></p>
  </div>
</body>
</html>
