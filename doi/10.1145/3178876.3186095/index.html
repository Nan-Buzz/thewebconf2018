<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta name="generator" content=
  "HTML Tidy for HTML5 for Linux version 5.7.16" />
  <title>Tagvisor: A Privacy Advisor for Sharing Hashtags</title>
  <!-- Copyright (c) 2010-2015 The MathJax Consortium -->
  <meta http-equiv="Content-Type" content=
  "text/html; charset=utf-8" />
  <meta name="viewport" content=
  "width=device-width; initial-scale=1.0;" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="screen, print" rel="stylesheet" href=
  "../../../data/dl.acm.org/pubs/lib/css/bootstrap.min.css" />
  <link media="screen, print" rel="stylesheet" href=
  "../../../data/dl.acm.org/pubs/lib/css/bootstrap-theme.min.css" />
  <link media="screen, print" rel="stylesheet" href=
  "../../../data/dl.acm.org/pubs/lib/css/main.css" />
  <script src="../../../data/dl.acm.org/pubs/lib/js/jquery.min.js" type=
  "text/javascript"></script>
  <script src="../../../data/dl.acm.org/pubs/lib/js/bootstrap.min.js"
  type="text/javascript"></script>
  <script src="../../../data/dl.acm.org/pubs/lib/js/bibCit.js" type=
  "text/javascript"></script>
  <script src="../../../data/dl.acm.org/pubs/lib/js/divTab.js" type=
  "text/javascript"></script>
  <script type="text/javascript" src=
  "../../../data/dl.acm.org/pubs/lib/js/MathJax.js?config=TeX-AMS_CHTML"></script>
  <script type="text/x-mathjax-config">
  <![CDATA[
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
  ]]>
  </script>
</head>
<body id="main">
  <section class="front-matter">
    <section>
      <header class="title-info">
        <div class="journal-title">
          <h1><span class="title">Tagvisor: A Privacy Advisor for
          Sharing Hashtags</span><br />
          <span class="subTitle"></span></h1>
        </div>
      </header>
      <div class="authorGroup">
        <div class="author">
          <span class="givenName">Yang</span> <span class=
          "surName">Zhang</span>, CISPA Saarland Informatics Campus
        </div>
        <div class="author">
          <span class="givenName">Mathias</span> <span class=
          "surName">Humbert</span>, Swiss Data Science Center ETH
          Zurich and EPFL
        </div>
        <div class="author">
          <span class="givenName">Tahleen</span> <span class=
          "surName">Rahman</span>, CISPA Saarland Informatics
          Campus
        </div>
        <div class="author">
          <span class="givenName">Cheng-Te</span> <span class=
          "surName">Li</span>, Department of Statistics National
          Cheng Kung University
        </div>
        <div class="author">
          <span class="givenName">Jun</span> <span class=
          "surName">Pang</span>, FSTC and SnT University of
          Luxembourg
        </div>
        <div class="author">
          <span class="givenName">Michael</span> <span class=
          "surName">Backes</span>, CISPA Helmholtz Center i.G.
          Saarland Informatics Campus
        </div>
      </div><br />
      <div class="pubInfo">
        <p>DOI: <a href="https://doi.org/10.1145/3178876.3186095"
        target=
        "_blank">https://doi.org/10.1145/3178876.3186095</a><br />
        WWW '18: <a href="https://doi.org/10.1145/3178876" target=
        "_blank">Proceedings of The Web Conference 2018</a>, Lyon,
        France, April 2018</p>
      </div>
      <div class="abstract">
        <p><small>Hashtag has emerged as a widely used concept of
        popular culture and campaigns, but its implications on
        people's privacy have not been investigated so far. In this
        paper, we present the first systematic analysis of privacy
        issues induced by hashtags. We concentrate in particular on
        location, which is recognized as one of the key privacy
        concerns in the Internet era. By relying on a random forest
        model, we show that we can infer a user's precise location
        from hashtags with accuracy of 70% to 76%, depending on the
        city. To remedy this situation, we introduce a system
        called Tagvisor that systematically suggests alternative
        hashtags if the user-selected ones constitute a threat to
        location privacy. Tagvisor realizes this by means of three
        conceptually different obfuscation techniques and a
        semantics-based metric for measuring the consequent utility
        loss. Our findings show that obfuscating as little as two
        hashtags already provides a near-optimal trade-off between
        privacy and utility in our dataset. This in particular
        renders Tagvisor highly time-efficient, and thus, practical
        in real-world settings.</small></p>
      </div>
      <div class="classifications">
        <div class="author">
          <span style=
          "font-weight:bold;"><small>Keywords:</small></span>
          <span class="keyword"><small>Hashtag</small>,</span>
          <span class="keyword"><small>location
          privacy</small>,</span> <span class=
          "keyword"><small>online social networks</small></span>
        </div><br />
        <div class="AcmReferenceFormat">
          <p><small><span style="font-weight:bold;">ACM Reference
          Format:</span><br />
          Yang Zhang, Mathias Humbert, Tahleen Rahman, Cheng-Te Li,
          Jun Pang, and Michael Backes. 2018. Tagvisor: A Privacy
          Advisor for Sharing Hashtags. In <em>WWW 2018: The 2018
          Web Conference,</em> <em>April 23–27, 2018,</em>
          <em>Lyon, France. ACM, New York, NY, USA</em> 10 Pages.
          <a href="https://doi.org/10.1145/3178876.3186095" class=
          "link-inline force-break" target=
          "_blank">https://doi.org/10.1145/3178876.3186095</a></small></p>
        </div>
      </div>
    </section>
  </section>
  <section class="body">
    <section id="sec-7">
      <header>
        <div class="title-info">
          <h2><span class="section-number">1</span>
          Introduction</h2>
        </div>
      </header>
      <p>The development of information and communication
      technologies has progressively changed people's life style
      over the last decade. Nowadays, people widely use online
      social networks (OSNs) and instant messaging to communicate
      with friends and maintain social relationships. Besides,
      these new technologies have paved the way for concepts such
      as “like”, “follow” and “share”, which have been assimilated
      by OSN users within no time. One popular concept among these
      is the <em>hashtag</em>. Defined as a word or non-spaced
      phrase preceded by the hash character #, hashtag was created
      to serve as a metadata tag for people to efficiently search
      for information. Originally created on Twitter, hashtags have
      been widely adopted in many areas. Media campaigns are
      increasingly using hashtags to attract and engage customers
      (e.g., #ShareACoke). Hashtags also enable people to stay
      updated on trending news stories. For instance, #imwithher
      has been extensively used during the US 2016 election.</p>
      <p>Hashtags have seen significant usage in online
      communication recently. Users have created many hashtags to
      convey meanings which previously did not exist in the English
      vocabulary. For instance, #like4like indicates a promise of
      the users to like back the posts of those who like their post
      in OSNs&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0037">37</a>]; #nofilter means the associated
      photo has been posted directly as taken, without being
      edited. The large amount of hashtags provide us with an
      unprecedented chance to understand the modern society, and
      researchers are increasingly leveraging hashtags to conduct
      their study&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0020">20</a>, <a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0035">35</a>].</p>
      <p>While bringing significant utility benefits, hashtags may
      carry sensitive private information about people using them.
      However, privacy threats arising out of hashtags have been
      largely overlooked. In this paper, we conduct the first study
      on addressing privacy raised by hashtags. Among all the
      private information, we concentrate in particular on mobility
      information, which is recognized as one of the key privacy
      concerns in the modern society&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0005">5</a>, <a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0014">14</a>, <a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0025">25</a>, <a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0028">28</a>]. In fact, location
      arguably even constitutes the most sensitive information
      being collected by service providers&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0023">23</a>] (e.g., being able to
      infer that a user is staying at a hospital can severely
      threaten his privacy), and it can be used to infer additional
      sensitive information such as friendship&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0004">4</a>, <a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0033">33</a>] and
      demographics&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0029">29</a>, <a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0039">39</a>]. A user can disclose his location
      information through many different ways such as sharing
      location in OSNs (often referred to as <em>check-in</em>) and
      allowing mobile applications to collect their geo-coordinates
      through GPS sensors in the smartphone. Many users have
      recognized the inherent risks towards their location privacy
      and abstain from explicitly sharing their locations. However,
      hashtags may also leak the exact location of a user, which is
      the primary focus of this paper.</p>
      <p><strong>Contributions.</strong> Our contributions are
      two-fold: (i) a novel inference attack for uncovering a
      user's fine-grained location based on posted hashtags, along
      with a comprehensive evaluation on a real-life OSN dataset,
      and (ii) a privacy-enhancing system, namely Tagvisor, that
      uses various obfuscation techniques for thwarting the
      aforementioned attack.</p>
      <p><em>Attack.</em>Our inference attack aims at predicting
      the fine-grained location of a user's post given its hashtags
      by learning the associations between hashtags and locations.
      The attack relies on a random forest classifier and achieves
      remarkable accuracy.</p>
      <p>We empirically evaluate our attack based on a
      comprehensive dataset of 239,000 Instagram posts with
      corresponding locations and hashtags from three of the
      largest English-speaking cities (New York, Los Angeles and
      London). The locations we predict are the exact points of
      interest (POI) within each of the three cities, such as
      <em>Land of Plenty</em>, a Chinese restaurant in New York.
      The experiments show that our hashtag-based
      location-inference attack achieves an accuracy of 70% in New
      York (for a number of around 500 considered locations) and
      76% in Los Angeles and London (for around 270 and 140
      locations, respectively). We also compare our classification
      method with other popular algorithms such as support vector
      machine and gradient boosting machine, and show that our
      classifier outperforms them by at least 7%. Furthermore, we
      empirically identify the number of hashtags maximizing the
      attack success to be seven. Additionally, we evaluate our
      attack on a global level without prior knowledge of the city,
      and demonstrate that it can still reach an accuracy of more
      than 70%. Finally, by considering two types of attackers, one
      with prior knowledge on the targeted users’ hashtags and
      locations, and the other without, we show that the accuracy
      drops by around 20% for the latter attacker. This
      demonstrates that the adversary can enhance his model by
      learning per-user associations between hashtags and
      locations.</p>
      <p>We stress that our work is not intended for users who
      intentionally use hashtags to reveal their locations, for
      example, when a user publishes a post with #statueofliberty
      as one of the hashtags. Instead, our work aims at helping
      users that might <em>unintentionally</em> disclose where they
      are. The examples below, taken from the evaluation of the
      inference attack, illustrate this point further. A user's
      post shared with hashtags #music, #musicphotography, #soul,
      #fujifilm, #thephotoladies, and #pancakesandwhiskey may not
      reveal anything significant about the location to most
      individuals. Our attack however correctly predicts that the
      user is at the <em>Highline Ballroom</em>, a music venue in
      New York. In another example from Los Angeles, a user sharing
      #fighton #trojans #band #ftfo is correctly located by our
      attack at <em>University of Southern California</em>.</p>
      <p><em>Defense.</em>To counter the aforementioned privacy
      violations, we develop Tagvisor: a system that provides
      recommendations, e.g., to an OSN user who wants to share
      hashtags without disclosing his location information. In
      particular, Tagvisor implements three different
      obfuscation-based mechanisms: hiding (a subset of) hashtags,
      replacing hashtags by semantically similar hashtags, and
      generalizing hashtags with higher-level semantic categories
      (e.g., Starbucks into coffee shop). Tagvisor returns an
      optimal subset of obfuscated hashtags that, at the same time,
      guarantees some predefined level of location privacy and
      retains as much utility as possible. To accurately quantify
      utility, we rely on an advanced natural language processing
      model, namely word2vec&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0021">21</a>, <a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0022">22</a>].</p>
      <p>The empirical evaluation of our privacy-enhancing system
      shows that: (i) the replacement mechanism outperforms both
      hiding and generalization methods, (ii) the higher number of
      original hashtags, the better the utility for similar levels
      of privacy, and (iii) regardless of the original number of
      hashtags, obfuscating two hashtags provides the best
      trade-off between utility, privacy, and time efficiency. The
      latter finding notably demonstrates the practical feasibility
      of our privacy-preserving system given the computational
      capabilities of current mobile devices.</p>
      <p><strong>Organization.</strong> In Section&nbsp;<a class=
      "sec" href="#sec-8">2</a>, we present the user and
      adversarial models we consider in this paper as well as the
      privacy metrics for attack evaluation. Our location inference
      attack is described in Section&nbsp;<a class="sec" href=
      "#sec-12">3</a>. We introduce our dataset in
      Section&nbsp;<a class="sec" href="#sec-13">4</a> followed by
      the experimental evaluation in Section&nbsp;<a class="sec"
      href="#sec-14">5</a>. We describe Tagvisor and the three
      obfuscation mechanisms for protecting users’ location privacy
      in Section&nbsp;<a class="sec" href="#sec-19">6</a>.
      Section&nbsp;<a class="sec" href="#sec-23">7</a> presents the
      performance of Tagvisor. We provide a discussion in
      Section&nbsp;<a class="sec" href="#sec-27">8</a>, address the
      related work in Section&nbsp;<a class="sec" href=
      "#sec-28">9</a>, and conclude the paper in
      Section&nbsp;<a class="sec" href="#sec-29">10</a>.</p>
    </section>
    <section id="sec-8">
      <header>
        <div class="title-info">
          <h2><span class="section-number">2</span> System
          Model</h2>
        </div>
      </header>
      <p>In this section, we describe the user and adversarial
      models, as well as the privacy metrics used throughout the
      paper.</p>
      <section id="sec-9">
        <header>
          <div class="title-info">
            <h3><span class="section-number">2.1</span> User
            Model</h3>
          </div>
        </header>
        <p>We use two sets <em>U</em> and <em>L</em> to represent
        users and locations, respectively. A single user is denoted
        by <em>u</em> and a location (POI) is denoted by ℓ. All
        users’ posts are in set <em>P</em>, and a single post
        <em>p</em> ∈ <em>P</em> is defined as a quadruplet
        ⟨<em>u</em>, ℓ, <em>t</em>, <em>H<sub>p</sub></em> ⟩:
        semantically, it means <em>u</em> shares the post
        <em>p</em> at ℓ (checks in at ℓ) at time <em>t</em>, and
        <span class="inline-equation"><span class="tex">$\mathit
        {H}_p= \lbrace h^1_p, h^2_p, \ldots ,
        h^m_p\rbrace$</span></span> contains all hashtags
        associated with the post. In addition,
        <em>H<sub>p</sub></em> ⊆<em>H</em> <sub>ℓ</sub>⊆<em>H</em>
        where <em>H</em> <sub>ℓ</sub> represents the entire set of
        hashtags shared (in posts) at location ℓ and <em>H</em> is
        the set of all hashtags in our dataset.</p>
      </section>
      <section id="sec-10">
        <header>
          <div class="title-info">
            <h3><span class="section-number">2.2</span> Adversarial
            Model</h3>
          </div>
        </header>
        <p>In this work, we consider an adversary who intends to
        infer the hidden location ℓ of a post <em>p</em> by
        observing the set of hashtags <em>H<sub>p</sub></em>
        published with the post. The adversary can be anyone who is
        able to crawl the data from OSNs such as Facebook, Twitter
        and Instagram. Moreover, it could also model a service
        provider which does not have access to all its users’ real
        locations.</p>
        <p>In order to accurately infer hidden locations based on
        hashtags, the adversary needs to build an accurate
        knowledge <em>K</em> of associations between hashtags and
        locations. In this work, we assume he learns these
        associations based on previously disclosed posts that
        included both hashtags and location check-ins. This
        learning phase is explained in Section&nbsp;<a class="sec"
        href="#sec-12">3</a>. The associations can be learned in
        different ways. We consider here two different adversarial
        models. The first adversary, namely <em>A</em>
        <sub>1</sub>, uses all the publicly shared posts he is able
        to collect, including those shared by the targeted users
        (users whose posts’ locations the adversary intends to
        infer). In other words, in this model, we assume the
        targeted users have already shared some of their posts with
        both hashtags and check-ins. In the second model, the
        adversary (<em>A</em> <sub>2</sub>) does not have access to
        any previous location-hashtag data shared by the targeted
        users. This models the case when the targeted users are
        particularly privacy-cautious&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0024">24</a>] and do not share any
        location with their posts. In this case, the adversary has
        to rely only on the location and hashtag data shared by
        other users to build his knowledge <em>K</em>.</p>
        <p>The output of our hashtag-based location inference
        attack on a post <em>p</em> is the posterior probability
        distribution over all locations ℓ ∈ <em>L</em> given the
        set of observed hashtags <em>H<sub>p</sub></em> :</p>
        <div class="table-responsive" id="Xeq1">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \Pr (\mathcal
            {L}_p= \ell | \mathit {H}_p, \mathit {K}),
            \end{equation}</span><br />
            <span class="equation-number">(1)</span>
          </div>
        </div>where <span class="inline-equation"><span class=
        "tex">$\mathcal {L}_p$</span></span> is the random variable
        representing the location of post <em>p</em>. Based on this
        posterior distribution, the most likely location is:
        <div class="table-responsive" id="eq1">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \ell _p^* =
            \mathop{arg\,max}_{\ell \in \mathit {L}} \Pr (\mathcal
            {L}_p= \ell | \mathit {H}_p, \mathit {K}).
            \end{equation}</span><br />
            <span class="equation-number">(2)</span>
          </div>
        </div>Equation&nbsp;<a class="eqn" href="#eq1">2</a> is the
        core concept behind our inference attack, and we will
        describe its instantiation in detail in
        Section&nbsp;<a class="sec" href="#sec-12">3</a>.
        <p></p>
      </section>
      <section id="sec-11">
        <header>
          <div class="title-info">
            <h3><span class="section-number">2.3</span> Privacy
            Metrics</h3>
          </div>
        </header>
        <p>We measure the location privacy of a user who shares a
        post <em>p</em> and its corresponding hashtags
        <em>H<sub>p</sub></em> by using the expected estimation
        error, as proposed in&nbsp;[<a class="bib" data-trigger=
        "hover" data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0034">34</a>]. Formally, given the posterior
        probability distribution <span class=
        "inline-equation"><span class="tex">$\Pr (\mathcal {L}_p=
        \ell | \mathit {H}_p, \mathit {K})$</span></span> , the
        location privacy is defined as:</p>
        <div class="table-responsive" id="eq2">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \sum _{\ell
            \in \mathit {L}}{\Pr (\mathcal {L}_p= \ell | \mathit
            {H}_p, \mathit {K}) \cdot d(\ell , \ell ^r_p)},
            \end{equation}</span><br />
            <span class="equation-number">(3)</span>
          </div>
        </div>where <span class="inline-equation"><span class=
        "tex">$\ell ^r_p$</span></span> is the real location of the
        user sharing the post <em>p</em>, and <em>d</em>(·, ·)
        denotes a distance function. If the geographical distance
        <span class="inline-equation"><span class="tex">$d_g(\ell ,
        \ell ^r_p)$</span></span> is used, we will generally refer
        to this metric as the <em>expected distance</em>. In this
        paper, we rely on the haversine distance to measure the
        geographical distance. If the binary distance, defined as
        <div class="table-responsive" id="Xeq2">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} d_b(\ell ,
            \ell ^r_p)= {\left\lbrace \begin{array}{@{}l@{\quad
            }l@{}}0 &amp; \text{if } \ell = \ell ^r_p\\ 1 &amp;
            \text{otherwise} \end{array}\right.}
            \end{equation}</span><br />
            <span class="equation-number">(4)</span>
          </div>
        </div>is used, Equation <a class="eqn" href="#eq2">3</a> is
        then equal to <span class="inline-equation"><span class=
        "tex">$1-\Pr (\mathcal {L}_p= \ell ^r_p| \mathit {H}_p,
        \mathit {K})$</span></span> and is referred to as the
        incorrectness&nbsp;[<a class="bib" data-trigger="hover"
        data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0034">34</a>]. We also use the
        <em>correctness</em> (to quantify the performance of the
        inference attack), which is the opposite of the
        incorrectness, and is simply equal to <span class=
        "inline-equation"><span class="tex">$\Pr (\mathcal {L}_p=
        \ell ^r_p| \mathit {H}_p, \mathit {K})$</span></span> . We
        further use the <em>accuracy</em>, defined in the machine
        learning context, as another privacy metric. Formally,
        accuracy is defined as <span class=
        "inline-equation"><span class="tex">$1 - d_b(\ell _p^*,
        \ell ^r_p)$</span></span> , where <em>d<sub>b</sub></em>
        (·, ·) is the binary distance defined above. We can
        alternatively use the inaccuracy, i.e., <span class=
        "inline-equation"><span class="tex">$d_b(\ell _p^*, \ell
        ^r_p)$</span></span> . Note that, depending on the context,
        the accuracy can refer to one sample or multiple. In the
        latter case, the accuracy represents in fact the
        <em>average</em> accuracy over all samples (e.g., from a
        testing set).
        <p></p>
      </section>
    </section>
    <section id="sec-12">
      <header>
        <div class="title-info">
          <h2><span class="section-number">3</span> Inference
          Attack</h2>
        </div>
      </header>
      <p>Our location inference attack relies on a random forest
      classifier. We encode the presence of a hashtag
      <em>h<sub>i</sub></em> in a post <em>p</em> as a binary value
      <span class="inline-equation"><span class=
      "tex">$x_p^i$</span></span> , being equal to 1 if it is
      published with the post, and 0 otherwise. Each post
      <em>p</em> with its set of hashtags <em>H<sub>p</sub></em> at
      location ℓ can be represented by a feature vector
      <span class="inline-equation"><span class="tex">$\vec{x}_p=
      (x_p^1, \ldots , x_p^n)$</span></span> , where <em>n</em> =
      |<em>H</em>|, and by the label or class
      <em>y<sub>p</sub></em> , where <span class=
      "inline-equation"><span class="tex">$y_p= \ell
      _p^r$</span></span> . The length of the feature vector is
      thus equal to the total number of unique hashtags in the
      entire dataset.</p>
      <p>For training the random forest, the adversary uses as
      input the samples <span class="inline-equation"><span class=
      "tex">$ (\vec{x}_p,y_p) \ \forall p\in \mathit {P}_{\bf
      train}$</span></span> where <span class=
      "inline-equation"><span class="tex">$\vec{x}_p= (x_p^1,
      \ldots , x_p^n)$</span></span> and <em>P</em>
      <sub><strong>train</strong></sub> refers to posts in the
      training set that contains the auxiliary knowledge of the
      adversary. The adversary carries out his attack on the set
      <em>P</em> <sub><strong>tar</strong></sub> by trying to
      classify each sample post <em>p</em> ∈ <em>P</em>
      <sub><strong>tar</strong></sub> using the features
      <span class="inline-equation"><span class=
      "tex">$\vec{x}_p$</span></span> on the trained forest. Among
      several ways of obtaining class probabilities in an ensemble
      of decision trees&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0006">6</a>], we employ averaging of the votes of
      all the trees of the forest. The total number of trees that
      vote for each class is divided by the total number of trees
      to obtain the posterior probability distribution <span class=
      "inline-equation"><span class="tex">$\Pr (\mathcal {L}_p=
      \ell | \mathit {H}_p, \mathit {K}) \ \forall \ell \in \mathit
      {L}$</span></span> . This outcome is used to quantify privacy
      with the metrics defined in Section <a class="sec" href=
      "#sec-11">2.3</a>.</p>
    </section>
    <section id="sec-13">
      <header>
        <div class="title-info">
          <h2><span class="section-number">4</span> Dataset</h2>
        </div>
      </header>
      <figure id="fig1">
        <img src=
        "../../../data/deliveryimages.acm.org/10.1145/3190000/3186095/images/www2018-104-fig1.jpg"
        class="img-responsive" alt="Figure 1" longdesc="" />
        <div class="figure-caption">
          <span class="figure-number">Figure 1:</span> <span class=
          "figure-title">Distribution of the proportion of posts
          with a certain number of hashtag(s), from 0 to 30
          hashtags.</span>
        </div>
      </figure>
      <div class="table-responsive" id="tab1">
        <div class="table-caption">
          <span class="table-number">Table 1:</span> <span class=
          "table-title">Pre-processed data statistics.</span>
        </div>
        <table class="table">
          <thead>
            <tr>
              <th style="text-align:left;"></th>
              <th style="text-align:center;">New York</th>
              <th style="text-align:center;">Los Angeles</th>
              <th>London</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td style="text-align:left;">No. of posts</td>
              <td style="text-align:center;">144,263</td>
              <td style="text-align:center;">61,767</td>
              <td>34,018</td>
            </tr>
            <tr>
              <td style="text-align:left;">No. of hashtags</td>
              <td style="text-align:center;">8,552</td>
              <td style="text-align:center;">4,600</td>
              <td>2,395</td>
            </tr>
            <tr>
              <td style="text-align:left;">No. of users</td>
              <td style="text-align:center;">3,911</td>
              <td style="text-align:center;">1,625</td>
              <td>992</td>
            </tr>
            <tr>
              <td style="text-align:left;">No. of locations</td>
              <td style="text-align:center;">498</td>
              <td style="text-align:center;">268</td>
              <td>141</td>
            </tr>
          </tbody>
        </table>
      </div>
      <p>We collect our experimental data from Instagram, one of
      the most popular OSNs and the major platform for hashtag
      sharing. Besides, Instagram users have been shown to share
      their locations an order of magnitude more often than in
      Twitter&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0019">19</a>], and Instagram's localization
      function was linked with Foursquare, which enabled us to
      enrich each location with name and category, not just
      geograpical coordinates as in many existing
      datasets&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0009">9</a>]. The category information is in fact
      a building block for one of our defense mechanisms, namely
      the semantic generalization (Section&nbsp;<a class="sec"
      href="#sec-19">6</a>).</p>
      <div class="table-responsive" id="tab2">
        <div class="table-caption">
          <span class="table-number">Table 2:</span> <span class=
          "table-title">Performance of location inference across
          all the cities for different adversary models and
          baseline.</span>
        </div>
        <table class="table">
          <thead>
            <tr>
              <th style="text-align:left;"></th>
              <th colspan="3" style="text-align:center;">
                New York
                <hr />
              </th>
              <th colspan="3" style="text-align:center;">
                Los Angeles
                <hr />
              </th>
              <th colspan="3" style="text-align:center;">
                London
                <hr />
              </th>
              <th colspan="3" style="text-align:center;">
                All cities
                <hr />
              </th>
            </tr>
            <tr>
              <th style="text-align:left;"></th>
              <th style="text-align:center;"><em>A</em>
              <sub>1</sub></th>
              <th style="text-align:center;"><em>A</em>
              <sub>2</sub></th>
              <th style="text-align:center;">baseline</th>
              <th style="text-align:center;"><em>A</em>
              <sub>1</sub></th>
              <th style="text-align:center;"><em>A</em>
              <sub>2</sub></th>
              <th style="text-align:center;">baseline</th>
              <th style="text-align:center;"><em>A</em>
              <sub>1</sub></th>
              <th style="text-align:center;"><em>A</em>
              <sub>2</sub></th>
              <th style="text-align:center;">baseline</th>
              <th style="text-align:center;"><em>A</em>
              <sub>1</sub></th>
              <th style="text-align:center;"><em>A</em>
              <sub>2</sub></th>
              <th>baseline</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td style="text-align:left;">Correctness</td>
              <td style="text-align:center;">0.613</td>
              <td style="text-align:center;">0.468</td>
              <td style="text-align:center;">0.015</td>
              <td style="text-align:center;">0.685</td>
              <td style="text-align:center;">0.502</td>
              <td style="text-align:center;">0.015</td>
              <td style="text-align:center;">0.686</td>
              <td style="text-align:center;">0.552</td>
              <td style="text-align:center;">0.020</td>
              <td style="text-align:center;">0.624</td>
              <td style="text-align:center;">0.465</td>
              <td>0.010</td>
            </tr>
            <tr>
              <td style="text-align:left;">Expected distance
              (km)</td>
              <td style="text-align:center;">0.917</td>
              <td style="text-align:center;">1.272</td>
              <td style="text-align:center;">4.198</td>
              <td style="text-align:center;">1.870</td>
              <td style="text-align:center;">3.046</td>
              <td style="text-align:center;">11.275</td>
              <td style="text-align:center;">0.857</td>
              <td style="text-align:center;">1.575</td>
              <td style="text-align:center;">4.518</td>
              <td style="text-align:center;">211.471</td>
              <td style="text-align:center;">345.980</td>
              <td>3563.082</td>
            </tr>
            <tr>
              <td style="text-align:left;">Accuracy</td>
              <td style="text-align:center;">0.697</td>
              <td style="text-align:center;">0.556</td>
              <td style="text-align:center;">0.053</td>
              <td style="text-align:center;">0.758</td>
              <td style="text-align:center;">0.597</td>
              <td style="text-align:center;">0.048</td>
              <td style="text-align:center;">0.761</td>
              <td style="text-align:center;">0.617</td>
              <td style="text-align:center;">0.051</td>
              <td style="text-align:center;">0.712</td>
              <td style="text-align:center;">0.560</td>
              <td>0.045</td>
            </tr>
          </tbody>
        </table>
      </div>
      <p>Our data collection was conducted in January 2016. We
      concentrate on three of the largest cities in the
      English-speaking world, namely New York, Los Angeles and
      London. In the first step, we rely on the Foursquare API to
      crawl all the location IDs in the three cities, and extract
      these locations’ names and categories. Then, we use the
      function <tt>/locations/search</tt> provided by Instagram's
      public API to map the previously obtained Foursquare's
      location IDs to their corresponding Instagram's location IDs.
      Finally, for each Instagram location, we collect its publicly
      available posts’ metadata (user ID, time and hashtags) in the
      second half of 2015 (2015.7.1-2015.12.31).</p>
      <p>As in&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0004">4</a>, <a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0009">9</a>, <a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0030">30</a>, <a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0033">33</a>, <a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0038">38</a>], we perform the following filtering
      operations on our collected data.</p>
      <ul class="list-no-style">
        <li id="list1" label="•">We filter out user accounts whose
        number of followers are above the 90th percentile
        (celebrities) or under the 10th percentile (bots). To
        address the data sparseness issue, we also filter out users
        with less than 20 check-ins in each city.<br /></li>
        <li id="list2" label="•">We filter out hashtags appearing
        less than 20 times in each city, following a classical
        filtering strategy used by the natural language processing
        community.<br /></li>
        <li id="list3" label="•">For each city, we concentrate on
        locations with at least 50 check-ins. This helps us filter
        out the locations that are rarely visited by people while
        still ensuring that we are not only concentrating on the
        most famous places. Knowing a user being at the considered
        locations still threatens his privacy to a large extent.
        Additionally, from a supervised learning point of view, we
        need sufficient data for each class (each location) to
        train a robust classifier, such that a meaningful attack
        can be conducted.<br /></li>
      </ul>
      <p>After the filtering, we obtain 144,263 posts in New York,
      61,767 posts in Los Angeles and 34,018 posts in London
      (Table&nbsp;<a class="tbl" href="#tab1">1</a>). Despite the
      filtering strategies, we are still left with a large dataset
      with substantially more users and fine-grained locations
      compared to previous works. For instance, the dataset used
      in&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href="#BibPLXBIB0034">34</a>]
      contains 20 users’ mobility data in a 5 × 8 grid over the
      city of San Francisco.</p>
      <p>Figure&nbsp;<a class="fig" href="#fig1">1</a> displays the
      distribution of the number of hashtags per post over our
      entire dataset. For all three cities, there are around 40% of
      posts without any single hashtag, between 11 and 14% with one
      hashtag, 8-9% with two hashtags, and 8% with three hashtags.
      The general curve (in red) represents the distribution of
      number of hashtags for posts without location check-in. The
      latter dataset is collected following the same methodology as
      in&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href="#BibPLXBIB0035">35</a>].
      We randomly sample over 10 million user IDs on Instagram and
      collect all their published posts’ hashtags. In the general
      set of posts, there are 46% of the posts that include at
      least one hashtag. This shows that, almost half of the posts
      could be targeted by our hashtag-based location inference
      attack. The similar trend between the general curve and those
      with location information shows that users who do not reveal
      their location may nevertheless disclose hashtags that could
      then be used by an adversary to infer their locations. As
      expected, the distribution drops quite fast with an
      increasing number of hashtags, for both datasets with and
      without location information. The small increase close to 30
      is due to Instagram's upper bound of 30 hashtags per
      post.</p>
    </section>
    <section id="sec-14">
      <header>
        <div class="title-info">
          <h2><span class="section-number">5</span> Attack
          Evaluation</h2>
        </div>
      </header>
      <p>In this section, we present the evaluation results of our
      location inference attack.</p>
      <section id="sec-15">
        <header>
          <div class="title-info">
            <h3><span class="section-number">5.1</span>
            Experimental Setup</h3>
          </div>
        </header>
        <p>As described in Section&nbsp;<a class="sec" href=
        "#sec-12">3</a>, our attack relies on a random forest
        classifier, and we set the number of trees for the random
        forest to be 100 following common practice&nbsp;[<a class=
        "bib" data-trigger="hover" data-toggle="popover"
        data-placement="top" href="#BibPLXBIB0026">26</a>].</p>
        <p>To comply with the different background knowledge of
        <em>A</em> <sub>1</sub> and <em>A</em> <sub>2</sub>, we
        split the dataset as the following. For adversary
        <em>A</em> <sub>1</sub>, we randomly assign 80% of the
        posts for training and 20% for testing. For adversary
        <em>A</em> <sub>2</sub>, we split all users randomly: posts
        from 80% of the users are put into the training set and
        posts from the other 20% are in the testing set. The random
        split is repeated 10 times, and we report the average
        results.</p>
      </section>
      <section id="sec-16">
        <header>
          <div class="title-info">
            <h3><span class="section-number">5.2</span> General
            Inference Results</h3>
          </div>
        </header>
        <p><strong>Adversaries.</strong> We present the performance
        of our location inference attack in Table&nbsp;<a class=
        "tbl" href="#tab2">2</a>. In each city, our attack achieves
        a strong prediction. For instance, the accuracy is around
        70% for the New York dataset under adversary <em>A</em>
        <sub>1</sub>, which indicates the attacker is able to
        predict the exact locations (out of 498) of 20,196 posts
        (out of 28,852 testing posts). The small expected distance
        in all cities further indicates that even when the
        prediction is wrong, the attacker is still able to narrow
        down the target's location into a small area. The
        performance of adversary <em>A</em> <sub>2</sub>, however,
        drops in all the cities. This is because adversary
        <em>A</em> <sub>2</sub> has no prior knowledge of the
        hashtag-location association of the targeted users.
        Nevertheless, adversary <em>A</em> <sub>2</sub> still
        achieves a relatively high prediction success (e.g., the
        correctness is above 0.55 in London) showing that learning
        per-user associations between hashtags and locations is
        helpful but not absolutely needed.</p>
        <p><strong>Cities.</strong> Both adversaries achieve the
        strongest prediction in London, followed by Los Angeles and
        New York. The reasons are manifold, ranging from cultural
        differences to hashtag usage. We notice that New York has
        the largest number of locations (498), i.e., the highest
        number of classes for the random forest model, thus making
        the classification the most difficult. Meanwhile, even
        though both adversaries in Los Angeles achieve the second
        highest accuracy and correctness, they perform the worst in
        the expected distance metric. This is due to the different
        densities of the three cities: Los Angeles covers a larger
        area with places being more uniformly distributed in the
        geographical space than New York and London.</p>
        <p><strong>Baseline.</strong> To demonstrate that our high
        prediction performance is not due to the skewed
        distribution of the location check-ins, we further
        establish a baseline model that relies only on the
        locations’ distribution (in the training set) to predict a
        targeted user's location. The adversary infers that the
        user is at the most likely location, i.e., the location
        with most check-ins in the training set, independently of
        the hashtags. As depicted in Table&nbsp;<a class="tbl"
        href="#tab2">2</a>, both <em>A</em> <sub>1</sub> and
        <em>A</em> <sub>2</sub> achieve at least a 10-time higher
        accuracy than the baseline, and a 27-time higher
        correctness than the baseline. We observe similar results
        when the adversary targets all cities at the same time. As
        for the expected distance metric, the baseline is
        outperformed by 3 to 5 times depending on the considered
        adversary and city.</p>
        <p><strong>Other classifiers.</strong> Besides random
        forest, we further experiment with two other classifiers:
        gradient boosting machine (GBM) and support vector machine
        (SVM). For GBM, we observe that 100 trees provide the best
        accuracy, and for SVM, we use the radial basis function
        kernel. GBM's accuracy is around 7% worse than random
        forest in all the cities, and SVM achieves the worst
        performance with accuracy in London of only 0.15. This
        suggests that random forest is the most suitable algorithm
        for learning the association between hashtags and
        locations.</p>
      </section>
      <section id="sec-17">
        <header>
          <div class="title-info">
            <h3><span class="section-number">5.3</span> Privacy vs.
            Number of Hashtags</h3>
          </div>
        </header>
        <p>Next, we study the relation between the number of shared
        hashtags and the prediction performance, i.e., how many
        hashtags are necessary to determine where a post is shared.
        To this end, we group the posts in the testing set by the
        number of hashtags they contain and compute the correctness
        for each group.</p>
        <p>Figure&nbsp;<a class="fig" href="#fig2">2</a> depicts
        the average correctness for the two adversary models
        (results for accuracy follow a very similar trend). As we
        can see, for posts appended with only one hashtag, the
        prediction performances are relatively weak in all the
        cases since one hashtag does not provide enough
        information. However, when the number of hashtags increases
        to two, we observe significant increases under both
        adversary models. Especially for <em>A</em> <sub>1</sub>,
        the correctness is increased by more than 40% for all the
        cities. This shows that hashtags contain highly location
        sensitive information. The performance of both adversary
        models is strongest when the targeted post contain around 7
        hashtags. Beyond this number, we observe an interesting
        difference. On one hand, the average correctness of
        adversary <em>A</em> <sub>1</sub> remains stable for posts
        with more hashtags. We can observe a small decrease only
        for London due the relatively smaller size of testing data
        which probably creates more noisy results. On the other
        hand, the performance of adversary <em>A</em> <sub>2</sub>
        decreases for all cities when it faces posts with
        increasing number of hashtags. This happens because, by
        including more hashtags, a user confuses the classifier
        which has no information about the past activity of the
        user, as <em>A</em> <sub>2</sub> has not built
        user-specific associations between hashtags and locations.
        Therefore, a user who has never shared any locations (the
        assumption of <em>A</em> <sub>2</sub>) is less vulnerable
        to the attack. This, along with the conclusions drawn from
        Table&nbsp;<a class="tbl" href="#tab2">2</a> that
        <em>A</em> <sub>2</sub> performs worse than <em>A</em>
        <sub>1</sub> in general, further suggests that a cautious
        user is always rewarded in matters of privacy.</p>
        <figure id="fig2">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186095/images/www2018-104-fig2.jpg"
          class="img-responsive" alt="Figure 2" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 2:</span>
            <span class="figure-title">Correctness of adversary (a)
            <em>A</em> <sub>1</sub> and (b) <em>A</em> <sub>2</sub>
            with respect to the number of hashtags shared in
            posts.</span>
          </div>
        </figure>
        <p></p>
      </section>
      <section id="sec-18">
        <header>
          <div class="title-info">
            <h3><span class="section-number">5.4</span> Privacy
            across All the Cities</h3>
          </div>
        </header>
        <p>So far, our inference attack is conducted at the city
        level. However, it is also interesting to see whether our
        attack can be generalized to the global level: Given a post
        with hashtags, can we predict where it is published among
        all the locations in New York, Los Angeles and London. To
        this end, we combine the datasets from the three cities
        together and perform the aforementioned split with respect
        to the two adversary models for training and testing. As
        shown in Table&nbsp;<a class="tbl" href="#tab2">2</a>, the
        performance of the global level attack drops compared to
        the city level attack, especially for London and Los
        Angeles. However, the attack is still rather effective,
        e.g, adversary <em>A</em> <sub>1</sub> achieves 0.712
        accuracy and 0.624 correctness. Meanwhile, the expected
        distance grows much larger, which is mainly due to the
        misclassification among different cities. However,
        considering the actual distances between the three cities,
        this expected distance is still very small, and both
        <em>A</em> <sub>1</sub> and <em>A</em> <sub>2</sub> perform
        much better than the baseline model.</p>
        <p>Through the above experiments, we have demonstrated the
        severe privacy threat carried by hashtags. In the next
        section, we propose a first of its kind privacy advisor
        which we coin Tagvisor, that uses three defensive
        mechanisms to provide users with advice when sharing
        hashtags.</p>
      </section>
    </section>
    <section id="sec-19">
      <header>
        <div class="title-info">
          <h2><span class="section-number">6</span>
          Countermeasures</h2>
        </div>
      </header>
      <p>In this section, we present <em>Tagvisor</em>, a privacy
      advisor that is based on different obfuscation mechanisms for
      enhancing the user's privacy and preserving as much semantic
      utility as possible. We first introduce the different
      components of Tagvisor. Then, we describe our approach for
      measuring hashtags’ utility. Finally, we present the three
      obfuscation mechanisms.</p>
      <section id="sec-20">
        <header>
          <div class="title-info">
            <h3><span class="section-number">6.1</span>
            Tagvisor</h3>
          </div>
        </header>
        <p>Tagvisor resides on the user's device and, whenever the
        user wishes to share a post with some hashtags without
        revealing his location, Tagvisor tests whether its
        classifier can correctly predict the post's location, i.e.,
        whether the user's location privacy is compromised. If so,
        Tagvisor suggests alternate sets of hashtags that result in
        an enhancement of privacy without significant utility loss.
        The system can also suggest the optimal set of hashtags
        that minimizes the utility loss while providing a certain
        level of location privacy.</p>
        <p>Formally, the Tagvisor's defense mechanism can be
        interpreted as an optimization problem. For each new post
        <em>p</em> that a user wants to share with an original set
        of hashtags <em>H<sub>p</sub></em> , Tagvisor suggests the
        optimal set of hashtags <span class=
        "inline-equation"><span class="tex">$\mathit
        {H}_p^*$</span></span> as follows:</p>
        <div class="table-responsive" id="eq3">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \mathit
            {H}_p^* = \mathop{arg\,min}_{\mathit {H}_p^{\prime }
            \in \mathcal {H}_p} \Delta _{\mathit {H}_p, \mathit
            {H}_p^{\prime }}\ \ \ \text{ subject to }\ \ \
            LP_{\mathit {H}_p^{\prime }} \ge \alpha .
            \end{equation}</span><br />
            <span class="equation-number">(5)</span>
          </div>
        </div>Here, <span class="inline-equation"><span class=
        "tex">$\Delta _{\mathit {H}_p, \mathit {H}_p^{\prime
        }}$</span></span> represents the utility loss, quantified
        by the semantic distance between <em>H<sub>p</sub></em> and
        <span class="inline-equation"><span class="tex">$\mathit
        {H}_p^{\prime }$</span></span> . <span class=
        "inline-equation"><span class="tex">$LP_{\mathit
        {H}_p^{\prime }}$</span></span> represents the privacy
        level for the set <span class=
        "inline-equation"><span class="tex">$\mathit {H}_p^{\prime
        }$</span></span> , which can be quantified with any of the
        metrics defined in Section&nbsp;<a class="sec" href=
        "#sec-8">2</a>, and <em>α</em> is the minimal privacy level
        desired by the user. For example, a simple and intuitive
        profile would be to set <em>α</em> = 1 with <em>LP</em>
        measured by <span class="inline-equation"><span class=
        "tex">$d_b(\ell _p^*, \ell ^r_p)$</span></span> , the
        inaccuracy. This requirement ensures that the user only
        shares hashtags that do not enable the attacker to infer
        his exact location <span class=
        "inline-equation"><span class="tex">$\ell
        ^r_p$</span></span> .
        <p></p>
        <p><span class="inline-equation"><span class="tex">$
        \mathcal {H}_p$</span></span> can be as big as the power
        set of <em>H</em>. In order to keep complexity at a
        reasonable level, we can restrain it to a smaller subset
        depending on the different protection mechanisms and the
        original set of hashtags <em>H<sub>p</sub></em> . The user
        can also set a maximum number of hashtags that the privacy
        mechanism can modify. We evaluate these more practical
        constraints in Section&nbsp;<a class="sec" href=
        "#sec-23">7</a>.</p>
        <figure id="fig3">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186095/images/www2018-104-fig3.jpg"
          class="img-responsive" alt="Figure 3" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 3:</span>
            <span class="figure-title">Main building blocks of
            Tagvisor</span>
          </div>
        </figure>
        <p></p>
        <p>Tagvisor consists of four main blocks. Figure <a class=
        "fig" href="#fig3">3</a> shows the main components of the
        Tagvisor system. R, H and G in Recommender represents
        obfuscation by Replacement, Hiding and Generalization,
        respectively. If the privacy is preserved with the original
        set of hashtags chosen by the user, they are directly
        published (1:YES). Otherwise, they go to the obfuscator
        (1:NO) which then sends the modified sets to the privacy
        quantifier.</p>
        <p><strong>Privacy quantifier.</strong> The <em>privacy
        quantifier</em> contains the <em>trained classifier</em>,
        i.e., our random forest model, and a <em>condition
        checker</em>. The <em>trained classifier</em> is regularly
        updated with new knowledge from the external <em>classifier
        trainer</em>. This classifier trainer uses the data
        <em>K</em> to constantly improve its random forest model.
        It could be running on the user's personal computer, or
        deployed by a non-governmental organization such as the
        Electronic Frontier Foundation. The <em>condition
        checker</em> checks whether the level of location privacy
        of the user (using the classifier output) is above the
        threshold <em>α</em>. If not, the user chosen hashtags are
        sent to the <em>obfuscator</em> for determining alternative
        hashtag sets. Among these suggested sets of hashtags, those
        for which the privacy condition in the <em>condition
        checker</em>is satisfied are then fed to the <em>utility
        quantifier</em>.</p>
        <p><strong>Obfuscator.</strong> The <em>obfuscator</em>
        consists of three components that represent the different
        obfuscation mechanisms: <em>hiding, replacement</em> and
        <em>generalization</em>. Each component produces a set of
        hashtags by employing the corresponding defense mechanism.
        These hashtag sets are fed to the <em>privacy
        quantifier</em>which filters out those that do not meet the
        required privacy threshold <em>α</em> (2:YES in
        Figure&nbsp;<a class="fig" href="#fig3">3</a>).</p>
        <p><strong>Utility quantifier.</strong> The <em>utility
        quantifier</em> also resides on the user's device. It
        maintains records of the utility model and periodically
        updates itself by querying the external <em>word2vec
        converter</em> (which continuously updates itself with any
        new data from the knowledge database <em>K</em>). As will
        be described in Subsection&nbsp;<a class="sec" href=
        "#sec-21">6.2</a>, the <em>utility quantifier</em> uses the
        semantic representation of each hashtag in the set of input
        hashtags that it receives from the <em>privacy
        quantifier</em>to calculate their utility with respect to
        the original set of hashtags. Finally, it returns the
        hashtag set(s) providing minimal utility loss to the
        <em>recommender</em>. Depending on the user's preferences,
        it can return one recommended hashtag set per obfuscation
        method (as shown in Figure&nbsp;<a class="fig" href=
        "#fig3">3</a>), or only one optimal hashtag set for all
        methods.</p>
        <p><strong>Recommender.</strong> The <em>recommender</em>
        suggests, for each obfuscation method,
        location-privacy-preserving hashtag sets having minimum
        semantic distance to the original hashtags chosen by the
        user. It can also suggest the optimal hashtag set among all
        methods, if the user does not want to make a decision by
        himself. It could also provide additional recommendations
        for a desired obfuscation method and a desired maximum
        number of hashtags to be obfuscated.</p>
      </section>
      <section id="sec-21">
        <header>
          <div class="title-info">
            <h3><span class="section-number">6.2</span> Utility
            Metric</h3>
          </div>
        </header>
        <p>The defense mechanisms should yield hashtags that retain
        the semantics of the original hashtags to the largest
        possible extent, while still defeating the attacker by
        misleading the random forest classifier. Removal of all
        hashtags, for example, reduces the attacker to a random
        guesser. However, for the user, the consequence is a
        complete loss of utility.</p>
        <p>We rely on the semantic distance between the original
        set of hashtags and the sanitized set to quantify the
        corresponding utility loss. We capture the semantic meaning
        of each hashtag, and set of hashtags, by using
        <em>word2vec</em>, the state-of-the-art method for
        representing language semantics&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0021">21</a>, <a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0022">22</a>]. word2vec maps each
        hashtag into a continuous vector space of <em>d</em>
        dimension,<a class="fn" href="#fn1" id=
        "foot-fn1"><sup>1</sup></a> i.e.,</p>
        <div class="table-responsive" id="Xeq3">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} {\it
            word2vec}: \mathit {H}\rightarrow \mathbb {R}^d,
            \end{equation}</span><br />
            <span class="equation-number">(6)</span>
          </div>
        </div>using a (shallow) neural network with one hidden
        layer. The objective function of word2vec is designed to
        preserve each hashtag's context, i.e., neighboring
        hashtags. Therefore, if two hashtags are often shared
        together in posts, they will be close to each other in the
        learned vector space. The concept that word2vec can
        represent a word's semantic meaning originates from the
        distributional hypothesis in linguistics, which states that
        words with similar contexts have similar meanings. For
        example, in our dataset, #travel and #tourist are
        semantically close under word2vec. We define the word2vec
        representation of a hashtag <em>h</em> as <span class=
        "inline-equation"><span class="tex">$\vec{v}_h=
        word2vec(h)$</span></span> .
        <p></p>
        <p>We train our word2vec model on the whole set of posts
        available to obtain a semantic vector for each hashtag in
        <em>H</em>. Following previous works&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0016">16</a>, <a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0036">36</a>], we express the
        semantic meaning of hashtags <em>H<sub>p</sub></em> in a
        post <em>p</em> as the average of their semantic
        vectors:</p>
        <div class="table-responsive" id="Xeq4">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation}
            \vec{m}_{\mathit {H}_p} = \frac{\sum _{h\in \mathit
            {H}_p} \vec{v}_h}{\vert \mathit {H}_p\vert }.
            \end{equation}</span><br />
            <span class="equation-number">(7)</span>
          </div>
        </div>Then, the utility loss of replacing the original set
        <em>H<sub>p</sub></em> by <span class=
        "inline-equation"><span class="tex">$\mathit {H}^{\prime
        }_p$</span></span> is measured as the Euclidean distance
        between <span class="inline-equation"><span class=
        "tex">$\vec{m}_{\mathit {H}_p}$</span></span> and
        <span class="inline-equation"><span class=
        "tex">$\vec{m}_{\mathit {H}^{\prime }_p}$</span></span> :
        <div class="table-responsive" id="eq4">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \Delta
            _{\mathit {H}_p, \mathit {H}^{\prime }_p} = \vert \vert
            \vec{m}_{\mathit {H}_p} - \vec{m}_{\mathit {H}^{\prime
            }_p}\vert \vert . \end{equation}</span><br />
            <span class="equation-number">(8)</span>
          </div>
        </div>We use Euclidean distance since it is the most common
        method to measure distances in the word2vec generated
        vector space&nbsp;[<a class="bib" data-trigger="hover"
        data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0021">21</a>, <a class="bib" data-trigger=
        "hover" data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0022">22</a>].
        <figure id="fig4">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186095/images/www2018-104-fig4.jpg"
          class="img-responsive" alt="Figure 4" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 4:</span>
            <span class="figure-title">Evolution of the accuracy
            (<em>A</em> <sub>1</sub>) with respect to different
            original numbers of hashtags to be shared (x-axis) and
            numbers of hashtags to be obfuscated (from 0 to 3) for
            (a) hiding, (b) replacement, and (c) generalization in
            New York.</span>
          </div>
        </figure>
        <p></p>
      </section>
      <section id="sec-22">
        <header>
          <div class="title-info">
            <h3><span class="section-number">6.3</span> Obfuscation
            Mechanisms</h3>
          </div>
        </header>
        <p>We now describe the three obfuscation mechanisms used by
        Tagvisor for protecting location privacy.</p>
        <p><strong>Hiding.</strong> Hiding (also referred to as
        deletion) simply suggests a subset of the original hashtags
        <em>H<sub>p</sub></em> chosen by the user. There are in
        total <span class="inline-equation"><span class=
        "tex">$2^{|\mathit {H}_p|}-1$</span></span> such subsets.
        One can limit the number of hashtags to be removed by the
        threshold <em>t<sub>h</sub></em> to optimize the running
        time, or utility. All generated subsets of hashtags are
        sent to the condition checker to verify whether they
        satisfy the location privacy constraint. The subsets
        providing enough privacy are sent to the utility quantifier
        that picks the one that minimizes utility loss.</p>
        <p><strong>Replacement.</strong> This mechanism replaces
        the original hashtags by others in the set of hashtags
        <em>H</em> to mislead the adversary. In order to keep the
        search complexity reasonable, we have to restrain the set
        of potential hashtags to replace each original hashtag
        with. We fix a threshold <em>t<sub>s</sub></em> and focus
        on the <em>t<sub>s</sub></em> hashtags that are
        semantically closest to the original hashtag, as defined in
        Equation <a class="eqn" href="#eq4">8</a>. This ensures
        that the set of candidate hashtags minimizes utility loss.
        This bounds the search space from above by <span class=
        "inline-equation"><span class="tex">$(t_s+1)^{|\mathit
        {H}_p|}-1$</span></span> . As in the hiding mechanism, one
        can further reduce the time complexity by bounding the
        number of hashtags to be replaced by a threshold
        <em>t<sub>r</sub></em> similar to <em>t<sub>h</sub></em> .
        The generated subsets are eventually sent to the privacy
        condition checker and the utility quantifier.</p>
        <p><strong>Generalization.</strong> This mechanism
        generalizes each original hashtag by one representing a
        semantically broader category. Our evaluation only focuses
        on hashtags corresponding to locations in Foursquare. Every
        location identifier in Foursquare is mapped to a category
        identifier at two levels. For example, <em>Harrods</em> has
        the category <em>department store</em> at the second,
        lower, level and category <em>shop</em> at the first,
        higher, level. Since not all hashtags are generalizable
        (e.g., #love or #instagood), we represent the subset of
        generalizable hashtags in a given post as
        <em>H<sub>g</sub></em> ⊆<em>H<sub>p</sub></em> . The search
        space is then equal to <span class=
        "inline-equation"><span class="tex">$3^{\mathit
        {H}_g}-1$</span></span> . To reduce the time complexity, we
        can also fix a threshold <em>t<sub>g</sub></em> of the
        maximum number of hashtags to be generalized.</p>
      </section>
    </section>
    <section id="sec-23">
      <header>
        <div class="title-info">
          <h2><span class="section-number">7</span> Defense
          Evaluation</h2>
        </div>
      </header>
      <p>In this section, we present the evaluation results of the
      defense mechanisms presented in the previous section. We
      concentrate on the results for the strongest adversary,
      <em>A</em> <sub>1</sub>, in New York since it includes the
      maximum number of users and locations. The results for Los
      Angeles and London follow a similar trend, which we skip due
      to space constraints. We consider <em>t<sub>s</sub></em> = 2
      for the replacement mechanism in order to reduce the search
      space, and thus improve the time efficiency. The other
      parameters <em>t<sub>h</sub></em> , <em>t<sub>r</sub></em>
      and <em>t<sub>g</sub></em> are left free and their impact is
      evaluated in our experiments.</p>
      <p>We begin with the impact of obfuscating hashtags on the
      attack accuracy (thus privacy) with respect to each
      obfuscation mechanism. Then, we compare the utility
      (corresponding to the obtained privacy level) between the
      hashtags suggested by the three obfuscation mechanisms
      separately and the optimal global solution. Finally, we
      evaluate the time efficiency of Tagvisor.</p>
      <section id="sec-24">
        <header>
          <div class="title-info">
            <h3><span class="section-number">7.1</span> Accuracy
            vs. Obfuscation Level</h3>
          </div>
        </header>
        <p>Figure&nbsp;<a class="fig" href="#fig4">4</a> shows the
        impact of (a) hiding, (b) replacement, and (c)
        generalization on the attack accuracy in New York. Except
        for generalization, we notice that the larger the number of
        hashtags obfuscated, the lower the average accuracy
        (different curves), thus the higher the privacy, as
        expected. We additionally observe that, even with 10
        original number of hashtags, the average accuracy with two
        obfuscated hashtags only is already very low (smaller than
        0.2). This means that the attacker is able to correctly
        infer the location of only less than 20% of the sample
        posts. These results demonstrate the effectiveness of the
        hiding and replacement mechanisms. However, generalization
        (Figure&nbsp;4(c)) cannot bound the accuracy of the attack
        when the number of hashtags to be shared increases. Note
        that the curves are less smooth in this latter case because
        we have more constraint on our testing set: our testing set
        is much smaller for this scenario since not all hashtags
        are generalizable.</p>
        <figure id="fig5">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186095/images/www2018-104-fig5.jpg"
          class="img-responsive" alt="Figure 5" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 5:</span>
            <span class="figure-title">(a) Cumulative distribution
            function (CDF) of the minimum utility loss, i.e.,
            semantic distance, for maximum privacy constraint, of
            the three obfuscation mechanisms and the optimal one
            among all mechanisms. (b) Average minimum semantic
            distance of the original hashtags from the optimal
            solution (unbounded) and solutions with an upperbound
            on the number of hashtags to be obfuscated with respect
            to the number of original hashtags (x-axis) (c) Average
            running time of Tagvisor (per sample) with respect to
            the number of original hashtags.</span>
          </div>
        </figure>
        <p></p>
      </section>
      <section id="sec-25">
        <header>
          <div class="title-info">
            <h3><span class="section-number">7.2</span> Utility vs.
            Privacy</h3>
          </div>
        </header>
        <p>While the previous subsection does not consider any
        optimization of utility, in this subsection we assume that
        the user relies on the optimization problem defined
        in&nbsp;(<a class="eqn" href="#eq3">5</a>). For our
        experiments, we measure location privacy by the inaccuracy
        and set <em>α</em> = 1. This means that the user wants to
        release a subset <span class="inline-equation"><span class=
        "tex">$\mathit {H}_p^{\prime }$</span></span> that leads to
        a misclassification of the location and minimizes the
        utility loss. Note that, for a very few samples in the
        testing set, the adversary can still infer the correct
        location based solely on the locations distribution
        (baseline in Section&nbsp;<a class="sec" href=
        "#sec-14">5</a>), against which Tagvisor cannot help.</p>
        <p>Figure&nbsp;5(a) shows the cumulative distribution
        function of the minimal utility loss over all test samples,
        for the three obfuscation mechanisms, and the optimal one
        (when the optimization considers all mechanisms together).
        First, we observe that replacement provides close to
        optimal utility and is selected for the optimal solution in
        85% of the cases, against 14% for hiding, and 1% for
        generalization. We also notice that hiding provides higher
        utility than generalization if the mechanisms are
        considered separately. We explain this result as follows:
        First, replacement misleads the classifier but at the same
        time keeps enough utility as the fake hashtags are by
        design chosen to be semantically close to the original
        hashtags. Second, generalization provides worse utility
        than hiding because it must modify more hashtags than
        hiding to reach the same privacy level, thereby increasing
        the semantic distance.</p>
        <p>We further compare the absolute semantic distances given
        by all four approaches and the semantic distance in random
        pairs of posts (purple plain curve). This baseline utility
        curve is constructed by randomly sampling 10,000 pairs of
        posts in our dataset. We observe in Figure&nbsp;5(a) that
        90% of the privacy-preserving hashtag sets have a semantic
        distance smaller than 3 to the original hashtag sets for
        replacement whereas, for deletion and generalization, the
        corresponding distance is around 6, and the distance
        between random pairs goes up to 11. This demonstrates that
        we can keep a relatively fair amount of semantic utility
        with the replacement mechanism.</p>
        <p>Finally, we observe in Figure&nbsp;5(b) (“unbounded”
        curve) that the utility loss is in general smaller when the
        original number of hashtags is larger. This can be
        explained by the fact that, when we increase the number of
        hashtags, we have a larger set of hashtags to obfuscate.
        Obfuscating 2 or 3 hashtags already brings enough privacy,
        as shown in Figure&nbsp;<a class="fig" href="#fig4">4</a>.
        In other words, the relative change in the semantics of
        hashtags is smaller when we have a larger original set of
        hashtags. When the user has originally one or two hashtags
        with which the adversary correctly infers his location, he
        has to remove one or two hashtags to mislead the adversary,
        and thus loses most of his utility.</p>
      </section>
      <section id="sec-26">
        <header>
          <div class="title-info">
            <h3><span class="section-number">7.3</span> Time
            Performance</h3>
          </div>
        </header>
        <p>We now present the running time which is an important
        factor for Tagvisor's usability, and we propose solutions
        for trading off time efficiency with optimality. All the
        experiments are conducted on a laptop computer with 3.3 GHz
        CPU and 16 GB memory, and are implemented relying on Python
        packages such as pandas, numpy, and scikit-learn. It is
        worth noting that our experiments can be further optimized
        by using more efficient programming languages or libraries,
        and by parallelizing the computations, e.g., of the three
        obfuscation methods. Also, current smartphones’ computing
        capabilities are shown to be close to those of laptops
        [<a class="bib" data-trigger="hover" data-toggle="popover"
        data-placement="top" href="#BibPLXBIB0001">1</a>].</p>
        <p>Figure&nbsp;<a class="fig" href="#fig5">5(c)</a> shows
        how the running time evolves with an increasing number of
        hashtags. It clearly demonstrates that the optimal solution
        (“unbounded” curve) is not practical when the original
        number of hashtags goes beyond 5. For instance, it takes
        more than 2 seconds for 6 hashtags. Even if most posts are
        shared with fewer than 6 hashtags, we want to provide a
        (nearly) optimal <em>and</em> efficient mechanism for users
        willing to share 6 or more hashtags.</p>
        <p>Each curve in Figure&nbsp;<a class="fig" href=
        "#fig5">5(c)</a> denotes a different maximum number of
        hashtags that can be obfuscated. We observe that, by
        bounding this maximum number to two, we obtain a total
        running time of around one second for any number of
        original hashtags, which is very satisfactory. We can even
        reach half a second by bounding it to one hashtag. At the
        same time, we can observe in Figure&nbsp;5(b) that the
        utility obtained with this maximum number bounded by one is
        very close to the optimal utility already. With this number
        bounded by two, the corresponding utility curve and the
        optimal one can hardly be differentiated. From a privacy
        perspective, even by bounding to two obfuscated hashtags,
        we get an average accuracy equal to 0.038, which is smaller
        than the baseline value (0.053) reported in
        Section&nbsp;<a class="sec" href="#sec-14">5</a>. Only with
        an upperbound of one hashtag, we get an accuracy (equal to
        0.21) greater than the baseline. This shows that bounding
        the number of possible hashtags to be obfuscated to two
        provides the best utility-privacy-efficiency trade-off.</p>
      </section>
    </section>
    <section id="sec-27">
      <header>
        <div class="title-info">
          <h2><span class="section-number">8</span> Discussion</h2>
        </div>
      </header>
      <p>We discuss here some important details of our proposal.
      First of all, our attack is orthogonal to the use of computer
      vision techniques as it does not rely on the photo content or
      any visual background at all. It relies only on hashtags to
      make it applicable to a wider variety of settings. Of course,
      if the posts contain photos in addition to hashtags and the
      background of the photos is comprehensible, a human or
      advances in computer vision might sometimes have better
      chances of identifying the location of a photo. The
      evaluation of the privacy impact of such cases is left for
      future work.</p>
      <p>Second, one may think that the set of sanitized hashtags
      shared via Tagvisor could be used by the adversary to improve
      his machine-learning model. Despite being intuitive, this
      statement does not hold. First, the location is by definition
      not shared with the hashtags released using Tagvisor, thus
      cannot be used to train the adversary's classifier. Indeed,
      someone uses Tagvisor if he wants to hide his location.
      Moreover, the location that the adversary infers via hashtags
      does not provide him with any extra information than what is
      already contained in his trained classifier. Only the new
      knowledge brought by users sharing both hashtags and their
      locations (i.e., not using Tagvisor) will be incorporated
      into the knowledge base <em>K</em>.</p>
      <p>Third, our semantics-based utility metric does not
      necessarily encompass the purposes of all users. This
      motivated us to leave some degrees of freedom to the users in
      Tagvisor, as explained in Section&nbsp;<a class="sec" href=
      "#sec-19">6</a>. Concretely, the user can decide to either
      let the application directly suggest the optimal set of
      hashtags, or suggest the best sets for each obfuscation
      mechanism. The user can even set a minimum/maximum number of
      hashtags to be shared, also for each mechanism, and receive
      recommendations. We believe that this approach brings both
      usability and maximal utility for all users. A user study to
      analyze the acceptance of Tagvisor among OSN users would be
      an interesting future work.</p>
      <p>Finally, by requiring that posts contain both hashtags and
      locations, our dataset may be biased towards users that are
      more willing to share locations. Our high accuracy in the
      location inference attack could be partially attributed to
      this bias in the testing set. However, one must realize that
      we cannot avoid such a restriction as we need the ground
      truth on the location to evaluate the attack performance. In
      the worst case, our attack evaluation provides a lower bound
      on the average privacy of sharing hashtags. Moreover, as
      shown in Figure&nbsp;<a class="fig" href="#fig1">1</a>, users
      usually share hashtags, to a large extent regardless of
      whether they jointly share their location. The training set
      is a priori not biased, as even the adversary must have
      access to both location and hashtag information to train his
      classifier.</p>
    </section>
    <section id="sec-28">
      <header>
        <div class="title-info">
          <h2><span class="section-number">9</span> Related
          Work</h2>
        </div>
      </header>
      <p><strong>Location privacy.</strong> Shokri et
      al.&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href="#BibPLXBIB0034">34</a>]
      propose a comprehensive framework for quantifying location
      privacy. This framework is able to capture various prior
      information available to an attacker and attacks the attacker
      can perform. The authors of&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0034">34</a>] also propose several
      privacy metrics, which inspire the metrics used in this
      paper. Ağır et al.&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0003">3</a>] further analyze the impact of
      revealing location semantics, such as restaurant or cinema,
      by extending the underlying graphical model used for location
      inference in&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0034">34</a>]. Experimental results on a
      Foursquare dataset demonstrate that location semantics can
      raise severe privacy concerns. Bilogrevic et
      al.&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href="#BibPLXBIB0005">5</a>]
      concentrate on the utility implications of one popular
      privacy-preserving mechanism, namely generalization (both
      geographically and semantically). Through the data collected
      from 77 OSN users, their model is able to accurately predict
      the motivation behind location sharing, which enables design
      of privacy-preserving location-sharing applications. Other
      interesting works in this field include&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0027">27</a>, <a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0031">31</a>, <a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0032">32</a>]. Contrary to these
      previous works, ours focuses on the location-privacy risks of
      hashtag sharing, and propose mechanisms to mitigate these
      risks.</p>
      <p><strong>Hashtag analysis.</strong> Highfield and Leaver
      [<a class="bib" data-trigger="hover" data-toggle="popover"
      data-placement="top" href="#BibPLXBIB0013">13</a>] point out
      the research challenges for Instagram, especially in
      comparison to Twitter, by examining hashtags in the two OSNs.
      Based on a dataset collected from Instagram users’ profiles
      and hashtags, Han et al. [<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0012">12</a>] identify teens and adults using
      popular supervised learning techniques and additionally
      reveal significant behavioral differences between the two age
      groups. The authors of&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0035">35</a>] use #selfie in Instagram to study
      the phenomenal ubiquitous convention of self-portrait, while
      the authors of&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0020">20</a>] study the health implications and
      obesity patterns associated with the use of #foodporn. More
      recently, Lamba et al.&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0017">17</a>] study #selfie in Twitter that can
      potentially cause life threat. Although no previous work has
      addressed privacy issues arising out of hashtags to the best
      of our knowledge, the aforementioned works have been very
      influential in shaping our approach of using hashtags for
      training our attacker model.</p>
      <p><strong>Location prediction in OSNs.</strong> Multiple
      works aim at estimating a user's home location using the
      posts he has published in OSNs. Cheng et al.&nbsp;[<a class=
      "bib" data-trigger="hover" data-toggle="popover"
      data-placement="top" href="#BibPLXBIB0008">8</a>] identify
      words in tweets with a strong local geo-scope and estimate
      several possible locations for each user with decreasing
      probabilities. Chandra et al. [<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0007">7</a>] predict city-level user location
      relying on a communication model in Twitter's conversation.
      Jurgens et al.&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0015">15</a>] recently provide a survey on the
      related works in this direction. Different from these
      studies, we address the problem of identifying the precise
      location of users’ posts.</p>
      <p>Some other works concentrate on estimating the location of
      each post, which is closer to the problem we address. Li et
      al.&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href="#BibPLXBIB0018">18</a>]
      use KL-Divergence to build a language model for each
      location. Due to the insufficient number of tweets for each
      location, they incorporate texts in web pages returned by
      search engines to support their model. Agerwal et
      al.&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href="#BibPLXBIB0002">2</a>]
      also use geographic gazeteer data as vocabulary to identify
      location names from phrases in tweets. The approach of Dalvi
      et al.&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href="#BibPLXBIB0011">11</a>]
      assumes that a geo-located object is mentioned in the tweet.
      Our attack however does not need any external knowledge and
      already shows a high accuracy in predicting the exact point
      of interest. Moreover, we propose a tool for
      privacy-preserving hashtag sharing.</p>
    </section>
    <section id="sec-29">
      <header>
        <div class="title-info">
          <h2><span class="section-number">10</span>
          Conclusion</h2>
        </div>
      </header>
      <p>The rapid adoption of new concepts and tools poses novel
      risks towards privacy that users are not always aware of. In
      this paper, we thoroughly investigate the impact of hashtag
      sharing on location privacy. We present and show the
      effectiveness of a random forest classifier that uses
      hashtags for fine-grained location inference within and
      across cities. In order to counter the proposed attack, we
      propose three obfuscation mechanisms and an efficient system
      that determines the optimal/near-optimal set of hashtags to
      preserve privacy without degrading significantly the original
      utility.</p>
      <p>Our work demonstrates a clear threat towards location
      privacy stemming from the use of hashtags. Even though some
      users intentionally use hashtags to reveal their (more or
      less accurate) locations, many of them do not make use of
      hashtags that are clearly linked to location information, and
      thus should expect some level of location privacy. In the
      context of privacy, even a moderately large absolute number
      of affected individuals represents a serious enough negative
      effect&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href="#BibPLXBIB0010">10</a>],
      which is effectively reduced by our proposed
      privacy-preserving system, Tagvisor.</p>
      <p>As future work, we plan to study how the publication time
      of the post can help improve the classifier's success.
      Besides temporal information, other cues could boost the
      accuracy of the inference attack, for example, social
      proximity to already geo-located users or use of deep
      learning on the images to identify background locations, etc.
      All these can further degrade users’ location privacy, and it
      will be interesting to incorporate them in our framework in
      the future. Another direction for future work would be to
      incorporate defenses against other privacy threats arising
      out of hashtags such as demographics, linkability and
      friendship between users.</p>
    </section>
  </section>
  <section class="back-matter">
    <section id="sec-30">
      <header>
        <div class="title-info">
          <h2>ACKNOWLEDGMENTS</h2>
        </div>
      </header>
      <p>This work was partially supported by the German Federal
      Ministry of Education and Research (BMBF) through funding for
      the Center for IT-Security, Privacy and Accountability
      (CISPA) (FKZ: 16KIS0656). The authors would like to thank
      Rose Hoberman for her valuable comments on the submitted
      manuscript.</p>
    </section>
    <section id="ref-001">
      <header>
        <div class="title-info">
          <h2 class="page-brake-head">REFERENCES</h2>
        </div>
      </header>
      <ul class="bibUl">
        <li id="BibPLXBIB0001" label="[1]">2016. iPhone 7 Series is
        Faster Than Any MacBook Air Ever Made. <a href=
        "https://www.macrumors.com/2016/09/15/iphone-7-faster-than-macbook-air/"
          target=
          "_blank">https://www.macrumors.com/2016/09/15/iphone-7-faster-than-macbook-air/</a>.
          (2016).
        </li>
        <li id="BibPLXBIB0002" label="[2]">Puneet Agarwal, Rajgopal
        Vaithiyanathan, Saurabh Sharma, and Gautam Shroff. 2012.
        Catching the Long-Tail: Extracting Local News Events from
        Twitter. In <em><em>Proceedings of the 6th International
        Conference on Weblogs and Social Media (ICWSM)</em></em> .
        The AAAI Press, 379–382.</li>
        <li id="BibPLXBIB0003" label="[3]">Berker Ağır, Kévin
        Huguenin, Urs Hengartner, and Jean-Pierre Hubaux. 2016. On
        the Privacy Implications of Location Semantics.
        <em><em>Proceedings on Privacy Enhancing
        Technologies</em></em> 2016, 4(2016), 165–183.</li>
        <li id="BibPLXBIB0004" label="[4]">Michael Backes, Mathias
        Humbert, Jun Pang, and Yang Zhang. 2017. walk2friends:
        Inferring Social Links from Mobility Profiles. In
        <em><em>Proceedings of the 24th ACM SIGSAC Conference on
        Computer and Communications Security (CCS)</em></em> . ACM,
        1943–1957.</li>
        <li id="BibPLXBIB0005" label="[5]">Igor Bilogrevic, Kévin
        Huguenin, Stefan Mihaila, Reza Shokri, and Jean-Pierre
        Hubaux. 2015. Predicting Users’ Motivations behind Location
        Check-ins and Utility Implications of Privacy Protection
        Mechanisms. In <em><em>Proceedings of the 22nd Network and
        Distributed System Security Symposium (NDSS)</em></em>
        .</li>
        <li id="BibPLXBIB0006" label="[6]">Henrik Bostrom. 2007.
        Estimating Class Probabilities in Random Forests. In
        <em><em>Proceedings of the 6th International Conference on
        Machine Learning and Applications (ICMLA)</em></em> . IEEE,
        211–216.</li>
        <li id="BibPLXBIB0007" label="[7]">Swarup Chandra, Latifur
        Khan, and Fahad&nbsp;Bin Muhaya. 2011. Estimating Twitter
        User Location Using Social Interactions - A Content Based
        Approach. In <em><em>Proceedings of the 3rd International
        Conference on Privacy, Security, Risk and Trust
        (PASSAT)</em></em> . IEEE, 838–843.</li>
        <li id="BibPLXBIB0008" label="[8]">Zhiyuan Cheng, James
        Caverlee, and Kyumin Lee. 2010. You Are Where You Tweet: A
        Content-Based Approach to Geo-locating Twitter Users. In
        <em><em>Proceedings of the 19th ACM International
        Conference on Information and Knowledge Management
        (CIKM)</em></em> . ACM, 759–768.</li>
        <li id="BibPLXBIB0009" label="[9]">Eunjoon Cho,
        Seth&nbsp;A. Myers, and Jure Leskovec. 2011. Friendship and
        Mobility: User Movement in Location-based Social Networks.
        In <em><em>Proceedings of the 17th ACM Conference on
        Knowledge Discovery and Data Mining (KDD)</em></em> . ACM,
        1082–1090.</li>
        <li id="BibPLXBIB0010" label="[10]">David&nbsp;J. Crandall,
        Lars Backstrom, Dan Cosley, Siddharth Suri, Daniel
        Huttenlocher, and Jon Kleinberg. 2010. Inferring Social
        Ties from Geographic Coincidences. <em><em>Proceedings of
        the National Academy of Sciences</em></em> 107, 52(2010),
        22436–22441.</li>
        <li id="BibPLXBIB0011" label="[11]">Nilesh Dalvi, Ravi
        Kumar, and Bo Pang. 2012. Object Matching in Tweets with
        Spatial Models. In <em><em>Proceedings of the 5th ACM
        International Conference on Web Search and Data Mining
        (WSDM)</em></em> . ACM, 43–52.</li>
        <li id="BibPLXBIB0012" label="[12]">Kyungsik Han, Sanghack
        Lee, Jin&nbsp;Yea Jang, Yong Jung, and Dongwon Lee. 2016.
        Teens Are from Mars, Adults Are from Venus: Analyzing and
        Predicting Age Groups with Behavioral Characteristics in
        Instagram. In <em><em>Proceedings of the 8th ACM Conference
        on Web Science (WebSci)</em></em> . ACM, 35–44.</li>
        <li id="BibPLXBIB0013" label="[13]">Tim Highfield and Tama
        Leaver. 2014. A Methodology for Mapping Instagram Hashtags.
        <em><em>First Monday</em></em> 20, 1 (2014).</li>
        <li id="BibPLXBIB0014" label="[14]">Mathias Humbert,
        Théophile Studer, Matthias Grossglauser, and Jean-Pierre
        Hubaux. 2013. Nowhere to Hide: Navigating around Privacy in
        Online Social Networks. In <em><em>Proceedings of the 18th
        European Symposium on Research in Computer Security
        (ESORICS)</em></em> . Springer, 682–699.</li>
        <li id="BibPLXBIB0015" label="[15]">David Jurgens, Tyler
        Finethy, James McCorriston, Yi&nbsp;Tian Xu, and Derek
        Ruths. 2015. Geolocation Prediction in Twitter Using Social
        Networks: A Critical Analysis and Review of Current
        Practice. In <em><em>Proceedings of the 9th International
        Conference on Weblogs and Social Media (ICWSM)</em></em> .
        The AAAI Press, 188–197.</li>
        <li id="BibPLXBIB0016" label="[16]">Tom Kenter and Maarten
        de Rijke. 2015. Short Text Similarity with Word Embeddings.
        In <em><em>Proceedings of the 24th ACM International on
        Conference on Information and Knowledge Management
        (CIKM)</em></em> . ACM, 1411–1420.</li>
        <li id="BibPLXBIB0017" label="[17]">Hemank Lamba, Varun
        Bharadhwaj, Mayank Vachher, Divyansh Agarwal, Megha Arora,
        Niharika Sachdeva, and Ponnurangam Kumaraguru. 2017. From
        Camera to Deathbed: Understanding Dangerous Selfies on
        Social Media. In <em><em>Proceedings of the 11th
        International Conference on Web and Social Media
        (ICWSM)</em></em> . The AAAI Press, 576–579.</li>
        <li id="BibPLXBIB0018" label="[18]">Wen Li, Pavel
        Serdyukov, Arjen&nbsp;P. de Vries, Carsten Eickhoff, and
        Martha Larson. 2011. The Where in the Tweet. In
        <em><em>Proceedings of the 20th ACM International
        Conference on Information and Knowledge Management
        (CIKM)</em></em> . ACM, 2473–2476.</li>
        <li id="BibPLXBIB0019" label="[19]">Lydia Manikonda, Yuheng
        Hu, and Subbarao Kambhampati. 2014. Analyzing User
        Activities, Demographics, Social Network Structure and
        User-Generated Content on Instagram. <em><em>CoRR</em></em>
        abs/1410.8099(2014).</li>
        <li id="BibPLXBIB0020" label="[20]">Yelena Mejova, Sofiane
        Abbar, and Hamed Haddadi. 2016. Fetishizing Food in Digital
        Age: #foodporn Around the World. In <em><em>Proceedings of
        the 10th International Conference on Weblogs and Social
        Media (ICWSM)</em></em> . The AAAI Press, 250–258.</li>
        <li id="BibPLXBIB0021" label="[21]">Tomas Mikolov, Kai
        Chen, Greg Corrado, and Jeffrey Dean. 2013. Efficient
        Estimation of Word Representations in Vector Space. In
        <em><em>Proceedings of the 1st International Conference on
        Learning Representations (ICLR)</em></em> .</li>
        <li id="BibPLXBIB0022" label="[22]">Tomas Mikolov, Ilya
        Sutskever, Kai Chen, Greg&nbsp;S. Corrado, and Jeffrey
        Dean. 2013. Distributed Representations of Words and
        Phrases and their Compositionally. In <em><em>Proceedings
        of the 27th Annual Conference on Neural Information
        Processing Systems (NIPS)</em></em> . NIPS, 3111–3119.</li>
        <li id="BibPLXBIB0023" label="[23]">Yves-Alexandre&nbsp;De
        Montjoye, César&nbsp;A Hidalgo, Michel Verleysen, and
        Vincent&nbsp;D Blondel. 2013. Unique in the Crowd: The
        Privacy Bounds of Human Mobility. <em><em>Scientific
        Reports</em></em> 3(2013), 1376.</li>
        <li id="BibPLXBIB0024" label="[24]">Minyue Ni, Yang Zhang,
        Weili Han, and Jun Pang. 2016. An Empirical Study on User
        Access Control in Online Social Networks. In
        <em><em>Proceedings of the 21st ACM on Symposium on Access
        Control Models and Technologies (SACMAT)</em></em> . ACM,
        13–23.</li>
        <li id="BibPLXBIB0025" label="[25]">Alexandra-Mihaela
        Olteanu, Kévin Huguenin, Reza Shokri, Mathias Humbert, and
        Jean-Pierre Hubaux. 2017. Quantifying Interdependent
        Privacy Risks with Location Data. <em><em>IEEE Transactions
        on Mobile Computing</em></em> 16, 3 (2017), 829–842.</li>
        <li id="BibPLXBIB0026" label="[26]">Thais&nbsp;Mayumi
        Oshiro, Pedro&nbsp;Santoro Perez, and José&nbsp;Augusto
        Baranauskas. 2012. How Many Trees in a Random Forest?. In
        <em><em>Proceedings of the 8th International Conference on
        Machine Learning and Data Mining in Pattern Recognition
        (MLDM)</em></em> . Springer, 154–168.</li>
        <li id="BibPLXBIB0027" label="[27]">Simon Oya, Carmela
        Troncoso, and Fernando Pérez-González. 2017. Back to the
        Drawing Board: Revisiting the Design of Optimal Location
        Privacy-preserving Mechanisms. In <em><em>Proceedings of
        the 24th ACM SIGSAC Conference on Computer and
        Communications Security (CCS)</em></em> . ACM,
        1943–1957.</li>
        <li id="BibPLXBIB0028" label="[28]">Jun Pang and Yang
        Zhang. 2015. Location Prediction: Communities Speak Louder
        than Friends. In <em><em>Proceedings of the 3rd ACM
        Conference on Online Social Networks (COSN)</em></em> .
        ACM, 161–171.</li>
        <li id="BibPLXBIB0029" label="[29]">Jun Pang and Yang
        Zhang. 2017. DeepCity: A Feature Learning Framework for
        Mining Location Check-Ins. In <em><em>Proceedings of the
        11th International Conference on Web and Social Media
        (ICWSM)</em></em> . The AAAI Press, 652–655.</li>
        <li id="BibPLXBIB0030" label="[30]">Jun Pang and Yang
        Zhang. 2017. Quantifying Location Sociality. In
        <em><em>Proceedings of the 28th ACM Conference on Hypertext
        and Social Media (HT)</em></em> . ACM, 145–154.</li>
        <li id="BibPLXBIB0031" label="[31]">Apostolos Pyrgelis,
        Carmela Troncoso, and Emiliano&nbsp;De Cristofaro. 2017.
        What Does The Crowd Say About You? Evaluating
        Aggregation-based Location Privacy. <em><em>Proceedings on
        Privacy Enhancing Technologies</em></em> 2017, 4(2017),
        76–96.</li>
        <li id="BibPLXBIB0032" label="[32]">Apostolos Pyrgelis,
        Carmela Troncoso, and Emiliano&nbsp;De Cristofaro. 2018.
        Knock Knock, Who's There? Membership Inference on Aggregate
        Location Data. In <em><em>Proceedings of the 25th Network
        and Distributed System Security Symposium (NDSS)</em></em>
        .</li>
        <li id="BibPLXBIB0033" label="[33]">Salvatore Scellato,
        Anastasios Noulas, and Cecilia Mascolo. 2011. Exploiting
        Place Features in Link Prediction on Location-based Social
        Networks. In <em><em>Proceedings of the 17th ACM Conference
        on Knowledge Discovery and Data Mining (KDD)</em></em> .
        ACM, 1046–1054.</li>
        <li id="BibPLXBIB0034" label="[34]">Reza Shokri, Georgios
        Theodorakopoulos, Jean-Yves&nbsp;Le Boudec, and Jean-Pierre
        Hubaux. 2011. Quantifying Location Privacy. In
        <em><em>Proceedings of the 32nd IEEE Symposium on Security
        and Privacy (S&amp;P)</em></em> . IEEE, 247–262.</li>
        <li id="BibPLXBIB0035" label="[35]">Flavio Souza, Diego de
        Las&nbsp;Casas, Vinicius Flores, SunBum Youn, Meeyoung Cha,
        Daniele Quercia, and Virgilio Almeida. 2015. Dawn of the
        Selfie Era: The Whos, Wheres, and Hows of Selfies on
        Instagram. In <em><em>Proceedings of the 3rd ACM Conference
        on Online Social Networks (COSN)</em></em> . ACM,
        221–231.</li>
        <li id="BibPLXBIB0036" label="[36]">Lei Yu,
        Karl&nbsp;Moritz Hermann, Phil Blunsom, and Stephen Pulman.
        2014. Deep Learning for Answer Sentence Selection.
        <em><em>CoRR</em></em> abs/1412.1632(2014).</li>
        <li id="BibPLXBIB0037" label="[37]">Yang Zhang, Minyue Ni,
        Weili Han, and Jun Pang. 2017. Does #like4like Indeed
        Provoke More Likes?. In <em><em>Proceedings of the 2017
        International Conference on Web Intelligence (WI)</em></em>
        . ACM, 179–186.</li>
        <li id="BibPLXBIB0038" label="[38]">Yang Zhang and Jun
        Pang. 2015. Distance and Friendship: A Distance-based Model
        for Link Prediction in Social Networks. In
        <em><em>Proceedings of the 17th Asia-Pacific Web Conference
        (APWeb)</em></em> . Springer, 55–66.</li>
        <li id="BibPLXBIB0039" label="[39]">Yuan Zhong,
        Nicholas&nbsp;Jing Yuan, Wen Zhong, Fuzheng Zhang, and Xing
        Xie. 2015. You Are Where You Go: Inferring Demographic
        Attributes from Location Check-ins. In <em><em>Proceedings
        of the 8th ACM Conference on Web Search and Data Mining
        (WSDM)</em></em> . ACM, 295–304.</li>
      </ul>
    </section>
  </section>
  <section id="foot-001" class="footnote">
    <header>
      <div class="title-info">
        <h2>FOOTNOTE</h2>
      </div>
    </header>
    <p id="fn1"><a href="#foot-fn1"><sup>1</sup></a>Following the
    original works&nbsp;[<a class="bib" data-trigger="hover"
    data-toggle="popover" data-placement="top" href=
    "#BibPLXBIB0021">21</a>, <a class="bib" data-trigger="hover"
    data-toggle="popover" data-placement="top" href=
    "#BibPLXBIB0022">22</a>], <em>d</em> is set to 100 in our
    experiments.</p>
    <div class="bibStrip">
      <p>This paper is published under the Creative Commons
      Attribution 4.0 International (CC-BY&nbsp;4.0) license.
      Authors reserve their rights to disseminate the work on their
      personal and corporate Web sites with the appropriate
      attribution.</p>
      <p><em>WWW '18, April 23-27, 2018, Lyon, France</em></p>
      <p>© 2018; IW3C2 (International World Wide Web Conference
      Committee), published under Creative Commons CC-BY&nbsp;4.0
      License. ACM ISBN 978-1-4503-5639-8/18/04.<br />
      DOI: <a class="link-inline force-break" target="_blank" href=
      "https://doi.org/10.1145/3178876.3186095">https://doi.org/10.1145/3178876.3186095</a></p>
    </div>
  </section>
  <div class="pubHistory">
    <p></p>
  </div>
</body>
</html>
