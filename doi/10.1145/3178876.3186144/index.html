<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> <head>  <title>To Stay or to Leave: Churn Prediction for Urban Migrants in the Initial Period</title>  <!-- Copyright (c) 2010-2015 The MathJax Consortium --><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta>  <meta name="viewport" content="width=device-width; initial-scale=1.0;"></meta>  <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>  <link media="screen, print" rel="stylesheet"    href="../../../data/dl.acm.org/pubs/lib/css/bootstrap.min.css"/><link media="screen, print" rel="stylesheet"    href="../../../data/dl.acm.org/pubs/lib/css/bootstrap-theme.min.css"/><link media="screen, print" rel="stylesheet"    href="../../../data/dl.acm.org/pubs/lib/css/main.css"/><script src="../../../data/dl.acm.org/pubs/lib/js/jquery.min.js" type="text/javascript"></script>  <script src="../../../data/dl.acm.org/pubs/lib/js/bootstrap.min.js" type="text/javascript"></script>  <script src="../../../data/dl.acm.org/pubs/lib/js/bibCit.js" type="text/javascript"></script>  <script src="../../../data/dl.acm.org/pubs/lib/js/divTab.js" type="text/javascript"></script>  <script type="text/javascript"    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML"></script>  <script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});</script>   <link rel="cite-as" href="https://doi.org/10.1145/3178876.3186144"/>
</head> <body id="main">
<div>
<p style='font-size: 75%; color #444'>
This is a web copy of <a href='https://doi.org/10.1145/3178876.3186144'>https://doi.org/10.1145/3178876.3186144</a>.
 Published in WWW2018 Proceedings Â© 2018 International World Wide Web Conference Committee, published under 
 <a rel='license' property='license' href='https://creativecommons.org/licenses/by/4.0/'>
 Creative Commons CC By 4.0 License</a>.
The <a href='https://github.com/usable-oa/thewebconf2018/tree/master/scripts'>modifications</a> 
from the original are solely to improve HTML aiming to make it Findable, Accessible, Interoperable and Reusable. 
augmenting HTML metadata and avoiding ACM trademark.
To reference this HTML version, use:
</p><p>
<strong>Permalink:</strong>
<a href='https://w3id.org/oa/10.1145/3178876.3186144'>https://w3id.org/oa/10.1145/3178876.3186144</a>
</p></div>
<hr>

  <section class="front-matter">   <section>    <header class="title-info">    <div class="journal-title">     <h1>      <span class="title">To Stay or to Leave: Churn Prediction for Urban Migrants in the Initial Period</span>      <br/>      <span class="subTitle"/>     </h1>    </div>    </header>    <div class="authorGroup">    <div class="author">     <span class="givenName">Yang</span>     <span class="surName">Yang</span>,     Zhejiang University, <a href="mailto:yangya@zju.edu.cn">yangya@zju.edu.cn</a>    </div>    <div class="author">     <span class="givenName">Zongtao</span>     <span class="surName">Liu</span>,     Zhejiang University, <a href="mailto:tomstream@zju.edu.cn">tomstream@zju.edu.cn</a>    </div>    <div class="author">     <span class="givenName">Chenhao</span>     <span class="surName">Tan</span>,     University of Colorado Boulder, <a href="mailto:chenhao@chenhaot.com">chenhao@chenhaot.com</a>    </div>    <div class="author">     <span class="givenName">Fei</span>     <span class="surName">Wu</span>,     Zhejiang University, <a href="mailto:wufei@zju.edu.cn">wufei@zju.edu.cn</a>    </div>    <div class="author">     <span class="givenName">Yueting</span>     <span class="surName">Zhuang</span>,     Zhejiang University, <a href="mailto:yzhuang@zju.edu.cn">yzhuang@zju.edu.cn</a>    </div>    <div class="author">     <span class="givenName">Yafeng</span>     <span class="surName">Li</span>,     China Telecom., <a href="mailto:liyafeng@chinatelecom.cn">liyafeng@chinatelecom.cn</a>    </div>                            </div>    <br/>    <div class="pubInfo">    <p>DOI: <a href="https://doi.org/10.1145/3178876.3186144" target="_blank">https://doi.org/10.1145/3178876.3186144</a>     <br/>WWW '18: <a href="https://doi.org/10.1145/3178876" target="_blank">Proceedings of The Web Conference 2018</a>, Lyon, France, April 2018</p>    </div>    <div class="abstract">    <p>     <small>In China, 260 million people migrate to cities to realize their urban dreams. Despite that these migrants play an important role in the rapid urbanization process, many of them fail to settle down and eventually leave the city. The integration process of migrants thus raises an important issue for scholars and policymakers.</small>    </p>    <p>     <small>In this paper, we use Shanghai as an example to investigate migrants&#x2019; behavior in their first weeks and in particular, how their behavior relates to early departure. Our dataset consists of a one-month complete dataset of 698 telecommunication logs between 54 million users, plus a novel and publicly available housing price data for 18K real estates in Shanghai. We find that migrants who end up leaving early tend to neither develop diverse connections in their first weeks nor move around the city. Their active areas also have higher housing prices than that of staying migrants. We formulate a churn prediction problem to determine whether a migrant is going to leave based on her behavior in the first few days. The prediction performance improves as we include data from more days. Interestingly, when using the same features, the classifier trained from only the first few days is already as good as the classifier trained using full data, suggesting that the performance difference mainly lies in the difference between features.</small>    </p>    </div>    <div class="CCSconcepts">    <p> <small> <span style="font-weight:bold;">CCS Concepts:</span> &#x2022;<strong> Applied computing </strong>&#x2192; <strong>Law, social and behavioral sciences;</strong> &#x2022;<strong> Information systems </strong>&#x2192; <strong>Social networks;</strong> <em>Data mining;</em> &#x2022;<strong> Computing methodologies </strong>&#x2192; <strong>Artificial intelligence;</strong></small> </p>    </div>    <div class="classifications">    <div class="author">     <span style="font-weight:bold;">      <small>Keywords:</small>     </span>     <span class="keyword">      <small>urban migrants</small>, </span>     <span class="keyword">      <small> migrant integration</small>, </span>     <span class="keyword">      <small> churn prediction</small>     </span>    </div>    <br/>    <div class="AcmReferenceFormat">     <p>      <small>       <span style="font-weight:bold;">ACM Reference Format:</span>       <br/>       Yang Yang, Zongtao Liu, Chenhao Tan, Fei Wu, Yueting Zhuang, and Yafeng Li. 2018. To Stay or to Leave: Churn Prediction for Urban Migrants in the Initial Period. In <em>WWW 2018: The 2018 Web Conference,</em>       <em>April 23&#x2013;27, 2018,</em>       <em> Lyon, France. ACM, New York, NY, USA</em> 10 Pages. <a href="https://doi.org/10.1145/3178876.3186144" class="link-inline force-break"       target="_blank">https://doi.org/10.1145/3178876.3186144</a></small>     </p>    </div>    </div>   </section>  </section>  <section class="body">   <section id="sec-7">    <header>    <div class="title-info">     <h2>      <span class="section-number">1</span> Introduction</h2>    </div>    </header>    <p>     <em>In a big city like L.A. you can spend a lot of time surrounded by hundreds of people yet you feel like an alien or a ghost or something.</em>    </p>    <p>&#x2014; <em>Morley</em>    </p>    <p>Millions of people migrate to cities to realize their urban dreams, ranging from pursuing potential job opportunities to embracing an open dynamic culture [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0029">29</a>]. These migrants contribute to the prosperity of cities by constituting a substantial part of the workforce in the cities, strengthening the political and economic status of the cities, and bringing diverse cultures to the cities.</p>    <p>Despite the great benefits brought by migration, policymakers and scholars have well recognized that the fast rate of migration poses great challenges [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0003">3</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0029">29</a>]. Segregation and social inequality have become significant issues in the migration process. For instance, migrants may settle in slums with health hazards [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0006">6</a>]; they tend to be overworked but underpaid [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0040">40</a>]; their children may be excluded from schools [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0021">21</a>]. These problems might be even more salient in China, a developing country with an unprecedented speed of urbanization [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0003">3</a>]. It is thus an important research question to understand the integration of migrants into urban society.</p>    <p>In this paper, we focus on the initial period of a migrant&#x0027;s integration process because a migrant&#x0027;s first steps are important for her eventual integration. Despite the importance of the initial period&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0006">6</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0010">10</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0037">37</a>], existing studies, which mostly rely on survey data, rarely have fine-grained data to examine this period. We take Shanghai as an example to investigate two aspects based on telecommunication data: how they develop their initial personal networks and how they move around the city. In particular, our dataset allows us to explore why some migrants decided to leave early. This problem of whether to stay in a new city resembles studies on whether users will stay in online communities, also known as churn prediction [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0002">2</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0013">13</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0014">14</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0028">28</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0034">34</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0047">47</a>], but presents more complex dynamics because moving offline requires considerable amount of efforts.</p>    <p>    <strong>Organization and highlights of this work.</strong> We present a large-scale quantitative exploration on the first weeks after migrants arrive in Shanghai, one of the biggest cities in China. We employ a Shanghai <em>one-month complete</em> telecommunication metadata provided by China Telecom, the third largest mobile service providers in China. Our dataset consists of around 698 million call logs between 54 million users. In addition, we collect housing prices of over 20K real estates in Shanghai to study the role of housing price in migrant integration. The details of our datasets are introduced in Section&#x00A0;<a class="sec" href="#sec-8">2</a>. We are able to identity whether a user of China Telecom is a migrant because 1) it is necessary for a migrant to apply for a local phone number in Shanghai due to long-distance costs; 2) it is uncommon for a temporary visitor to apply for a local phone number due to the burdensome application process; 3) applying for phone numbers require personal identification, which contains birthplace information. We use <em>locals</em>, who were born in Shanghai, as a comparison point to understand the integration process. We also differentiate <em>leaving migrants</em>, new migrants that left the city in three weeks after they moved to Shanghai, from <em>staying migrants</em>, new migrants that managed to stay for the first month. Our results indicate that around 4% of new migrants ended up leaving early. This work builds on our previous work&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0055">55</a>], which employs the same telecommunication dataset to explore different characteristics of new migrants, settled migrants, and locals. The key differences lie in the churn prediction task to predict the early departure of new migrants and the novel combination of housing price information and telecommunication metadata.</p>    <p>We first explore how locals, leaving migrants, and staying migrants differ in their mobile communication networks and geographical locations in Section&#x00A0;<a class="sec" href="#sec-12">3</a>. The dynamic patterns over time allow us to study the integration process in the first month. Overall, locals are stable in all our proposed features during this period, whereas both staying migrants and leaving migrants go through significant changes despite the short time span. However, the changes of staying migrants and leaving migrants may happen to different extents, sometimes even in different directions. Specifically, we find that it is important for a new migrant to develop <em>diverse</em> social ties in the first few weeks. For instance, a migrant with contacts from more provinces tends to stay. As for geographical locations, leaving migrants are less active in terms of geographical movements, and move around more expensive housing areas than both locals and staying migrants, whereas staying migrants move around cheaper areas over time. This observation suggests that it is important for new migrants to find their own active area in a big city. Staying migrants are still different from locals in the last week of our dataset, which suggests that one month is far from enough for a migrant to integrate into a new city.</p>    <p>We then study to what extent we can separate the three groups by formulating prediction tasks in Section&#x00A0;<a class="sec" href="#sec-17">4</a>. Because of the class imbalance, we investigate two prediction tasks: distinguishing new migrants from locals and distinguishing leaving migrants from staying migrants. Our proposed features are effective in both tasks and clearly outperform random guessing. Random forest is the best performing classifier, indicating the importance of non-linearity. We focus our analysis on the second task as it holds promise for delivering personalized service to new migrants who find the integration process difficult. The prediction performance improves as we include features that span more days. Such a performance improvement mainly comes from better feature quality as we use data from more days, because the classifier trained from only the first few days can perform as well as the classifier trained using full data by using the same set of features when testing.</p>    <p>Our work aims to understand the (dis)integration of migrants. This challenging problem necessarily involves efforts from a wide range of disciplines, including anthropology, economics, and sociology. We thus provide an overview of related work in Section&#x00A0;<a class="sec" href="#sec-20">5</a> and offer some concluding discussions in Section&#x00A0;<a class="sec" href="#sec-21">6</a>.</p>   </section>   <section id="sec-8">    <header>    <div class="title-info">     <h2>      <span class="section-number">2</span> Experimental Setup</h2>    </div>    </header>    <p>In this paper, our main dataset is the <em>complete</em> telecommunication records between mobile users using China Telecom in Shanghai over one month in 2016. Before introducing our dataset and experimental setup, we highlight several facts about telecommunication in China. First, obtaining a local number is the first integration step for a new migrant because of long-distance call costs, and we are able to differentiate whether a telephone number is a local number in Shanghai or from other regions. Second, since obtaining a phone number is nontrivial and requires personal identification, it is uncommon for a temporary visitor to obtain a local number. Personal identification allows us to extract the birthplace of a person. Therefore, we can identify people who just obtained a local number but were not from Shanghai originally. It is worth noting that long-distance call costs have been removed by China Telecom in September 2017, which makes our telecommunication metadata unique and valuable to understanding migrant integration. Insights from our work can nevertheless be used to analyze telecommunication patterns without personal identification information.</p>    <section id="sec-9">    <header>     <div class="title-info">      <h3>       <span class="section-number">2.1</span> How Many Migrants are Leaving in the First Weeks?</h3>     </div>    </header>    <p>     <strong>Telecommunication dataset.</strong> Our telecommunication dataset is provided by China Telecom, the third largest mobile service provider in China. The dataset spans a month from September 1st, 2016 to September 30th, 2016. It includes over 698 million call logs between around 54 million users. For each user, we obtain her demographical information including age, sex, and birthplace by the personal identification binded with the phone number. Each entry in the call logs contains the caller&#x0027;s number, the callee&#x0027;s number, the starting time, and the ending time. In addition, for each call, we have the GPS location of the corresponding telecommunication tower, which is widely used to approximate user locations during the call. Our dataset was anonymized by China Telecom to protect user privacy. Throughout the paper, we report only average statistics without revealing any identifiable information of individuals. <figure id="fig1">      <img src="../../../data/deliveryimages.acm.org/10.1145/3190000/3186144/images/www2018-153-fig1.jpg" class="img-responsive" alt="Figure 1"       longdesc=""/>      <div class="figure-caption">       <span class="figure-number">Figure 1:</span>       <span class="figure-title">An illustration of how we define leaving migrants and staying migrants. The first several days are used to filter out new migrants. Since the last few days overlap with national holidays, we use Sep. 19 &#x2014; Sep. 25 as the last week to make sure that leaving migrants left early instead of traveling temporarily.</span>      </div>     </figure>     <strong>Locals, staying migrants, and leaving migrants.</strong> We only consider users with local phone numbers in this work.<a class="fn" href="#fn1" id="foot-fn1"><sup>1</sup></a>We categorize users in our dataset into three groups based on their birthplaces and call history. We refer to people that were born in Shanghai as <em>locals</em>. We consider people that were not born in Shanghai and had no call logs in the first 4 days in our dataset as <em>new migrants</em>. Our focus in this paper is to understand the behavioral pattern of new migrants, which shed light on the integration process of migrants.</p>    <p>Our first question is how many new migrants are leaving in the first weeks, despite that they made efforts to obtain a local number. We identify new migrants that ended up leaving Shanghai early, i.e., before <em>the last week</em> in our dataset. To make sure that people did not leave temporarily, we omit the last 5 days&#x2019; data for all users as the National Day holidays were close to that time, which may lead to temporal travel. That is, the last week in our dataset is defined as Sep. 19 - Sep. 25. We consider new migrants as <em>leaving migrants</em> if they were active in the first two weeks (Sep. 5 - Sep. 18) and have no record since Sep. 19, and as <em>staying migrants</em> if they were active in all the three weeks. Figure&#x00A0;<a class="fig" href="#fig1">1</a> gives an illustration.</p>    <p>Based on our definition, we identify <em>1.8M locals, 34K staying migrants, and 1.5K leaving migrants</em>. It follows that around <em>4%</em> of the new migrants left Shanghai in the first few weeks, which is a useful statistic for urban policymakers and complements existing survey based approaches. To the best of our knowledge, there is no public official report about this statistic. This categorization of users into locals, staying migrants, and leaving migrants constitutes the basis for our computational framework. <figure id="fig2">      <img src="../../../data/deliveryimages.acm.org/10.1145/3190000/3186144/images/www2018-153-fig2.jpg" class="img-responsive" alt="Figure 2"       longdesc=""/>      <div class="figure-caption">       <span class="figure-number">Figure 2:</span>       <span class="figure-title">Housing price distribution over Shanghai.</span>      </div>     </figure>    </p>    </section>    <section id="sec-10">    <header>     <div class="title-info">      <h3>       <span class="section-number">2.2</span> Housing Price Data</h3>     </div>    </header>    <p>Economic theory suggests that individual migration depends on housing prices in different areas&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0045">45</a>]. To validate and further study this in our dataset, we employ a housing price data from AnJuKe<a class="fn" href="#fn2" id="foot-fn2"><sup>2</sup></a>, an online platform for real estate sales and renting. Our data covers around 18K real estates at Shanghai in 2017<a class="fn" href="#fn3" id="foot-fn3"><sup>3</sup></a>. Together with the GPS locations, we calculate the average housing price for a particular user&#x0027;s home, work place, and other active areas. Overall, the housing price in Shanghai spreads a wide range (Figure&#x00A0;<a class="fig" href="#fig2">2</a>). For instance, in HuangPu area, the center of Shanghai, the average housing price has exceeded 100K yuan (&#x223C; 15K US dollars) per square meter. Meanwhile, other areas like MinHang has the housing price below 30K yuan per square meter. The average housing price in our dataset is 54.3K, with a standard deviation of 29.4K.</p>    </section>    <section id="sec-11">    <header>     <div class="title-info">      <h3>       <span class="section-number">2.3</span> Computational Framework</h3>     </div>    </header>    <p>From a person&#x0027;s call logs, we can extract a mobile communication network, which can reasonably approximate a user&#x0027;s social network and how she develops her connections to others after moving to a new city. We can also obtain the geographical locations of users from our data, which is also valuable to understanding migrants&#x2019; active areas in a new city. We then formulate the following notations, which are consistent with our previous work&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0055">55</a>].</p>    <p>     <strong>Mobile communication networks.</strong> Based on call logs, we establish a mobile communication network grouped by time periods. Formally, we build a directed graph <em>G<sub>t</sub>     </em> = (<em>V<sub>t</sub>     </em>, <em>E<sub>t</sub>     </em>) for a time period <em>t</em>, where <em>V<sub>t</sub>     </em> is the set of users, and each directed edge <em>e<sub>ij</sub>     </em> &#x2208; <em>E</em> indicates that <em>v<sub>i</sub>     </em> calls <em>v<sub>j</sub>     </em> during that time period (<em>v<sub>i</sub>     </em>, <em>v<sub>j</sub>     </em> &#x2208; <em>V<sub>t</sub>     </em>). Here <em>t</em> can refer to a week or several days. Note that only a subset of users in <em>V<sub>t</sub>     </em> are labeled as locals, staying migrants, or leaving migrants.</p>    <p>     <strong>Geographical locations.</strong> For each call a person makes, we have access to the GPS location from the corresponding telecommunication tower. We then group a person&#x0027;s locations by time periods. We collect all the locations that a person makes calls in a time period <em>t</em>, and refer to this ordered list of locations for user <em>v</em> as <span class="inline-equation"><span class="tex">$L_v^t=[l_1, \ldots , l_n]$</span>     </span>, where <em>l<sub>i</sub>     </em> contains the latitude and the longitude. We have geographical locations for the subset of users with labels since they are all users of China Telecom by definition. <figure id="fig3">      <img src="../../../data/deliveryimages.acm.org/10.1145/3190000/3186144/images/www2018-153-fig3.jpg" class="img-responsive" alt="Figure 3"       longdesc=""/>      <div class="figure-caption">       <span class="figure-number">Figure 3:</span>       <span class="figure-title">How locals, staying migrants, and leaving migrants build social connections in the first three weeks. y-axis represents feature values based of an individual&#x0027;s ego-network and x-axis represents time.</span>      </div>     </figure>     <figure id="fig4">      <img src="../../../data/deliveryimages.acm.org/10.1145/3190000/3186144/images/www2018-153-fig4.jpg" class="img-responsive" alt="Figure 4"       longdesc=""/>      <div class="figure-caption">       <span class="figure-number">Figure 4:</span>       <span class="figure-title">Example of an ego-network centered by a particular user <em>v</em>. We study how the structure of its ego-network evolve over time, and how the evolution pattern of a new migrant is correlated with her decision to settle down or leave the city.</span>      </div>     </figure>    </p>    </section>   </section>   <section id="sec-12">    <header>    <div class="title-info">     <h2>      <span class="section-number">3</span> The (Dis)integration of Migrants</h2>    </div>    </header>    <p>In this section, we study the integration process of migrants in the first weeks after moving to a new city, and the disintegration process for some migrants who left early. To do that, we examine a wide range of factors from people&#x0027;s mobile communication networks and geographical locations. We propose four types of features: ego network properties, call behaviors, geographical patterns, and housing price information. In order to understand the integration process, we use locals as a comparison point. Therefore, we examine the differences between locals, staying migrants, and leaving migrants in each week and how the features evolve over time. Here we focus on explaining the motivation and evolving patterns of each feature by itself, and will examine their prediction performance in Section&#x00A0;<a class="sec" href="#sec-17">4</a>. Please refer to Table&#x00A0;<a class="tbl" href="#tab4">4</a> in the appendix for computational details of each feature. Note that we do not have feature values for leaving migrants at week 3 because they left in the third week. <figure id="fig5">     <img src="../../../data/deliveryimages.acm.org/10.1145/3190000/3186144/images/www2018-153-fig5.jpg" class="img-responsive" alt="Figure 5"      longdesc=""/>     <div class="figure-caption">      <span class="figure-number">Figure 5:</span>      <span class="figure-title">Call behavior of locals, staying migrants, and leaving migrants.</span>     </div>    </figure>    </p>    <section id="sec-13">    <header>     <div class="title-info">      <h3>       <span class="section-number">3.1</span> Ego network properties.</h3>     </div>    </header>    <p>We first study how individuals build new connections and maintaining existing relationships in the first weeks after moving to a new city. We extract features based on a person&#x0027;s ego network, the subgraph consisting of a person and all her neighbors&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0019">19</a>]. We treat the telecommunication network as an undirected graph when building ego networks, so each neighbor of a person <em>v</em> either called <em>v</em> or received <em>v</em>&#x2019;s calls. As Figure&#x00A0;<a class="fig" href="#fig4">4</a> illustrates, we study characteristics of <em>v</em> and her friends such as demographics, birthplaces, and connections to other people. Figure&#x00A0;<a class="fig" href="#fig3">3</a> presents the results. Overall, we find that the ego network features of locals are more stable than those of new migrants over time.</p>    <p>     <strong>Demographics.</strong> Social homophily suggests that people tend to develop connections to those who are similar to themselves&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0035">35</a>]. As Figure&#x00A0;3(a) shows, locals have a stable fraction of similarly-aged friends (around 0.41), while leaving migrants have a larger fraction and staying migrants have a smaller fraction. We see the results of leaving migrants and staying migrants are both getting closer to locals, which indicates the integration process of migrants. This process seems to happen rather quickly in terms of talking to similar-aged friends. As for sex (Figure&#x00A0;3(b)), locals show the strongest homophily in sex, i.e., locals have the largest fraction of contacts with the same sex. In comparison, new migrants who have a strong homophily in sex during the first week tend to be leaving migrants, while new migrants with more friends of the different sex tend to stay in Shanghai.</p>    <p>     <strong>Degree.</strong> A people&#x0027;s degree reflects the number of contacts she has (Figure&#x00A0;3(c) (d)). As expected, locals and their contacts have the largest degree. In the first week, staying migrants and leaving migrants, and even their friends have very similar numbers of contacts. However, staying migrants develop significantly more connections than leaving migrants in the second week. Such better connectedness also applies to the contacts that staying migrants make in the second week.</p>    <p>     <strong>Diversity of connections.</strong> We finally examine the diversity of one&#x0027;s connections from three aspects: the birthplace of contacts, clustering coefficient, and communication diversity over contacts.</p>    <p>We analyze the birthplace of contacts both in the fraction of people who came from the same hometown and the diversity across different provinces. Leaving migrants rely on people from the same hometown much more, while staying migrants start with a lower fraction of townspeople and grow a little bit over the integration (Figure&#x00A0;3(e)). Remember that locals were born in Shanghai, so they are not shown in this figure. To further study this, we define a person <em>v</em>&#x2019;s province diversity as the entropy of the distribution of birth provinces among <em>v</em>&#x2019;s contacts, i.e., &#x2212; &#x2211;<sub>      <em>x</em>     </sub>     <em>p<sub>x</sub>     </em>log&#x2009;<sub>2</sub>     <em>p<sub>x</sub>     </em>, where <em>p<sub>x</sub>     </em> is the probability that a contact of <em>v</em> was born in province <em>x</em>. Figure&#x00A0;3(f) again shows that locals are pretty stable over time, while staying migrants have the most diverse group of contacts and leaving migrants have the lowest. This suggests that contacting people from different regions may help integrate in a new city.</p>    <p>Clustering coefficient measures the fraction of triangles in the ego-network and indicates how likely a person&#x0027;s contacts know each other. From Figure&#x00A0;3(g), we see that leaving migrants present the largest clustering coefficient, while locals have the lowest. This suggests that new migrants that start with a close-knit group after moving to a big city may hinder themselves from integration.</p>    <p>Finally, inspired by the social diversity proposed in&#x00A0;Eagle et&#x00A0;al. [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0017">17</a>], we define the communication diversity as a function of Shannon entropy to quantify how a person split the number of calls to her friends, i.e., <span class="inline-equation"><span class="tex">$\frac{-\sum _{j}p_{ij}\log (p_{ij})}{log(k_i)}$</span>     </span>. Here <em>k<sub>i</sub>     </em> is the out-degree and <em>p<sub>ij</sub>     </em> is the probability defined as <span class="inline-equation"><span class="tex">$p_{ij}=\frac{n_{ij}}{\sum _{l}n_{il}}$</span>     </span>, where <em>n<sub>ij</sub>     </em> is the number of calls user <em>v<sub>i</sub>     </em> makes to user <em>v<sub>j</sub>     </em>. The result in Figure&#x00A0;3(h), again, suggests that developing more diverse connections may help new migrants integrate into a big city like Shanghai. <figure id="fig6">      <img src="../../../data/deliveryimages.acm.org/10.1145/3190000/3186144/images/www2018-153-fig6.jpg" class="img-responsive" alt="Figure 6"       longdesc=""/>      <div class="figure-caption">       <span class="figure-number">Figure 6:</span>       <span class="figure-title">Geographical features of locals, staying migrants, and leaving migrants (in kilometers).</span>      </div>     </figure>    </p>    </section>    <section id="sec-14">    <header>     <div class="title-info">      <h3>       <span class="section-number">3.2</span> Call Behavior</h3>     </div>    </header>    <p>For users&#x2019; call behaviors, we first examine the difference between a person&#x0027;s outgoing calls and incoming calls in Figure&#x00A0;5(a) . The positive values suggest that the three groups of people in our dataset are more likely to make phone calls than to receive calls. We also see that the difference is larger for new migrants than locals from the figure. Making more out-calls may be a sign that new migrants are developing initial connections. Staying migrants make more out-calls as time grows, whereas leaving migrants make fewer. Note that this feature of staying migrants grows more dissimilar to locals, suggesting that two weeks is too short for staying migrants to integrate into locals.</p>    <p>The duration of calls may reflect the strength of a relation between two person. Naturally, closed friends tend to have longer phone calls, while strangers are more likely to have a quick check-in. Figure&#x00A0;5(b) shows that staying migrants make much longer calls than locals and leaving migrants. One possible explanation is that staying migrants need more time to figure out their initial life in a new city. Lack of such relations, leaving migrants fail to integrate into Shanghai. Meanwhile, locals, who have stable relations in Shanghai, are less likely to make long calls. However, as Figure&#x00A0;5(c) shows, locals make significant longer calls to other locals, while new migrants do not develop strong relations with locals in the first three weeks after they arrive.</p>    <p>Finally, we investigate the fraction of reciprocal calls (i.e., two-way relationships between users). As Figure&#x00A0;5(d) shows, locals are more likely to have reciprocal relationships with their contacts, while the fraction of reciprocal calls is lower for staying migrants, and is lowest for leaving migrants. This again shows that the personal networks of new migrants are still nascent. At week 2, staying migrants have a larger likelihood to have reciprocal relationships, whereas leaving migrants&#x2019; likelihood decreases.</p>    </section>    <section id="sec-15">    <header>     <div class="title-info">      <h3>       <span class="section-number">3.3</span> Geographical Patterns</h3>     </div>    </header>    <p>We use locations to measure the mobility of migrants. Given a user <em>v</em>&#x2019;s geographical locations <span class="inline-equation"><span class="tex">$L_{v}^t=\lbrace l_1, \cdots , l_n\rbrace$</span>     </span>, which is ordered by time and contains the latitude and the longitude of locations for user <em>v</em> during a time period <em>t</em>, we can measure that user&#x0027;s active area from three different aspects. First, we measure the <em>total distance</em> that the user moves as &#x2211;<sub>      <em>i</em>     </sub>|<em>l<sub>i</sub>     </em> &#x2212; <em>l</em>     <sub>      <em>i</em> &#x2212; 1</sub>| (Figure&#x00A0;6(a)). Second, we compute a user <em>v</em>&#x2019;s radius based on her center of mass <em>l<sub>CM</sub>     </em> as <span class="inline-equation"><span class="tex">$\frac{\sum _{l \in L_v^t}l}{|L_v^t|}$</span>     </span>. We define <em>average radius</em> as the average distance of <em>v</em> from her center of mass, <span class="inline-equation"><span class="tex">$\frac{\sum _{l\in L_v^t}|l-l_{CM}|}{|L_v^t|}$</span>     </span> (Figure&#x00A0;6(b)). Similarly, we define <em>max radius</em> as the max distance of <em>v</em> from her center of mass, i.e., <span class="inline-equation"><span class="tex">$\max _{l \in L_v^t}|l-l_{CM}|$</span>     </span> (Figure&#x00A0;6(c)). The results using these three statistics are consistent: locals tend to move the most distance between calls on average and have much larger active area than new migrants. In comparison, staying migrants tend to expand their active areas, whereas leaving migrants&#x2019; moving distance, average radius, and max radius only change slightly over time.</p>    <p>By assuming that most people work in day time and go back home at night, we can define a person <em>v</em>&#x2019;s workplace as her center of mass during 9:00am to 16:00pm and her home as the center of mass during 20:00pm to 7:00am. We study the distances between a person&#x0027;s home and her workplace in Figure&#x00A0;6(d) . Locals have a stable distance over time and the small fluctuation can be explained by people&#x0027;s activity during the day and the night. New migrants live slightly closer to workplace in the first week, while the distance becomes smaller over time, suggesting that new migrants may find new places to live after they obtain a job. This decrease in distance between the day and the night can further alleviate the concern that these new migrants are temporary visitors. <figure id="fig7">      <img src="../../../data/deliveryimages.acm.org/10.1145/3190000/3186144/images/www2018-153-fig7.jpg" class="img-responsive" alt="Figure 7"       longdesc=""/>      <div class="figure-caption">       <span class="figure-number">Figure 7:</span>       <span class="figure-title">Housing price features of locals, staying migrants, and leaving migrants.</span>      </div>     </figure>    </p>    </section>    <section id="sec-16">    <header>     <div class="title-info">      <h3>       <span class="section-number">3.4</span> Housing Price Information</h3>     </div>    </header>    <p>The soaring housing price has been a central issue in the urbanization process of China [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0012">12</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0051">51</a>]. Housing price can play an important role in a migrant&#x0027;s integration process. Figure&#x00A0;<a class="fig" href="#fig2">2</a> presents the overall distribution of housing price. We compute the average housing price of a person&#x0027;s active geographical locations as well as of a person&#x0027;s friends&#x2019; active locations.</p>    <p>Surprisingly, we find that locals tend to be active in the least expensive areas, while leaving migrants stay in the most expensive places (Figure&#x00A0;7(a)). The average housing price of staying migrants drops significantly from the first week to the second week, but it is not the case for leaving migrants. Similar results can be observed in the average housing price of a person&#x0027;s home. We omit the figure for space reasons. A new migrant may leave Shanghai early because she fails to find a place with a reasonable renting price. Due to social homophily, the average housing prices of one&#x0027;s active areas is similar to that of their friends (Figure&#x00A0;7(b)).</p>    <p>     <strong>Summary.</strong> Through the evolving patterns of our proposed features, we find that staying migrants are able to move towards locals in many dimensions, but three weeks is of course too short to finish the integration process. However, comparing staying migrants to leaving migrants, staying migrants have more active and diverse mobile communication contacts and geographical movements. This suggests that actively expanding one&#x0027;s social network after moving to a new city is an important step for migrant integration.</p>    </section>   </section>   <section id="sec-17">    <header>    <div class="title-info">     <h2>      <span class="section-number">4</span> Predicting (Leaving) Migrants</h2>    </div>    </header>    <p>Having established the dynamic patterns of single features, we explore to what extent locals, staying migrants, and leaving migrants are separable based on our proposed features. As these three groups of people have very different population sizes, we set up two prediction tasks. We first propose a binary classification task to predict if an individual is a local or a new migrant, and then work on distinguishing leaving migrants from staying migrants. Both tasks are challenging due to the sparsity of data: less than 2% people are new migrants and 4% (1.5K) migrants left early in our dataset. The second task is more difficult as the behavior patterns of leaving migrants and staying migrants are more similar than those of new migrants and locals. However, accurate prediction of leaving migrants may allow for personalized service to help integration and insights from the second task can potentially inform urban policymakers, so we focus on the second task. For both tasks, we use the same features listed in Table&#x00A0;<a class="tbl" href="#tab4">4</a> in the appendix.</p>    <div class="table-responsive" id="tab1">    <div class="table-caption">     <span class="table-number">Table 1:</span>     <span class="table-title">Distinguishing new migrants from locals using random forest with different set of features.</span>    </div>    <table class="table">     <thead>      <tr>       <th style="text-align:left;">Feature sets</th>       <th style="text-align:right;">Precision</th>       <th style="text-align:right;">Recall</th>       <th style="text-align:right;">F1</th>      </tr>     </thead>     <tbody>      <tr>       <td style="text-align:left;">all features</td>       <td style="text-align:right;">0.2355</td>       <td style="text-align:right;">0.8397</td>       <td style="text-align:right;">       <strong>0.3678</strong>       </td>      </tr>      <tr>       <td style="text-align:left;">ego network properties</td>       <td style="text-align:right;">0.2097</td>       <td style="text-align:right;">0.8499</td>       <td style="text-align:right;">0.3363</td>      </tr>      <tr>       <td style="text-align:left;">call behavior</td>       <td style="text-align:right;">0.1021</td>       <td style="text-align:right;">0.8358</td>       <td style="text-align:right;">0.1820</td>      </tr>      <tr>       <td style="text-align:left;">geographical patterns</td>       <td style="text-align:right;">0.0813</td>       <td style="text-align:right;">0.5971</td>       <td style="text-align:right;">0.1433</td>      </tr>      <tr>       <td style="text-align:left;">housing price information</td>       <td style="text-align:right;">0.0641</td>       <td style="text-align:right;">0.5347</td>       <td style="text-align:right;">0.1144</td>      </tr>      <tr style="border-top: solid 2px">       <td style="text-align:left;">random guess</td>       <td style="text-align:right;">0.0198</td>       <td style="text-align:right;">0.0198</td>       <td style="text-align:right;">0.0198</td>      </tr>     </tbody>    </table>    </div>    <section id="sec-18">    <header>     <div class="title-info">      <h3>       <span class="section-number">4.1</span> Distinguishing New Migrants from Locals</h3>     </div>    </header>    <p>Our first binary classification task is to distinguish new migrants from locals. Formally, given a user <em>v</em>, a set of <em>v</em>&#x2019;s mobile communication networks {<em>G<sub>t</sub>     </em>} over the first 14 days since she moves to Shanghai (1 &#x2264; <em>t</em> &#x2264; 14), and the geographical locations <span class="inline-equation"><span class="tex">$L_{v}^t$</span>     </span> of <em>v</em> at time <em>t</em> (the <em>t</em>-th day), our goal is to predict if <em>v</em> is a new migrant or a local. We conduct 5-fold cross-validation and use precision, recall, and F1-score for evaluation, with the minority class, i.e., new migrants, as the target class.</p>    <p>Table&#x00A0;<a class="tbl" href="#tab1">1</a> demonstrate the results of random forest in this task. Recall that in our dataset, there are 1.8 million locals and 35.5 thousand new migrants (52:1). Thus random guessing would obtain an F1-score around 0.02. Our method is able to outperform this random baseline significantly with an F1 of 0.36. We further compare the effectiveness of different feature sets by training a classifier that includes a single feature set and excludes the other feature sets. Table&#x00A0;<a class="tbl" href="#tab1">1</a> shows that using every singe feature set outperforms random guessing. Ego network properties performs the best, followed by geographical patterns. <figure id="fig8">      <img src="../../../data/deliveryimages.acm.org/10.1145/3190000/3186144/images/www2018-153-fig8.jpg" class="img-responsive" alt="Figure 8"       longdesc=""/>      <div class="figure-caption">       <span class="figure-number">Figure 8:</span>       <span class="figure-title">The left three figures present prediction performance in distinguishing leaving migrants from staying migrants by employing features extracted from the first <em>k</em> days since new migrants moved to Shanghai. x-axis represents the number of days that we extract features from and train classifiers on, y-axis represents the evaluation metric. Figure&#x00A0;8(d) shows that the performance improvement mainly comes from improved feature quality. x-axis represents the number of days (<em>t</em>) that we extract features from when testing, while different lines track the performance of the classifier trained using <em>k</em> days. The classifier with small <em>k</em> (i.e., &#x2265; 5) shows similar performance with <em>k</em> = 15 as long as we use features from 14 days when testing.</span>      </div>     </figure>    </p>    </section>    <section id="sec-19">    <header>     <div class="title-info">      <h3>       <span class="section-number">4.2</span> Predicting Leaving Migrants</h3>     </div>    </header>    <p>In the second task, we aim to separate staying migrants from leaving migrants, i.e., predict if a new migrant will leave Shanghai within the 3rd week. We again conduct 5-fold cross-validation and use precision, recall, and F1-score for evaluation, with leaving migrants as the target class.</p>    <div class="table-responsive" id="tab2">     <div class="table-caption">      <span class="table-number">Table 2:</span>      <span class="table-title">Performance in distinguishing leaving migrants from staying migrants with different classifiers. Each classifier uses all features extracted from the first <em>k</em> = 14 days.</span>     </div>     <table class="table">      <thead>       <tr>       <th style="text-align:left;">Classification method</th>       <th style="text-align:right;">Precision</th>       <th style="text-align:right;">Recall</th>       <th style="text-align:right;">F1</th>       </tr>      </thead>      <tbody>       <tr>       <td style="text-align:left;">Random forest</td>       <td style="text-align:right;">0.1597</td>       <td style="text-align:right;">0.6659</td>       <td style="text-align:right;">0.2576</td>       </tr>       <tr>       <td style="text-align:left;">Multilayer perceptron</td>       <td style="text-align:right;">0.1329</td>       <td style="text-align:right;">0.5533</td>       <td style="text-align:right;">0.2140</td>       </tr>       <tr>       <td style="text-align:left;">Support vector machine</td>       <td style="text-align:right;">0.1238</td>       <td style="text-align:right;">0.6815</td>       <td style="text-align:right;">0.2095</td>       </tr>       <tr>       <td style="text-align:left;">Logistic regression</td>       <td style="text-align:right;">0.1006</td>       <td style="text-align:right;">0.7082</td>       <td style="text-align:right;">0.1762</td>       </tr>       <tr style="border-top: solid 2px">       <td style="text-align:left;">random guess</td>       <td style="text-align:right;">0.0437</td>       <td style="text-align:right;">0.0426</td>       <td style="text-align:right;">0.0431</td>       </tr>      </tbody>     </table>    </div>    <div class="table-responsive" id="tab3">     <div class="table-caption">      <span class="table-number">Table 3:</span>      <span class="table-title">Distinguishing leaving migrants from staying migrants using random forest with different feature sets extracted from the first <em>k</em> = 14 days.</span>     </div>     <table class="table">      <thead>       <tr>       <th style="text-align:left;">Feature sets</th>       <th style="text-align:right;">Precision</th>       <th style="text-align:right;">Recall</th>       <th style="text-align:right;">F1</th>       </tr>      </thead>      <tbody>       <tr>       <td style="text-align:left;">all features</td>       <td style="text-align:right;">0.1597</td>       <td style="text-align:right;">0.6659</td>       <td style="text-align:right;">0.2576</td>       </tr>       <tr>       <td style="text-align:left;">ego network properties</td>       <td style="text-align:right;">0.1347</td>       <td style="text-align:right;">0.6580</td>       <td style="text-align:right;">0.2234</td>       </tr>       <tr>       <td style="text-align:left;">housing price information</td>       <td style="text-align:right;">0.1067</td>       <td style="text-align:right;">0.5978</td>       <td style="text-align:right;">0.1809</td>       </tr>       <tr>       <td style="text-align:left;">call behavior</td>       <td style="text-align:right;">0.0984</td>       <td style="text-align:right;">0.5853</td>       <td style="text-align:right;">0.1683</td>       </tr>       <tr>       <td style="text-align:left;">geographical information</td>       <td style="text-align:right;">0.0863</td>       <td style="text-align:right;">0.5691</td>       <td style="text-align:right;">0.1498</td>       </tr>      </tbody>     </table>    </div>    <p>     <strong>Overall performance.</strong> We experiment with different classifiers including logistic regression, support vector machine, multilayer perceptron, and random forest. Recall that we have 34K staying migrants and 1.5K leaving migrants in our dataset. Random guessing would thus obtain an F1-score around 0.04. Table&#x00A0;<a class="tbl" href="#tab2">2</a> shows that all the machine learning classifiers clearly outperform random guessing and random forest provides the best performance. Random forest and MLP outperform others in terms of F1, suggesting that non-linearity is important for this classification task.</p>    <p>Overall, the prediction performance suggests that the proposed features are not only effective in distinguishing new migrants from locals, but also useful in predicting a migrant&#x0027;s decision to stay or leave. However, the F1-score in this task is not as good as in the first task. The performance drop suggests that as expected, predicting a migrant&#x0027;s leaving decision is much harder than distinguishing new migrants from locals.</p>    <p>Table&#x00A0;<a class="tbl" href="#tab3">3</a> also lists the performance of the classifier using a single feature set with random forest. Again, ego network properties perform the best. Geographical patterns, however, perform worse in this task than in the task of distinguishing new migrants from locals. In comparison, housing price features achieve a better F1-score than geographical patterns, which suggests that knowing meta information such as housing price of a person&#x0027;s active areas is more useful than simply knowing the active areas for predicting migrants&#x2019; early departure.</p>    <p>     <strong>Early detection of leaving migrants.</strong> We next explore whether it is possible to detect leaving migrants sooner than two weeks. If we can detect departure early on, we may be able to provide integration service. To do that, we extract features based on a person&#x0027;s information from the first <em>k</em> days. Figure&#x00A0;<a class="fig" href="#fig8">8</a> shows that precision and F1 score follow a very similar trend: knowing a person&#x0027;s behavior for longer after she moves to a new city (as <em>k</em> increases) allows us to better predict her decision to leave or stay. Since leaving migrants only take a very small fraction of our data, recall is relatively stable over different <em>k</em>s, which is already around 0.6 when <em>k</em> = 3, whereas improvement in precision is the main reason for overall performance improvement. Even when observing only 3 days, the classifier can outperform random guessing.</p>    <p>     <strong>Why does the performance improve?</strong> To understand why the performance improves as we observe new migrants for longer, we propose a novel set of experiments. We attempt to disentangle the improvement due to feature quality or classifier quality by replacing the features with future information when applying the classifier trained from only a small number of days. Specifically, we first train a classifier with data in the first <em>k</em> days, and then use features extracted from the first <em>t</em> days to predict if the user will leave the city within the 3rd week after she arrives in Shanghai. We vary different <em>k</em> and <em>t</em> to see how they influence the performance.</p>    <p>Surprisingly, we see that classifiers trained with only the first 5 days&#x2019; data perform as well as those trained using 14 days when testing with features extracted from the first 10 or 14 days in Figure&#x00A0;8(d) . This result indicates that the classifier can be well trained using data from a small number of days and the performance improvement is mainly due to improved feature quality. In other words, as new migrants stay longer, we have more reliable information regarding how she behaves, but even with less reliable information from the first 5 days, we can already know how different features relate to leaving migrants. <figure id="fig9">      <img src="../../../data/deliveryimages.acm.org/10.1145/3190000/3186144/images/www2018-153-fig9.jpg" class="img-responsive" alt="Figure 9"       longdesc=""/>      <div class="figure-caption">       <span class="figure-number">Figure 9:</span>       <span class="figure-title">The most important 10 features. The x-axis denotes the relative Gini importance of features.</span>      </div>     </figure>     <strong>Feature importance</strong> We finally discuss the important features in the learned random forests. For each feature, we calculate its Gini importance (also known as mean decrease impurity) in the learned random forest model with the first 14 days&#x2019; data. Figure&#x00A0;<a class="fig" href="#fig9">9</a> lists the most important 10 features. Degree (#contacts) ranks the first, while in-calls (#incoming calls), out-degree (#contacts making outgoing calls), and CC (clustering coefficient) are both in top 10. It, again, suggests that expanding more (diverse) connections is critical for new migrants and ego network properties are useful features. Two of the top 3 features are relevant to housing price, which is consistent with our finding in Section&#x00A0;<a class="sec" href="#sec-12">3</a> that living in an area with reasonable pricing is important.</p>    </section>   </section>   <section id="sec-20">    <header>    <div class="title-info">     <h2>      <span class="section-number">5</span> Related Work</h2>    </div>    </header>    <p>The urbanization process poses significant challenges for the society that require efforts from various disciplines. We summarize relevant studies in the following four aspects.</p>    <p>    <strong>Migrant integration.</strong> Migrant integration is a well-recognized research question in many disciplines, including anthropology, economics, sociology, and urban planning [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0009">9</a>]. Most relevant to our work is the study of urban migration [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0007">7</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0008">8</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0018">18</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0020">20</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0021">21</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0042">42</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0043">43</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0044">44</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0055">55</a>]. For example, our previous work explores different characteristics of locals, settled migrants, and new migrants&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0055">55</a>]. In addition to the effect of demographics (ethnic groups, rural vs. urban) on urban migrant integration, Schiller and &#x00C7;auglar [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0042">42</a>] argue that the role of migrants in the cities depends on the rescaling of the cities themselves. Government policy and agenda-setting also play an important role in the integration process [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0044">44</a>]. Beyond our scope, immigrants (migrants to a new country) and refugees (a subgroup of immigrants) have also received significant interests [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0004">4</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0005">5</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0024">24</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0046">46</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0050">50</a>].</p>    <p>    <strong>Urban migrants in China.</strong> The unprecedented speed of development and the huge population in China have sparked a battery of studies on urban migrants in China [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0001">1</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0011">11</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0026">26</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0032">32</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0033">33</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0049">49</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0052">52</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0053">53</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0054">54</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0056">56</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0057">57</a>]. There are at least three perspectives as suggested in [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0026">26</a>]: those of the migrants themselves, of the urban employers, and of the government. Our work presents the perspective of migrants based on their telecommunication patterns. It is worth noting that a central topic in public policy regarding migrants in China is the impact of the &#x201C;hukou&#x201D; system, a household registration system that limits the benefits and social welfare of migrants [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0001">1</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0053">53</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0054">54</a>]. Finally, although satisfying migrants&#x2019; needs is among the challenges that Bai et&#x00A0;al. [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0003">3</a>] highlight in the Chinese government&#x0027;s urbanization strategy, little attention is paid to the social integration of migrants.</p>    <p>    <strong>Urban computing.</strong> Data-driven studies related to cities have gained importance recently and led to a new term, urban computing [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0001">1</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0016">16</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0022">22</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0025">25</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0039">39</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0041">41</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0058">58</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0059">59</a>]. These studies combine heterogeneous data sources, including location data, social media activity data, mobile phone data and survey data, to propose metrics for city development and potentially guide urban policies. For instance, Zheng et&#x00A0;al. [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0059">59</a>] employ GPS data from taxicabs to evaluate transportation system in Beijing; De&#x00A0;Nadai et&#x00A0;al. [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0015">15</a>] use mobile phone data to extract human activity and propose metrics to measure urban diversity. Recently, Twitter has also been used as a tool for studies in understanding the global mobility patterns [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0016">16</a>].</p>    <p>    <strong>Temporal social networks and online communities.</strong> Our work is also relevant to studies on the evolution of networks [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0023">23</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0027">27</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0030">30</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0031">31</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0036">36</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0038">38</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0048">48</a>]. Using data from online social media, these studies explore the connection between individual behavior and global network properties. For instance, Viswanath et&#x00A0;al. [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0048">48</a>] find that links in the activity network tend to come and go rapidly over time, and the strength of ties exhibits a general decreasing trend as the social network link ages on Facebook. Leskovec et&#x00A0;al. [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0030">30</a>] develop a triangle-closing model to explain network evolution. In addition, studies have investigated the process of new user integration in online communities [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0002">2</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0013">13</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0014">14</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0028">28</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0034">34</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0047">47</a>]. In particular, McAuley and Leskovec [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0034">34</a>] examine the process of how a new user becomes an expert on review websites.</p>   </section>   <section id="sec-21">    <header>    <div class="title-info">     <h2>      <span class="section-number">6</span> Conclusion</h2>    </div>    </header>    <p>In this paper, we examine the integration process of migrants in the first weeks after moving to a new city, and the disintegration process for some migrants who left early. We use Shanghai as a case study and employ a one-month complete dataset of telecommunication metadata in Shanghai with 54 million users and 698 million call logs, plus a housing price dataset for 20K real estates in Shanghai. We examine four types of features extracted from people&#x0027;s mobile communication networks and geographical locations: ego network properties, call behaviors, geographical patterns, and housing price information. Through our study, we find that some behavior patterns of staying migrants evolve towards locals over time (e.g., contacting similar-aged people) as new migrants integrate into a new city. The communication networks that a new migrant develops is associated with her decision to stay or leave. New migrants who manage to stay tend to develop diverse connections, move around the city in less expensive housing areas in the first weeks, compared to leaving migrants. Our proposed features are effective in both distinguishing new migrants from locals and distinguishing leaving migrants from staying migrants. It is more challenging to predict leaving migrants than to predict new migrants in general. The performance improves as we are able to observe new migrants&#x2019; behavior for longer. Intriguingly, when using the same features, the classifier trained from only the first few days is already as good as the classifier trained using full data. This observation indicates that the performance improvement mainly lies in having better features.</p>    <p>Our work is limited by the data that we have access to. We provide the large-scale characterization of the first weeks after migrants move to a new city, but the integration process takes much longer, maybe even a life. Moreover, people&#x0027;s lives are much richer and more dynamic than what we are able to capture using telecommunication metadata. Job situations, health records, and daily interactions can all potentially offer a more in-depth understanding of the integration process. Last but not least, although China Telecom is a major service provider and Shanghai is an important global city, the selection bias in our data may limit the generalizability of our findings.</p>    <p>As urbanization is happening at an unprecedented rate and data collection becomes ubiquitous in smart cities, there are tremendous opportunities for data-driven approaches to understanding and improving migrant integration. For instance, it would be useful to identify what difficulty a particular migrant have in fitting into the city and provide timely and useful support.</p>    <p>    <strong>Acknowledgements.</strong> The work is supported by the Fundamental Research Funds for the Central Universities, NSFC (61702447, U1611461, 61625107), and a research funding from HIKVISION Inc.</p>   </section>  </section>  <section class="back-matter">   <Appendix>    <section id="sec-22">    <header>     <div class="title-info">      <h2>       <span class="section-number">A</span> Appendix</h2>     </div>    </header>    <p>In Table&#x00A0;<a class="tbl" href="#tab4">4</a>, we list features that we explore in Section&#x00A0;<a class="sec" href="#sec-12">3</a> and use for the classification tasks in Section&#x00A0;<a class="sec" href="#sec-17">4</a>. We omit simple demographics features based on the user&#x0027;s personal attribute such as age and gender in the table for space reasons. We view all directed edges as undirected except in measuring reciprocal calls. For demographics related features, we only include users for whom we have the corresponding information.</p>    <div class="table-responsive" id="tab4">     <div class="table-caption">      <span class="table-number">Table 4:</span>      <span class="table-title">List of features.</span>     </div>     <table class="table">      <thead>       <tr>       <th style="text-align:left;">Feature</th>       <th style="text-align:left;">Description</th>       </tr>      </thead>      <tbody>       <tr> 			 <td/>       <td style="text-align:left;"><strong>Ego networks of user <em>v</em> in <em>G<sub>t</sub>         </em>        </strong>       </td>       <td/>       </tr>       <tr>       <td style="text-align:left;">similar-age</td>       <td style="text-align:left;">The fraction of <em>v</em>&#x2019;s contacts that are at similar ages with <em>v</em> (&#x00B1; 5 years).</td>       </tr>       <tr>       <td style="text-align:left;">same-sex</td>       <td style="text-align:left;">The fraction of <em>v</em>&#x2019;s contacts with the same sex with <em>v</em>.</td>       </tr>       <tr>       <td style="text-align:left;">local</td>       <td style="text-align:left;">The fraction of <em>v</em>&#x2019;s contacts born in Shanghai.</td>       </tr>       <tr>       <td style="text-align:left;">townsman</td>       <td style="text-align:left;">The fraction of <em>v</em>&#x2019;s contacts born in the same province with <em>v</em> but not in Shanghai. This feature is always 0 for locals, so it is not included in prediction experiments in Section 4.1.</td>       </tr>       <tr>       <td style="text-align:left;">degree</td>       <td style="text-align:left;">The number of <em>v</em>&#x2019;s unique contacts.</td>       </tr>       <tr>       <td style="text-align:left;">in(out)-degree</td>       <td style="text-align:left;">The number of <em>v</em>&#x2019;s unique contacts having been called by <em>v</em> (called <em>v</em>)</td>       </tr>       <tr>       <td style="text-align:left;">neighbor degree</td>       <td style="text-align:left;">The average degree of <em>v</em>&#x2019;s contacts.</td>       </tr>       <tr>       <td style="text-align:left;">CC</td>       <td style="text-align:left;">Clustering coefficient of <em>v</em>&#x2019;s ego-network, <span class="inline-equation"><span class="tex">$\frac{|\lbrace (s, t)| (s, t) \in E_t\rbrace |}{d_v(d_{v}-1)}$</span>        </span>, where <em>s</em> and <em>t</em> are <em>v</em>&#x2019;s contacts, and <em>d<sub>v</sub>        </em> is <em>v</em>&#x2019;s degree.</td>       </tr>       <tr style="border-top: solid 2px"> 			 <td/>       <td style="text-align:left;"><strong>Call behavior of user <em>v</em> in <em>G<sub>t</sub>         </em>        </strong>       </td>       <td/>       </tr>       <tr>       <td style="text-align:left;">in(out)-call</td>       <td style="text-align:left;">The number of incoming (outgoing) calls.</td>       </tr>       <tr>       <td style="text-align:left;">out-call - in-call</td>       <td style="text-align:left;">The difference between the number of outgoing calls and incomming calls.</td>       </tr>       <tr>       <td style="text-align:left;">(local) call duration</td>       <td style="text-align:left;">        <em>v</em>&#x2019;s average call duration (with locals).</td>       </tr>       <tr>       <td style="text-align:left;">(local) duration variance</td>       <td style="text-align:left;">The variance of <em>v</em>&#x2019;s call duration (with locals).</td>       </tr>       <tr>       <td style="text-align:left;">province diversity</td>       <td style="text-align:left;">Entropy of the distribution of birth provinces among <em>v</em>&#x2019;s contacts, defined as &#x2212; &#x2211;<sub>         <em>i</em>        </sub>        <em>p<sub>i</sub>        </em>log&#x2009;<sub>2</sub>        <em>p<sub>i</sub>        </em>, where <em>p<sub>i</sub>        </em> is the probability that a contact of <em>v</em> was born in province <em>i</em>.</td>       </tr>       <tr>       <td style="text-align:left;">reciprocal call</td>       <td style="text-align:left;">The probability that <em>v</em>&#x2019;s contacts also call <em>v</em>.</td>       </tr>       <tr>       <td style="text-align:left;">communication diversity</td>       <td style="text-align:left;">Shannon entropy of the distribution of the number of calls to their contacts, defined as <span class="inline-equation"><span class="tex">$\frac{-\sum _{j}p_{ij}\log (p_{ij})}{log(k_i)}$</span>        </span>, where <em>k<sub>i</sub>        </em> is the out-degree, <span class="inline-equation"><span class="tex">$p_{ij}=\frac{n_{ij}}{\sum _{l}n_{il}}$</span>        </span>, <em>n<sub>ij</sub>        </em> is the number of calls user <em>v<sub>i</sub>        </em> makes to user <em>v<sub>j</sub>        </em>.</td>       </tr>       <tr style="border-top: solid 2px"> 			 <td/>       <td style="text-align:left;"><strong>Geographical features of <em>v</em> at time <em>t</em>        </strong>       </td>       <td/>       </tr>       <tr>       <td style="text-align:left;">center</td>       <td style="text-align:left;">The latitude and longitude of a user <em>v</em>&#x2019;s center of mass <span class="inline-equation"><span class="tex">$l_{\operatorname{CM}}$</span>        </span>, <span class="inline-equation"><span class="tex">$l_{\operatorname{CM}}=\frac{1}{|L_v^t|}\sum _{l \in L_v^t}l$</span>        </span>.</td>       </tr>       <tr>       <td style="text-align:left;">workplace center</td>       <td style="text-align:left;">The center of user <em>v</em> during 9:00am to 16:00pm</td>       </tr>       <tr>       <td style="text-align:left;">home center</td>       <td style="text-align:left;">The center of user <em>v</em> during 20:00pm to 7:00am</td>       </tr>       <tr>       <td style="text-align:left;">average radius</td>       <td style="text-align:left;">The average distance of <em>v</em> from her center of mass, i.e., <span class="inline-equation"><span class="tex">$\frac{1}{|L_v^t|}\sum _{l \in L_v^t} |l - l_{\operatorname{CM}}|$</span>        </span>.</td>       </tr>       <tr>       <td style="text-align:left;">max radius</td>       <td style="text-align:left;">The maximal distance of <em>v</em> from her center of mass, i.e., <span class="inline-equation"><span class="tex">$\max _{l \in L_v^t} |l - l_{\operatorname{CM}}|$</span>        </span>.</td>       </tr>       <tr>       <td style="text-align:left;">moving distance</td>       <td style="text-align:left;">The total distance that <em>v</em> moves, &#x2211;<sub>         <em>i</em>        </sub>|<em>l<sub>i</sub>        </em> &#x2212; <em>l</em>        <sub>         <em>i</em> &#x2212; 1</sub>|.</td>       </tr>       <tr>       <td style="text-align:left;">average distance</td>       <td style="text-align:left;">The average distance that <em>v</em> moves, <span class="inline-equation"><span class="tex">$\frac{1}{|L_v^t|}\sum _i |l_i - l_{i-1}|$</span>        </span>.</td>       </tr>       <tr>       <td style="text-align:left;">home distance</td>       <td style="text-align:left;">The distance between <em>v</em>&#x2019;s workplace and home.</td>       </tr>       <tr style="border-top: solid 2px"> 			 <td/>       <td style="text-align:left;"><strong>Housing price features of user <em>v</em>        </strong>       </td>       <td/>       </tr>       <tr>       <td style="text-align:left;">average price</td>       <td style="text-align:left;">The average housing price of <em>v</em>&#x2019;s active areas.</td>       </tr>       <tr>       <td style="text-align:left;">center price</td>       <td style="text-align:left;">The housing price of <em>v</em>&#x2019;s center of mass.</td>       </tr>       <tr>       <td style="text-align:left;">neighbor avg(center) price</td>       <td style="text-align:left;">The average value of the average(center) price of <em>v</em>&#x2019;s contacts.</td>       </tr>       <tr>       <td style="text-align:left;">workplace avg(center) price</td>       <td style="text-align:left;">The average(center) price of user <em>v</em> during 9:00am to 16:00pm.</td>       </tr>       <tr>       <td style="text-align:left;">home avg(center) price</td>       <td style="text-align:left;">The average(center) price of user <em>v</em> during 20:00pm to 7:00am.</td>       </tr>      </tbody>     </table>    </div>    </section>   </Appendix>   <section id="ref-001">    <header>    <div class="title-info">     <h2 class="page-brake-head">REFERENCES</h2>    </div>    </header>    <ul class="bibUl">    <li id="BibPLXBIB0001" label="[1]">Farzana Afridi, Sherry&#x00A0;Xin Li, and Yufei Ren. 2015. Social identity and inequality: The impact of China&#x0027;s hukou system. <em>      <em>Journal of Public Economics</em>     </em>123 (2015), 17&#x2013;29.</li>    <li id="BibPLXBIB0002" label="[2]">Lars Backstrom, Dan Huttenlocher, Jon Kleinberg, and Xiangyang Lan. 2006. Group formation in large social networks: Membership, growth, and evolution. In <em>      <em>Proceedings of KDD</em>     </em>.</li>    <li id="BibPLXBIB0003" label="[3]">Xuemei Bai, Peijun Shi, and Yansui&#x00A0;and Liu. 2014. Society: Realizing China&#x0027;s urban dream. <em>      <em>Nature News</em>     </em>509, 7499 (2014), 158.</li>    <li id="BibPLXBIB0004" label="[4]">Frank&#x00A0;D Bean and Gillian Stevens. 2003. <em>      <em>America&#x0027;s newcomers and the dynamics of diversity</em>     </em>. Russell Sage Foundation.</li>    <li id="BibPLXBIB0005" label="[5]">Gary&#x00A0;S Becker and Diane Coyle. 2011. The challenge of immigration: a radical solution. <em>      <em>Institute of Economic Affairs Monographs Occasional Paper</em>     </em>145 (2011).</li>    <li id="BibPLXBIB0006" label="[6]">Donatien Beguy, Philippe Bocquier, and Eliya&#x00A0;Msiyaphazi Zulu. 2010. Circular migration patterns and determinants in Nairobi slum settlements. <em>      <em>Demographic Research</em>     </em>23(2010), 549.</li>    <li id="BibPLXBIB0007" label="[7]">Martin Brockerhoff. 1995. Child survival in big cities: the disadvantages of migrants. <em>      <em>Social Science &#x0026; Medicine</em>     </em>40, 10 (1995), 1371&#x2013;1383.</li>    <li id="BibPLXBIB0008" label="[8]">Lawrence&#x00A0;A Brown and Eric&#x00A0;G Moore. 1970. The intra-urban migration process: a perspective. <em>      <em>Geografiska Annaler. Series B, Human Geography</em>     </em>52, 1 (1970), 1&#x2013;13.</li>    <li id="BibPLXBIB0009" label="[9]">Stephen Castles, Hein De&#x00A0;Haas, and Mark&#x00A0;J Miller. 2013. <em>      <em>The age of migration: International population movements in the modern world</em>     </em>. Palgrave Macmillan.</li>    <li id="BibPLXBIB0010" label="[10]">S Chandrasekhar, Mousumi Das, and Ajay Sharma. 2015. Short-term migration and consumption expenditure of households in rural India. <em>      <em>Oxford Development Studies</em>     </em>43, 1 (2015), 105&#x2013;122.</li>    <li id="BibPLXBIB0011" label="[11]">Juan Chen, Deborah&#x00A0;S. Davis, Kaming Wu, and Haijing Dai. 2015. Life satisfaction in urbanizing China: The effect of city size and pathways to urban residency. <em>      <em>Cities</em>     </em>49(2015), 88&#x2013;97.</li>    <li id="BibPLXBIB0012" label="[12]">Junhua Chen, Fei Guo, and Ying Wu. 2011. One decade of urban housing reform in China: Urban housing price dynamics and the role of migration and urbanization, 1995-2005. <em>      <em>Habitat International</em>     </em>35, 1 (2011), 1&#x2013;8.</li>    <li id="BibPLXBIB0013" label="[13]">David Crandall, Dan Cosley, Daniel Huttenlocher, Jon Kleinberg, and Siddharth Suri. 2008. Feedback effects between similarity and social influence in online communities. In <em>      <em>Proceedings of KDD</em>     </em>.</li>    <li id="BibPLXBIB0014" label="[14]">Cristian Danescu-Niculescu-Mizil, Robert West, Dan Jurafsky, Jure Leskovec, and Christopher Potts. 2013. No country for old members: User lifecycle and linguistic change in online communities. In <em>      <em>Proceedings of WWW</em>     </em>.</li>    <li id="BibPLXBIB0015" label="[15]">Marco De&#x00A0;Nadai, Jacopo Staiano, Roberto Larcher, Nicu Sebe, Daniele Quercia, and Bruno Lepri. 2016. The death and life of great Italian cities: a mobile phone data perspective. In <em>      <em>Proceedings of WWW</em>     </em>.</li>    <li id="BibPLXBIB0016" label="[16]">Mark Dredze, Manuel Garc&#x00ED;a-Herranz, Alex Rutherford, and Gideon Mann. 2016. Twitter as a source of global mobility patterns for social good. <em>      <em>CoRR</em>     </em>abs/1606.06343(2016).</li>    <li id="BibPLXBIB0017" label="[17]">Nathan Eagle, Michael&#x00A0;W Macy, and Rob Claxton. 2010. Network diversity and economic development.<em>      <em>Science</em>     </em>328, 5981 (2010), 1029&#x2013;1031.</li>    <li id="BibPLXBIB0018" label="[18]">Claude&#x00A0;S Fischer. 1982. <em>      <em>To dwell among friends : personal networks in town and city</em>     </em>. University of Chicago Press, Chicago.</li>    <li id="BibPLXBIB0019" label="[19]">Linton&#x00A0;C. Freeman. 1982. Centered graphs and the structure of ego networks.<em>      <em>Mathematical Social Sciences</em>     </em>3, 3 (1982), 291&#x2013;304.</li>    <li id="BibPLXBIB0020" label="[20]">Edward&#x00A0;L Glaeser and David&#x00A0;C Mare. 2001. Cities and skills. <em>      <em>Journal of labor economics</em>     </em>19, 2 (2001), 316&#x2013;342.</li>    <li id="BibPLXBIB0021" label="[21]">Charlotte Goodburn. 2009. Learning from migrant education: A case study of the schooling of rural migrant children in Beijing. <em>      <em>International Journal of Educational Development</em>     </em>29, 5(2009), 495&#x2013;504.</li>    <li id="BibPLXBIB0022" label="[22]">Desislava Hristova, Matthew&#x00A0;J Williams, Mirco Musolesi, Pietro Panzarasa, and Cecilia Mascolo. 2016. Measuring urban social diversity using interconnected geo-social networks. In <em>      <em>Proceedings of WWW</em>     </em>.</li>    <li id="BibPLXBIB0023" label="[23]">Abigail&#x00A0;Z Jacobs, Samuel&#x00A0;F Way, Johan Ugander, and Aaron Clauset. 2015. Assembling Thefacebook: Using heterogeneity to understand online social network assembly. In <em>      <em>Proceedings of Web Science</em>     </em>.</li>    <li id="BibPLXBIB0024" label="[24]">Karen Jacobsen and Loren&#x00A0;B Landau. 2003. The dual imperative in refugee research: some methodological and ethical considerations in social science research on forced migration. <em>      <em>Disasters</em>     </em>27, 3 (2003), 185&#x2013;206.</li>    <li id="BibPLXBIB0025" label="[25]">Shan Jiang, Gaston&#x00A0;A Fiore, Yingxiang Yang, Joseph Ferreira&#x00A0;Jr, Emilio Frazzoli, and Marta&#x00A0;C Gonz&#x00E1;lez. 2013. A review of urban computing for mobile phone traces: current methods, challenges and opportunities. In <em>      <em>Proceedings of the 2nd ACM SIGKDD international workshop on Urban Computing</em>     </em>.</li>    <li id="BibPLXBIB0026" label="[26]">John Knight, Lina Song, and Jia Huaibin. 1999. Chinese rural migrants in urban enterprises: three perspectives. <em>      <em>The Journal of Development Studies</em>     </em>35, 3 (1999), 73&#x2013;104.</li>    <li id="BibPLXBIB0027" label="[27]">Gueorgi Kossinets and Duncan&#x00A0;J Watts. 2006. Empirical analysis of an evolving social network. <em>      <em>Science</em>     </em>311, 5757 (2006), 88&#x2013;90.</li>    <li id="BibPLXBIB0028" label="[28]">Cliff Lampe and Erik Johnston. 2005. Follow the (slash) dot: effects of feedback on new members in an online community. In <em>      <em>Proceedings of GROUP</em>     </em>.</li>    <li id="BibPLXBIB0029" label="[29]">June&#x00A0;J.H. Lee. 2015. <em>      <em>World migration report 2015: Migrants and cities: New partnerships to manage mobility</em>     </em>.</li>    <li id="BibPLXBIB0030" label="[30]">Jure Leskovec, Lars Backstrom, Ravi Kumar, and Andrew Tomkins. 2008. Microscopic Evolution of Social Networks. In <em>      <em>Proceedings of KDD</em>     </em>.</li>    <li id="BibPLXBIB0031" label="[31]">Jure Leskovec, Jon Kleinberg, and Christos Faloutsos. 2007. Graph evolution: Densification and shrinking diameters. <em>      <em>ACM Transactions on Knowledge Discovery from Data (TKDD)</em>     </em>1, 1(2007), 2.</li>    <li id="BibPLXBIB0032" label="[32]">Zai Liang. 2001. The age of migration in China. <em>      <em>Population and development review</em>     </em>27, 3 (2001), 499&#x2013;524.</li>    <li id="BibPLXBIB0033" label="[33]">Ye Liu, Zhigang Li, and Werner Breitung. 2012. The social networks of new-generation migrants in China&#x0027;s urbanized villages: A case study of Guangzhou. <em>      <em>Habitat International</em>     </em>36, 1 (2012), 192&#x2013;200.</li>    <li id="BibPLXBIB0034" label="[34]">Julian&#x00A0;John McAuley and Jure Leskovec. 2013. From amateurs to connoisseurs: Modeling the evolution of user expertise through online reviews. In <em>      <em>Proceedings of WWW</em>     </em>.</li>    <li id="BibPLXBIB0035" label="[35]">Miller McPherson, Lynn Smith-Lovin, and James&#x00A0;M Cook. 2001. Birds of a feather: Homophily in social networks. <em>      <em>Annual review of sociology</em>     </em>27, 1 (2001), 415&#x2013;444.</li>    <li id="BibPLXBIB0036" label="[36]">Ron Milo, Shalev Itzkovitz, Nadav Kashtan, Reuven Levitt, Shai Shen-Orr, Inbal Ayzenshtat, Michal Sheffer, and Uri Alon. 2004. Superfamilies of evolved and designed networks. <em>      <em>Science</em>     </em>303, 5663 (2004), 1538&#x2013;1542.</li>    <li id="BibPLXBIB0037" label="[37]">K&#x00A0;Bruce Newbold and Pat Deluca. 2007. Short-term residential changes to Toronto&#x0027;s immigrant communities: Evidence from Lsic Wave 1. <em>      <em>Urban Geography</em>     </em>28, 7 (2007), 635&#x2013;656.</li>    <li id="BibPLXBIB0038" label="[38]">Ashwin Paranjape, Austin&#x00A0;R Benson, and Jure Leskovec. 2017. Motifs in temporal networks. In <em>      <em>Proceedings of WSDM</em>     </em>.</li>    <li id="BibPLXBIB0039" label="[39]">Daniele Quercia, Luca&#x00A0;Maria Aiello, Rossano Schifanella, and Adam Davies. 2015. The digital life of walkable streets. In <em>      <em>Proceedings of WWW</em>     </em>.</li>    <li id="BibPLXBIB0040" label="[40]">Shahra Razavi and Silke Staab. 2010. Underpaid and overworked: A cross-national perspective on care workers. <em>      <em>International Labour Review</em>     </em>149, 4 (2010), 407&#x2013;422.</li>    <li id="BibPLXBIB0041" label="[41]">Jonathan Reades, Francesco Calabrese, Andres Sevtsuk, and Carlo Ratti. 2007. Cellular census: Explorations in urban data collection. <em>      <em>IEEE Pervasive Computing</em>     </em>6, 3 (2007).</li>    <li id="BibPLXBIB0042" label="[42]">Nina&#x00A0;Glick Schiller and Ayse &#x00C7;auglar. 2009. Towards a comparative theory of locality in migration studies: Migrant incorporation and city scale. <em>      <em>Journal of ethnic and migration studies</em>     </em>35, 2 (2009), 177&#x2013;202.</li>    <li id="BibPLXBIB0043" label="[43]">Nina&#x00A0;Glick Schiller and Ayse Simsek-Caglar. 2011. <em>      <em>Locating migration: Rescaling cities and migrants</em>     </em>. Cornell University Press.</li>    <li id="BibPLXBIB0044" label="[44]">Peter&#x00A0;WA Scholten. 2013. Agenda dynamics and the multi-level governance of intractable policy controversies: the case of migrant integration policies in the Netherlands. <em>      <em>Policy Sciences</em>     </em>46, 3 (2013), 217&#x2013;236.</li>    <li id="BibPLXBIB0045" label="[45]">Kim&#x00A0;Sui So, Peter&#x00A0;F Orazem, and Daniel Otto. 2001. The effects of housing prices, wages, and commuting time on joint residential and job location choices. <em>      <em>American Journal of Agricultural Economics</em>     </em>83, 4 (2001), 1036&#x2013;1048.</li>    <li id="BibPLXBIB0046" label="[46]">Alison Strang and Alastair Ager. 2010. Refugee integration: Emerging trends and remaining agendas. <em>      <em>Journal of Refugee Studies</em>     </em>23, 4 (2010), 589&#x2013;607.</li>    <li id="BibPLXBIB0047" label="[47]">Chenhao Tan and Lillian Lee. 2015. All who wander: On the prevalence and characteristics of multi-community engagement. In <em>      <em>Proceedings of WWW</em>     </em>.</li>    <li id="BibPLXBIB0048" label="[48]">Bimal Viswanath, Alan Mislove, Meeyoung Cha, and Krishna&#x00A0;P Gummadi. 2009. On the evolution of user interaction in Facebook. In <em>      <em>Proceedings of the 2nd ACM Workshop on Online Social Networks</em>     </em>.</li>    <li id="BibPLXBIB0049" label="[49]">Feng Wang and Xuejin Zuo. 1999. Inside China&#x0027;s cities: Institutional barriers and opportunities for urban migrants. <em>      <em>The American Economic Review</em>     </em>89, 2 (1999), 276&#x2013;280.</li>    <li id="BibPLXBIB0050" label="[50]">Mary&#x00A0;C Waters and Tom&#x00E1;s&#x00A0;R Jim&#x00E9;nez. 2005. Assessing immigrant assimilation: New empirical and theoretical challenges. <em>      <em>Annu. Rev. Sociol.</em>     </em>31(2005), 105&#x2013;125.</li>    <li id="BibPLXBIB0051" label="[51]">Haizhen Wen and Yulong Tao. 2015. Polycentric urban structure and housing price in the transitional Chine: Evidence from Hangzhou. <em>      <em>Habitat International</em>     </em>46(2015), 138&#x2013;146.</li>    <li id="BibPLXBIB0052" label="[52]">Weiping Wu. 2004. Sources of migrant housing disadvantage in urban China. <em>      <em>Environment and Planning A</em>     </em>36, 7 (2004), 1285&#x2013;1304.</li>    <li id="BibPLXBIB0053" label="[53]">Xiaogang Wu and Donald&#x00A0;J Treiman. 2004. The household registration system and social stratification in China: 1955&#x2013;1996. <em>      <em>Demography</em>     </em>41, 2 (2004), 363&#x2013;384.</li>    <li id="BibPLXBIB0054" label="[54]">Xiaogang Wu and Donald&#x00A0;J Treiman. 2007. Inequality and equality under Chinese socialism: The hukou system and intergenerational occupational mobility. <em>      <em>American Journal of Sociology</em>     </em>113, 2 (2007), 415&#x2013;445.</li>    <li id="BibPLXBIB0055" label="[55]">Yang Yang, Chenhao Tan, Zongtao Liu, Fei Wu, and Yueting Zhuang. 2018. Urban dreams of migrants: A case study of migrant integration in Shanghai. In <em>      <em>Proceedings of AAAI</em>     </em>.</li>    <li id="BibPLXBIB0056" label="[56]">Zhongshan Yue, Shuzhuo Li, Xiaoyi Jin, and Marcus&#x00A0;W Feldman. 2013. The role of social networks in the integration of Chinese rural&#x2013;urban migrants: A migrant&#x2013;resident tie perspective. <em>      <em>Urban Studies</em>     </em>50, 9 (2013), 1704&#x2013;1723.</li>    <li id="BibPLXBIB0057" label="[57]">Kevin&#x00A0;Honglin Zhang and Shunfeng Song. 2003. Rural-urban migration and urbanization in China: Evidence from time-series and cross-section analyses. <em>      <em>China Economic Review</em>     </em>14, 4 (2003), 386&#x2013;400.</li>    <li id="BibPLXBIB0058" label="[58]">Yu Zheng, Licia Capra, Ouri Wolfson, and Hai Yang. 2014. Urban computing: Concepts, methodologies, and applications. <em>      <em>ACM Transactions of Intelligent System and Technology</em>     </em>5, 3 (2014), 38:1&#x2013;38:55.</li>    <li id="BibPLXBIB0059" label="[59]">Yu Zheng, Yanchi Liu, Jing Yuan, and Xing Xie. 2011. Urban computing with taxicabs. In <em>      <em>Proceedings of UbiComp</em>     </em>.</li>    </ul>   </section>  </section>  <section id="foot-001" class="footnote">   <header>    <div class="title-info">    <h2>FOOTNOTE</h2>    </div>   </header>   <p id="fn1"><a href="#foot-fn1"><sup>1</sup></a>We merge numbers corresponding to the same user ID into one to account for users with multiple numbers. We also filtered around 15,000 users that have abnormally high degrees, who likely correspond to fraudsters, delivery persons, or customer services according to a user type list provided by China Telecom.</p>   <p id="fn2"><a href="#foot-fn2"><sup>2</sup></a><a class="link-inline force-break" href="https://shanghai.anjuke.com/">https://shanghai.anjuke.com/</a>   </p>   <p id="fn3"><a href="#foot-fn3"><sup>3</sup></a>This data is publicly available: <a class="link-inline force-break" href="http://yangy.org/data.html">http://yangy.org/data.html</a></p>   <div class="bibStrip">    <p>This paper is published under the Creative Commons Attribution 4.0 International (CC-BY&#x00A0;4.0) license. Authors reserve their rights to disseminate the work on their personal and corporate Web sites with the appropriate attribution.</p>    <p>    <em>WWW '18, April 23-27, 2018, Lyon, France</em>    </p>    <p>&#x00A9; 2018; IW3C2 (International World Wide Web Conference Committee), published under Creative Commons CC-BY&#x00A0;4.0 License. ACM ISBN 978-1-4503-5639-8/18/04.<br/>DOI: <a class="link-inline force-break" target="_blank"     href="https://doi.org/10.1145/3178876.3186144">https://doi.org/10.1145/3178876.3186144</a>    </p>   </div>  </section>  <div class="pubHistory">   <p/>  </div> </body> </html> 
