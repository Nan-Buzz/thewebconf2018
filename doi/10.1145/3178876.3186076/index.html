<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta name="generator" content=
  "HTML Tidy for HTML5 for Linux version 5.7.16" />
  <title>Understanding and Predicting Delay in Reciprocal
  Relations</title><!-- Copyright (c) 2010-2015 The MathJax Consortium -->
  <meta http-equiv="Content-Type" content=
  "text/html; charset=utf-8" />
  <meta name="viewport" content=
  "width=device-width; initial-scale=1.0;" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="screen, print" rel="stylesheet" href=
  "../../../data/dl.acm.org/pubs/lib/css/bootstrap.min.css" />
  <link media="screen, print" rel="stylesheet" href=
  "../../../data/dl.acm.org/pubs/lib/css/bootstrap-theme.min.css" />
  <link media="screen, print" rel="stylesheet" href=
  "../../../data/dl.acm.org/pubs/lib/css/main.css" />
  <script src="../../../data/dl.acm.org/pubs/lib/js/jquery.min.js" type=
  "text/javascript"></script>
  <script src="../../../data/dl.acm.org/pubs/lib/js/bootstrap.min.js"
  type="text/javascript"></script>
  <script src="../../../data/dl.acm.org/pubs/lib/js/bibCit.js" type=
  "text/javascript"></script>
  <script src="../../../data/dl.acm.org/pubs/lib/js/divTab.js" type=
  "text/javascript"></script>
  <script type="text/javascript" src=
  "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML"></script>
  <script type="text/x-mathjax-config">
  <![CDATA[
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
  ]]>
  </script>
</head>
<body id="main">
<div>
<p style='font-size: 75%; color #444'>
This is a web copy of <a href='https://doi.org/10.1145/3178876.3186076'>https://doi.org/10.1145/3178876.3186076</a> 
originally published by ACM Press, 
redistributed under the terms of 
<a href='https://creativecommons.org/licenses/by/4.0/'>Creative Commons Attribution 4.0 (CC BY 4.0)</a>.
The <a href='https://github.com/usable-oa/thewebconf2018/tree/master/scripts'>modifications</a> 
from the original are solely to improve HTML aiming to make it Findable, Accessible, Interoperable and Reusable. 
augmenting HTML metadata and avoiding ACM trademark.
To reference this HTML version, use:
</p><p>
<strong>Permalink:</strong>
<a href='https://w3id.org/oa/10.1145/3178876.3186076'>https://w3id.org/oa/10.1145/3178876.3186076</a>
</p></div>
<hr>


  <section class="front-matter">
    <section>
      <header class="title-info">
        <div class="journal-title">
          <h1><span class="title">Understanding and Predicting
          Delay in Reciprocal Relations</span><br />
          <span class="subTitle"></span></h1>
        </div>
      </header>
      <div class="authorGroup">
        <div class="author">
          <span class="givenName">Jundong</span> <span class=
          "surName">Li</span><a class="fn" href="#fn1" id=
          "foot-fn1"><sup>⁎</sup></a>, Arizona State University,
          <a href="mailto:jundongl@asu.edu">jundongl@asu.edu</a>
        </div>
        <div class="author">
          <span class="givenName">Jiliang</span> <span class=
          "surName">Tang</span>, Michigan State University,
          <a href="mailto:tangjili@msu.edu">tangjili@msu.edu</a>
        </div>
        <div class="author">
          <span class="givenName">Yilin</span> <span class=
          "surName">Wang</span><a class="fn" href="#fn1" id=
          "foot-fn1"><sup>⁎</sup></a>, Arizona State University,
          <a href="mailto:ywang370@asu.edu">ywang370@asu.edu</a>
        </div>
        <div class="author">
          <span class="givenName">Yali</span> <span class=
          "surName">Wan</span><a class="fn" href="#fn1" id=
          "foot-fn1"><sup>⁎</sup></a>, Amazon.com, <a href=
          "mailto:yalwan@amazon.com">yalwan@amazon.com</a>
        </div>
        <div class="author">
          <span class="givenName">Yi</span> <span class=
          "surName">Chang</span>, Jilin University, <a href=
          "mailto:yichang@acm.org">yichang@acm.org</a>
        </div>
        <div class="author">
          <span class="givenName">Huan</span> <span class=
          "surName">Liu</span>, Arizona State University, <a href=
          "mailto:huan.liu@asu.edu">huan.liu@asu.edu</a>
        </div>
      </div><br />
      <div class="pubInfo">
        <p>DOI: <a href="https://doi.org/10.1145/3178876.3186076"
        target=
        "_blank">https://doi.org/10.1145/3178876.3186076</a><br />
        WWW '18: <a href="https://doi.org/10.1145/3178876" target=
        "_blank">Proceedings of The Web Conference 2018</a>, Lyon,
        France, April 2018</p>
      </div>
      <div class="abstract">
        <p><small>Reciprocity in directed networks points to user's
        willingness to return favors in building mutual
        interactions. High reciprocity has been widely observed in
        many directed social media networks such as following
        relations in Twitter and Tumblr. Therefore, reciprocal
        relations between users are often regarded as a basic
        mechanism to create stable social ties and play a crucial
        role in the formation and evolution of networks. Each
        reciprocity relation is formed by two parasocial links in a
        back-and-forth manner with a time delay. Hence,
        understanding the delay can help us gain better insights
        into the underlying mechanisms of network dynamics.
        Meanwhile, the accurate prediction of delay has practical
        implications in advancing a variety of real-world
        applications such as friend recommendation and marketing
        campaign. For example, by knowing when will users follow
        back, service providers can focus on the users with a
        potential long reciprocal delay for effective targeted
        marketing. This paper presents the initial investigation of
        the time delay in reciprocal relations. Our study is based
        on a large-scale directed network from Tumblr that consists
        of 62.8 million users and 3.1 billion user following
        relations with a timespan of multiple years (from 31 Oct
        2007 to 24 Jul 2013). We reveal a number of interesting
        patterns about the delay that motivate the development of a
        principled learning model to predict the delay in
        reciprocal relations. Experimental results on the above
        mentioned dynamic networks corroborate the effectiveness of
        the proposed delay prediction model.</small></p>
      </div>
      <div class="CCSconcepts">
        <p><small><span style="font-weight:bold;">CCS
        Concepts:</span> • <strong>Information systems</strong> →
        <strong>Social networks;</strong> • <strong>Human-centered
        computing</strong> → <strong>Social networks;</strong>
        <strong>Social network analysis;</strong></small></p>
      </div>
      <div class="classifications">
        <div class="author">
          <span style=
          "font-weight:bold;"><small>Keywords:</small></span>
          <span class="keyword"><small>Reciprocal Relations; Time
          Delay; Dynamic Networks</small></span>
        </div><br />
        <div class="AcmReferenceFormat">
          <p><small><span style="font-weight:bold;">ACM Reference
          Format:</span><br />
          Jundong Li, Jiliang Tang, Yilin Wang, Yali Wan, Yi Chang,
          and Huan Liu. 2018. Understanding and Predicting Delay in
          Reciprocal Relations. In <em>WWW 2018: The 2018 Web
          Conference,</em> <em>April 23–27, 2018 (WWW 2018),</em>
          <em>Lyon, France. ACM, New York, NY, USA</em> 10 Pages.
          <a href="https://doi.org/10.1145/3178876.3186076" class=
          "link-inline force-break" target=
          "_blank">https://doi.org/10.1145/3178876.3186076</a></small></p>
        </div>
      </div>
    </section>
  </section>
  <section class="body">
    <section id="sec-7">
      <header>
        <div class="title-info">
          <h2><span class="section-number">1</span>
          Introduction</h2>
        </div>
      </header>
      <p>The advent and popularity of online social platforms
      significantly diversify the way people communicate and
      socialize, allowing us to share information, interact with
      others at a low cost and in a variety of mode. In these
      sites, users can form links to others. Understanding and
      modeling social networks and the underlying evolution
      mechanism have encouraged a surge of research&nbsp;[<a class=
      "bib" data-trigger="hover" data-toggle="popover"
      data-placement="top" href="#BibPLXBIB0001">1</a>, <a class=
      "bib" data-trigger="hover" data-toggle="popover"
      data-placement="top" href="#BibPLXBIB0002">2</a>, <a class=
      "bib" data-trigger="hover" data-toggle="popover"
      data-placement="top" href="#BibPLXBIB0007">7</a>, <a class=
      "bib" data-trigger="hover" data-toggle="popover"
      data-placement="top" href="#BibPLXBIB0024">24</a>, <a class=
      "bib" data-trigger="hover" data-toggle="popover"
      data-placement="top" href="#BibPLXBIB0028">28</a>, <a class=
      "bib" data-trigger="hover" data-toggle="popover"
      data-placement="top" href="#BibPLXBIB0033">33</a>]. Social
      relations can be broadly categorized into reciprocal
      (two-way) and parasocial relations (one-way)&nbsp;[<a class=
      "bib" data-trigger="hover" data-toggle="popover"
      data-placement="top" href="#BibPLXBIB0017">17</a>, <a class=
      "bib" data-trigger="hover" data-toggle="popover"
      data-placement="top" href="#BibPLXBIB0019">19</a>]. In a
      directed social network like Twitter<a class="fn" href="#fn2"
      id="foot-fn2"><sup>1</sup></a> and Tumblr<a class="fn" href=
      "#fn3" id="foot-fn3"><sup>2</sup></a>, the social norm of
      reciprocity shows the tendency of a user following back to
      form mutual connections. Formally, it is stated as follows –
      if <em>user <em>u</em> initiates a link to user <em>v</em>,
      then the action of user <em>v</em> links back to user
      <em>u</em> exhibits reciprocity</em>.</p>
      <p>Reciprocal relations are widely and highly observed in
      directed social media networks such as following relations in
      Twitter&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0041">41</a>] and Tumblr&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0006">6</a>]. They encode tighter
      interactions than single parasocial relations. It is evident
      from recent work that investigating the formation of
      reciprocal links and discerning the differences from
      parasocial links can help us gain insights on user behaviors
      and the dynamic mechanisms of social networks. It has
      implications in applications that range from friend
      recommendation&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0040">40</a>], bursty prediction&nbsp;[<a class=
      "bib" data-trigger="hover" data-toggle="popover"
      data-placement="top" href="#BibPLXBIB0030">30</a>],
      information propagation&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0034">34</a>] to viral marketing&nbsp;[<a class=
      "bib" data-trigger="hover" data-toggle="popover"
      data-placement="top" href="#BibPLXBIB0022">22</a>]. Recent
      years have witnessed increasing attempts to study user
      reciprocal behaviors&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0008">8</a>, <a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0010">10</a>, <a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0013">13</a>, <a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0032">32</a>]. Nonetheless, these methods
      predominantly dedicated to predicting if a parasocial link
      will be reciprocated back in the future given a snapshot of
      current network topology. As reciprocal relations stem from
      two parasocial relations in a back-and-forth manner, the time
      delay is inevitably<a class="fn" href="#fn4" id=
      "foot-fn4"><sup>3</sup></a>and could play a non-negligible
      role in the formation of network dynamics and its
      quantification. For example, understanding the delay in
      reciprocal relations can help us explain how networks evolve
      and grow; while the length of the delay is often a good
      indicator to quantify the intimacy between users in the
      dynamic environment. In addition, the research achievements
      could advance many real-world applications. For instance, in
      friend recommender systems, our research can help determine
      <em>when</em> we should do recommendations. Thus, it enables
      timely recommendation, and also, makes the recommender
      systems more efficient. Despite the fundamental importance, a
      thorough investigation on the delay in reciprocal relations
      is still in its infancy.</p>
      <p>In this paper, we perform the first comprehensive
      investigation about the time delay in reciprocal relations.
      In particular, we aim to answer the following two questions –
      (a) whether the delay follows certain patterns? (b) how these
      patterns help predict the delay in reciprocal relations
      automatically? For question (a), we study some potential
      factors that may influence the delay from the temporal and
      structural perspectives and our major understandings are
      summarized as follows:</p>
      <ul class="list-no-style">
        <li id="list1" label="•">From the temporal perspective, (1)
        the delay is affected by the time when users join the
        social network and how long they have been in the network
        when the reciprocal relations are initiated; (2) the delay
        presents weekly patterns – the delay is shorter when
        reciprocal relations originate on weekends; (3) the delays
        of two consecutive reciprocal relations from the same user
        are not necessarily related, i.e., the previous immediate
        delay is not a good estimator of the current one from the
        same user.<br /></li>
        <li id="list2" label="•">From the structural perspective,
        (1) the delay is related to indegrees and outdegrees of
        users – users with higher indegrees tend to get
        reciprocated faster but reciprocates back to others slower;
        and outdegrees present similar patterns as indegrees; (2)
        the delay between users that share a large number of common
        followees and followers are often shorter than those
        without much commonalities.<br /></li>
      </ul>
      <p>To answer the question (b), we propose a framework that
      can predict the delay in reciprocal relations automatically.
      Empirical results on the large-scale Tumblr network
      demonstrate that the proposed model can accurately predict
      the delay in reciprocal relations.</p>
      <p>The rest of paper is organized as follows. In Section 2,
      we present a large-scale dynamic social network to study and
      show its basic statistics. Section 3 presents a comprehensive
      study on the time delay in reciprocal relations. In Section
      4, we introduce the proposed model to predict the delay
      automatically. Section 5 presents experimental results with
      discussions. Section 6 introduces related work and Section 7
      concludes the paper with future research directions.</p>
    </section>
    <section id="sec-8">
      <header>
        <div class="title-info">
          <h2><span class="section-number">2</span> Data</h2>
        </div>
      </header>
      <p>We perform our study on a microblogging platform - Tumblr.
      In Tumblr, users can follow the blogs of others without
      necessarily following back, which naturally forms a directed
      social network. By Feb 2016, there are around 550 million
      monthly active users and 280.4 million blog posts in Tumblr.
      In this study, we collect a dynamic network that consists of
      all user following relationships from 31 Oct 2007 to 24 Jul
      2013 (totally 2,094 days)&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0006">6</a>]. By its end date, the network
      contains 62.8 million users and 3.1 billion edges. In this
      study, we specify the time granularity as one day and use
      <em>t</em> = 0 and <em>t</em> = 2093 to denote the start date
      (10/31/2007) and end date (07/24/2013), respectively. The
      detailed statistics of the dataset are listed in
      Table&nbsp;<a class="tbl" href="#tab1">1</a>.</p>
      <div class="table-responsive" id="tab1">
        <div class="table-caption">
          <span class="table-number">Table 1:</span> <span class=
          "table-title">Detailed statistics of the Tumblr
          dataset.</span>
        </div>
        <table class="table">
          <thead>
            <tr>
              <th style="text-align:center;">Description</th>
              <th style="text-align:center;">Tumblr</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td style="text-align:center;"><span class=
              "inline-equation"><span class=
              "tex">$\#$</span></span> of Time Stamps (days)</td>
              <td style="text-align:center;">2,094</td>
            </tr>
            <tr>
              <td style="text-align:center;"><span class=
              "inline-equation"><span class=
              "tex">$\#$</span></span> of Users at <em>t</em> =
              0</td>
              <td style="text-align:center;">13,864</td>
            </tr>
            <tr>
              <td style="text-align:center;"><span class=
              "inline-equation"><span class=
              "tex">$\#$</span></span> of Links at <em>t</em> =
              0</td>
              <td style="text-align:center;">51,741</td>
            </tr>
            <tr>
              <td style="text-align:center;"><span class=
              "inline-equation"><span class=
              "tex">$\#$</span></span> of Users at <em>t</em> = 2,
              093</td>
              <td style="text-align:center;">62,848,996</td>
            </tr>
            <tr>
              <td style="text-align:center;"><span class=
              "inline-equation"><span class=
              "tex">$\#$</span></span> of Links at <em>t</em> = 2,
              093</td>
              <td style="text-align:center;">3,132,353,040</td>
            </tr>
          </tbody>
        </table>
      </div>
      <figure id="fig1">
        <img src=
        "../../../data/deliveryimages.acm.org/10.1145/3190000/3186076/images/www2018-85-fig1.jpg"
        class="img-responsive" alt="Figure 1" longdesc="" />
        <div class="figure-caption">
          <span class="figure-number">Figure 1:</span> <span class=
          "figure-title">Evolution of network statistics over
          time.</span>
        </div>
      </figure>
      <figure id="fig2">
        <img src=
        "../../../data/deliveryimages.acm.org/10.1145/3190000/3186076/images/www2018-85-fig2.jpg"
        class="img-responsive" alt="Figure 2" longdesc="" />
        <div class="figure-caption">
          <span class="figure-number">Figure 2:</span> <span class=
          "figure-title">Network densifies over time.</span>
        </div>
      </figure>
      <p><em>Evolution patterns of the Tumblr network:</em> We
      first examine whether the directed Tumblr network presents
      principled evolution patterns that have been observed on
      other dynamic social networks. Figure&nbsp;1(a),
      Figure&nbsp;1(b), Figure&nbsp;1(c) display the growth of
      nodes, links, reciprocal relations, respectively. The network
      growth is relatively slower at the very beginning. From the
      year of 2010, the Tumblr network experienced an exponential
      growth. Similar observations are also reported on other
      social media sites<a class="fn" href="#fn5" id=
      "foot-fn5"><sup>4</sup></a>. Meanwhile, we show how the
      reciprocity of the Tumblr network changes over time in
      Figure&nbsp;1(d) . It shows that the reciprocity is
      relatively high right before the network exponential growth.
      Afterwards, the reciprocity rate gradually declines and then
      remains rather stable, which is consistent with the findings
      in&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href="#BibPLXBIB0032">32</a>].
      In addition, network densification&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0023">23</a>] is a widely perceived
      pattern of dynamic networks. It suggests that networks are
      gradually densified. To examine this property, we first
      empirically show how the average indegree (outdegree) of the
      network nodes changes in Figure&nbsp;2(a) . It is clear that
      the average degree increases over time, thus the network is
      becoming denser. To further corroborate this observation, we
      also show the number of links at each time stamp
      (<em>e</em>(<em>t</em>)) versus the number of nodes at each
      time step (<em>n</em>(<em>t</em>)) in Figure&nbsp;2(b) in a
      log-log scale. We observe that the number of links indeed
      increases superlinearly w.r.t. number of nodes with a slope
      of <em>a</em> = 1.3367. The observations are very consistent
      with those in&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0023">23</a>]. Given the scale of the network and
      the aforementioned observations, it is safe to conclude that
      the Tumblr network is a typical and representative directed
      social network. Therefore we can rely on it to study the time
      delay in reciprocal relations.</p>
      <p><em>Distribution of delay in reciprocal relations:</em> We
      first formally define the concept of <em>the time delay</em>
      in reciprocal relations. For a reciprocal relation with two
      users <em>u</em> and <em>v</em>, assume that user <em>u</em>
      initiates a parasocial relation to user <em>v</em> at time
      stamp <em>t</em> <sub>1</sub> and user <em>v</em> follows
      back to user <em>u</em> at time stamp <em>t</em> <sub>2</sub>
      (<em>t</em> <sub>2</sub> ≥ <em>t</em> <sub>1</sub>). Then the
      delay in the reciprocal relation is defined as the difference
      between <em>t</em> <sub>2</sub> and <em>t</em> <sub>1</sub>,
      i.e., <em>t</em> <sub>2</sub> − <em>t</em> <sub>1</sub>. With
      the definition, we plot its distribution until <em>t</em> =
      2093 for all <em>446,116,001</em> reciprocal relations in
      Figure&nbsp;<a class="fig" href="#fig3">3</a>. We first
      notice that the delay follows a power law distribution with
      an exponential cutoff&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0031">31</a>]. It means that the power law rule
      holds for short delays and then it declines exponentially for
      long ones. The reason is that for some delays in reciprocal
      relations whose initiate time is close to the end date of the
      dataset, their reciprocal behaviors have been not fully
      observed yet. This phenomenon can also be explained by right
      censoring issue in survival analysis&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0042">42</a>]. In a nutshell, we
      observe that the time delay exists in a large portion of
      reciprocal relations that suggests the necessity of the
      studied problem</p>
      <figure id="fig3">
        <img src=
        "../../../data/deliveryimages.acm.org/10.1145/3190000/3186076/images/www2018-85-fig3.jpg"
        class="img-responsive" alt="Figure 3" longdesc="" />
        <div class="figure-caption">
          <span class="figure-number">Figure 3:</span> <span class=
          "figure-title">Reciprocity time delay
          distribution.</span>
        </div>
      </figure>
      <p></p>
    </section>
    <section id="sec-9">
      <header>
        <div class="title-info">
          <h2><span class="section-number">3</span> Analysis on the
          Time Delay in Reciprocal Relations</h2>
        </div>
      </header>
      <p>To reveal the delay patterns, we focus on understanding
      the factors that can influence the length of the delay. Next,
      we carry out a comprehensive study of the time delay from the
      temporal and structural perspectives. To ease the following
      presentations, we now formally define each delay as a tuple
      &lt; <em>u</em>, <em>v</em>, <em>t</em> <sub>1</sub>,
      <em>t</em> <sub>2</sub>, <em>t</em> <sub>2</sub> − <em>t</em>
      <sub>1</sub> &gt; . It denotes that user <em>u</em> (referred
      as the source user) follows user <em>v</em> (referred as the
      target user) at the time stamp <em>t</em> <sub>1</sub>, and
      as a favor, user <em>v</em> follows back to user <em>u</em>
      at the time stamp <em>t</em> <sub>2</sub>, the delay of the
      reciprocal relation is <em>t</em> <sub>2</sub> − <em>t</em>
      <sub>1</sub>, where <em>t</em> <sub>1</sub> ≤ <em>t</em>
      <sub>2</sub>.</p>
      <section id="sec-10">
        <header>
          <div class="title-info">
            <h3><span class="section-number">3.1</span> Temporal
            Analysis</h3>
          </div>
        </header>
        <figure id="fig4">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186076/images/www2018-85-fig4.jpg"
          class="img-responsive" alt="Figure 4" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 4:</span>
            <span class="figure-title">Average delay versus when
            users join the network.</span>
          </div>
        </figure>
        <p><em>Does the user joining time matter?</em> Our first
        analytical task is to check if the delay is related to the
        time when users join the network. Assume that the joining
        time of the reciprocal source user <em>u</em> and the
        reciprocal target user <em>v</em> are
        <em>t<sub>u</sub></em> and <em>t<sub>v</sub></em>
        respectively, a natural question is: does the user joining
        time affect the delay? To answer this question, we plot the
        average delay of reciprocal relations with respect to the
        user joining time stamps in Figure&nbsp;<a class="fig"
        href="#fig4">4</a>. In general, the average delay gradually
        decreases with the shifting of the user joining time. In
        particular, we observe that (1) for source users who join
        the network earlier, the target users need more time to
        follow them back; and (2) for target users who join the
        network earlier, the delay is longer. Intuitively, users
        gradually become less active in terms of establishing
        social relations; as a result, the delays of reciprocal
        relations of earlier joined users become longer.</p>
        <figure id="fig5">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186076/images/www2018-85-fig5.jpg"
          class="img-responsive" alt="Figure 5" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 5:</span>
            <span class="figure-title">Weekly delay
            patterns.</span>
          </div>
        </figure>
        <p></p>
        <p><em>Weekly delay patterns:</em> Weekly patterns have
        been observed in various types of user behaviors such as
        check-in behaviors&nbsp;[<a class="bib" data-trigger=
        "hover" data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0005">5</a>] that motivate us to investigate the
        weekly delay patterns in reciprocal relations. The average
        delay with respect to the day of the week is depicted in
        Figure&nbsp;5(a) . It can be observed that the delay of the
        reciprocal relations that are initiated on Saturday and
        Sunday is shorter; while the average delay on Thursday is
        longest. To understand these patterns, we also calculate
        the number of reciprocal relations completed each day in a
        week and the results are shown in Figure&nbsp;5(b) . On
        average, there are much more reciprocal relations completed
        on weekends than weekdays so the reciprocal relations
        initiated on weekends are likely to be finished within 0 or
        1 day. This observation is helpful to explain why the delay
        in weekends is shorter. Furthermore, from Monday to
        Thursday, the number decreases while it increases from
        Friday to Sunday. This finding can help us understand why
        the delay on Thursday is the longest.</p>
        <p><em>Sequential patterns:</em> We can consider the
        following back behaviors in the timeline of one user as a
        sequence and sequential patterns have been widely observed
        and studied in temporal user behavior analysis. For
        example, users’ check-in behaviors in LBSNs are related to
        their previous check-ins especially the immediate previous
        one&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
        "popover" data-placement="top" href=
        "#BibPLXBIB0011">11</a>]. To study the sequential patterns
        of users’ reciprocal behaviors, for each user we
        investigate to which extend the current delay can be
        predicted by the average of his/her previous <em>k</em>
        delays. We vary the value of <em>k</em> from 1 to 8 with a
        step of 1. To alleviate the biases from the extraordinarily
        long delays, we filter the reciprocal relations that are
        delayed exceeding 50 days as more than 90% reciprocal
        relations completes within 50 days. The prediction
        performance are evaluated by two widely used metrics, mean
        absolute error (MAE) and root mean squared error (RMSE).
        They are defined as:</p>
        <div class="table-responsive" id="Xeq1">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \begin{split}
            MAE &amp;=\frac{1}{n}\sum _{i=1}^{n}|d_{i}-\hat{d_{i}}|
            \\ RMSE &amp;= \sqrt {\frac{\sum
            _{i=1}^{n}(d_{i}-\hat{d_{i}})^{2}}{n}}, \end{split}
            \end{equation}</span><br />
            <span class="equation-number">(1)</span>
          </div>
        </div>where <em>d<sub>i</sub></em> and <span class=
        "inline-equation"><span class=
        "tex">$\hat{d_{i}}$</span></span> denote true delay and the
        predicted delay, respectively. The prediction results are
        shown in Figure&nbsp;<a class="fig" href="#fig6">6</a>. We
        can observe that if we only use the delay of the
        immediately previous one (or <em>k</em> = 1) to make the
        prediction, the prediction error is the highest that is
        different from observations about other user behaviors such
        as check-in behaviors&nbsp;[<a class="bib" data-trigger=
        "hover" data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0011">11</a>]. When the value of <em>k</em>
        gradually increases, the prediction error tends to decrease
        accordingly. This observation suggests that the average
        delay in a certain period is a better indicator than the
        immediately previous one. In other words, the strong
        correlation between the current behavior and the immediate
        previous behavior does not necessarily hold for delays in
        reciprocal relations. To further probe the reason of this
        phenomena, we investigate all reciprocal relations
        sequentially and find out that: (1) a consideration portion
        of users tend to reciprocate back to their recent and
        earlier followers at the same time; and (2) users do not
        necessarily follow the initiating orders to complete
        reciprocal relations (e.g., users could delay earlier
        initiating reciprocal relations; while finishing recent
        ones).
        <figure id="fig6">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186076/images/www2018-85-fig6.jpg"
          class="img-responsive" alt="Figure 6" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 6:</span>
            <span class="figure-title">Delay prediction performance
            using the average of previous <em>k</em> delays.</span>
          </div>
        </figure>
        <p></p>
      </section>
      <section id="sec-11">
        <header>
          <div class="title-info">
            <h3><span class="section-number">3.2</span> Network
            Structural Analysis</h3>
          </div>
        </header>
        <p>In a directed network, in and out degrees are two
        importance characteristics of users and structural
        similarity is one of the most important characteristics for
        pairs of users. In this subsection, we investigate the
        impact of these importance characteristics on the time
        delay in the reciprocal relations.</p>
        <p><em>The impact of in and out degrees:</em> Celebrities
        in social media usually attract more followers than normal
        users and active users inclined to follow more users.
        Hence, it is natural to question – is the delay related to
        in and out degrees of users? The indegrees of users at the
        initiating time of reciprocal relations can indicate their
        social statuses; while the outdegrees of users can reflect
        their user activities. To differentiate users with
        different indegrees, we categorize users with more than
        2000 followers as high indegrees, users with less than 10
        followers as low indegrees and the remaining users as
        normal. Similarly, in order to discriminate users with
        different outdegrees, we consider users who follow more
        than 2000 users as high outdegrees, users with less than 10
        following relationships as low outdegrees, and the other
        users as normal users. Detailed categorization of users
        according to their social status and activity is
        illustrated in Table&nbsp;<a class="tbl" href=
        "#tab2">2</a>.</p>
        <div class="table-responsive" id="tab2">
          <div class="table-caption">
            <span class="table-number">Table 2:</span> <span class=
            "table-title">Categorization of Users by In and Out
            Degree.</span>
          </div>
          <table class="table">
            <thead>
              <tr>
                <th style="text-align:center;"></th>
                <th style="text-align:center;">&lt;10</th>
                <th style="text-align:center;">10 to 2000</th>
                <th style="text-align:center;">&gt;=2000</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td style="text-align:center;">outdegree</td>
                <td style="text-align:center;">low</td>
                <td style="text-align:center;">normal</td>
                <td style="text-align:center;">high</td>
              </tr>
              <tr>
                <td style="text-align:center;">indegree</td>
                <td style="text-align:center;">low</td>
                <td style="text-align:center;">normal</td>
                <td style="text-align:center;">high</td>
              </tr>
            </tbody>
          </table>
        </div>
        <p>Firstly, we show how users of different indegrees impact
        the reciprocal delays. As each reciprocal relation involves
        two users, we show the differences of the average delay of
        the source and target users at the initiating time in
        Figure&nbsp;7(a) and Figure&nbsp;7(b), respectively. It can
        be observed from Figure&nbsp;7(a) that as indegrees of
        source users increases, the average delay becomes shorter.
        It suggests that the following relations initiated by
        famous users (i.e., celebrities) get reciprocated faster
        than those of low indegrees. Another interesting finding
        from Figure&nbsp;7(b) is that high indegree users normally
        take longer (i.e., 7 times in our studied dataset) to
        follow back to their followers than others. Normal users
        spend relatively a little bit longer time (around 0.9 days)
        to reciprocates back to their followers than low indegree
        users. In summary, as the source users, higher indegrees
        indicate shorter delay; while as the target users, higher
        indegrees mean longer delay.</p>
        <p>Second, we examine how the delay is related to the user
        outdegrees. We present the average delay (source and target
        users) with different outdegrees in Figure&nbsp;<a class=
        "fig" href="#fig8">8</a>. Figure&nbsp;8(a) shows that high
        outdegree users are likely to get their followers
        reciprocated back faster than low outdegree users. High
        outdegrees often mean more activities and higher visibility
        that could shorten the delay of reciprocal relations. In
        contrast, high outdegree users delay longer to follow back
        to their followers. In a typical directed social network,
        users’ indegrees and outdegrees are almost balanced – high
        indegrees often mean high outdegrees&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0038">38</a>]. That can support the
        reason why we make very similar observations about the
        impacts of in and out degrees on the time delay in
        reciprocal relations.</p>
        <figure id="fig7">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186076/images/www2018-85-fig7.jpg"
          class="img-responsive" alt="Figure 7" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 7:</span>
            <span class="figure-title">Average delay versus user
            indegrees (social status) at the initiating time of
            reciprocal relations.</span>
          </div>
        </figure>
        <figure id="fig8">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186076/images/www2018-85-fig8.jpg"
          class="img-responsive" alt="Figure 8" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 8:</span>
            <span class="figure-title">Average delay versus user
            outdegrees (user activity) at the initiating time of
            reciprocal relations.</span>
          </div>
        </figure>
        <p></p>
        <p><em>The impact of structural similarity:</em> Here we
        engage in some investigations the impacts of some
        structural similarities such as the number of common
        followees and the number of common followers for the source
        and target users at the reciprocity initiate time. In
        particular, we divide the number of common followees and
        followers into 6 ranges: [0, 20), [20, 40), [40, 60), [60,
        80), [80, 100) and [100, +∞). Their effects on the
        reciprocal delays are illustrated in Figure&nbsp;<a class=
        "fig" href="#fig9">9</a>. With the increase of structural
        similarity between two users (either common followees or
        common followers), the average delay tends to decrease. For
        example, when the number of common followers increases to
        100, the average delay is reduced to only 1 day compared to
        more than 18 days with less than 20 common followers.
        Social homophily suggests that similar users are likely to
        create links to each other&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0029">29</a>]. Our study extends the
        social homophily to the temporal dimension for reciprocal
        relations – similar users are likely to have short delay in
        reciprocal relations.</p>
        <figure id="fig9">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186076/images/www2018-85-fig9.jpg"
          class="img-responsive" alt="Figure 9" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 9:</span>
            <span class="figure-title">Average delay versus the
            number of common followees and followers.</span>
          </div>
        </figure>
        <p></p>
      </section>
    </section>
    <section id="sec-12">
      <header>
        <div class="title-info">
          <h2><span class="section-number">4</span> Delay
          Prediction in Reciprocal Relations</h2>
        </div>
      </header>
      <div class="table-responsive" id="tab3">
        <div class="table-caption">
          <span class="table-number">Table 3:</span> <span class=
          "table-title">Summary of features for each reciprocal
          relation &lt; <em>u</em>, <em>v</em>, <em>t</em>
          <sub>1</sub>, ?, ? − <em>t</em> <sub>1</sub> &gt; where ?
          indicates the following back time.</span>
        </div>
        <table class="table">
          <tbody>
            <tr>
              <td rowspan="7" style=
              "border-bottom: solid 2px; text-align:center;"
              valign="middle">Temporal</td>
              <td style="text-align:center;">Source user joining
              time <em>t<sub>u</sub></em></td>
            </tr>
            <tr>
              <td style="text-align:center;">Target user joining
              time <em>t<sub>v</sub></em></td>
            </tr>
            <tr>
              <td style="text-align:center;">Length of source user
              joining time <em>t</em> <sub>1</sub> −
              <em>t<sub>u</sub></em></td>
            </tr>
            <tr>
              <td style="text-align:center;">Length of target user
              joining time <em>t</em> <sub>1</sub> −
              <em>t<sub>v</sub></em></td>
            </tr>
            <tr>
              <td style="text-align:center;">Does the reciprocity
              start on weekends?</td>
            </tr>
            <tr>
              <td style="text-align:center;">Avg of previous
              <em>k</em> delays of user <em>v</em></td>
            </tr>
            <tr style="border-bottom: solid 2px">
              <td style="text-align:center;">Avg of previous all
              delays of user <em>v</em></td>
            </tr>
            <tr>
              <td rowspan="6" valign="center" style=
              "text-align:center;">Structural</td>
              <td style="text-align:center;">Indegree of user
              <em>u</em> at <em>t</em> <sub>1</sub></td>
            </tr>
            <tr>
              <td style="text-align:center;">Indegree of user
              <em>v</em> at <em>t</em> <sub>1</sub></td>
            </tr>
            <tr>
              <td style="text-align:center;">Outdegree of user
              <em>u</em> at <em>t</em> <sub>1</sub></td>
            </tr>
            <tr>
              <td style="text-align:center;">Outdegree of user
              <em>v</em> at <em>t</em> <sub>1</sub></td>
            </tr>
            <tr>
              <td style="text-align:center;">Number of common
              followees at <em>t</em> <sub>1</sub></td>
            </tr>
            <tr>
              <td style="text-align:center;">Number of common
              followers at <em>t</em> <sub>1</sub></td>
            </tr>
          </tbody>
        </table>
      </div>
      <p>It needs to mention that the problem of whether will you
      follow back or not has been extensively studied in
      literature&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0008">8</a>, <a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0016">16</a>] and these methods have shown to
      achieve very high performance. However, this is the focus of
      this study, in this work, we perform further analysis on the
      problem of when will user follow back on the basis of their
      work. In other words, if you follow back, we attempt to
      predict the reciprocal delay.</p>
      <p>According to our observations and findings in the previous
      section, we reveal some interesting patterns that influence
      the length of the delay in reciprocal relations. Now we
      attempt to answer the second question whether we can leverage
      these patterns to predict the delay automatically. In
      particular, we first extract features that may potentially
      affect the delay according to our previous analysis. For each
      reciprocal relation &lt; <em>u</em>, <em>v</em>, <em>t</em>
      <sub>1</sub>, ?, ? − <em>t</em> <sub>1</sub> &gt; (where ? is
      the following back time we want to predict), we extract two
      types of features that are corresponding to two types of
      patterns that are summarized in Table&nbsp;<a class="tbl"
      href="#tab3">3</a>. It should be noted that there might be
      other factors that may affect the reciprocal delays, but we
      focus on temporal and structural related factors and leave
      further investigations as future work. With the feature
      representation for each reciprocal relation, we consider the
      delay prediction problem as a regression problem. Given a
      reciprocal relation &lt; <em>u</em>, <em>v</em>, <em>t</em>
      <sub>1</sub>, ?, ? − <em>t</em> <sub>1</sub> &gt; , our goal
      is to predict the number of days the target user <em>v</em>
      takes to follow back to the source user <em>u</em>. In other
      words, we would like to train a predictive learning model
      with the training data where the missing ? are already known
      and then predict the missing follow back time ? in each
      reciprocity relation in the test data. The problem statement
      of the delay prediction is formally stated as follows:
      <em>Given the feature matrix</em> <span class=
      "inline-equation"><span class="tex">${\bf X}\in \mathbb
      {R}^{n\times d}$</span></span> <em>where <em>n</em> is the
      number of training reciprocal relations, and their
      corresponding delay vector</em> <span class=
      "inline-equation"><span class="tex">${\bf y}\in \mathbb
      {R}^{n}$</span></span> <em>, we aim to learn to a regression
      model <em>f</em> that maps <strong>X</strong> to
      <strong>y</strong></em> .</p>
      <section id="sec-13">
        <header>
          <div class="title-info">
            <h3><span class="section-number">4.1</span> The
            Proposed Delay Prediction Framework</h3>
          </div>
        </header>
        <p>A simple and straightforward way is to build a global
        model for all reciprocal relations. However, one drawback
        is that it assumes that reciprocal relations from all users
        share the exactly same patterns. Though the delay overall
        tends to follow some common patterns in the previous
        section, reciprocal behaviors of different individuals
        could differ. For example, some users may regularly log in
        and reciprocate back to their followers very quickly while
        some other users could be not active and spend longer to
        follow back. Therefore, it is more appealing to build a
        model to capture both the common patterns and the
        personalized nature of reciprocal behaviors. Next, we will
        first introduce the framework to model the common patterns
        and then extend it to model the personalized nature.</p>
        <p>Let <strong>X</strong> = [<strong>x</strong>
        <sub>1</sub>, <strong>x</strong> <sub>2</sub>, ...,
        <strong>x</strong> <sub><em>n</em></sub> ]
        <sup><em>T</em></sup> (<span class=
        "inline-equation"><span class="tex">${\bf x}_{i}\in \mathbb
        {R}^{d}$</span></span> , <em>i</em> = 1, ..., <em>n</em>)
        be the set all <em>n</em> reciprocal relations in the
        training data. Each reciprocal relation <strong>x</strong>
        <sub><em>i</em></sub> is also associated with a tuple &lt;
        <em>u</em>, <em>v</em>, <em>t</em> <sub>1</sub>, <em>t</em>
        <sub>2</sub>, <em>t</em> <sub>2</sub> − <em>t</em>
        <sub>1</sub> &gt; recording its source user <em>u</em>, the
        target user <em>v</em>, the initiating time, the completing
        time, and the delay, respectively. Assume that the total
        number of the target users is <em>K</em>, <em>K</em> is
        normally smaller than <em>n</em> since each user may
        reciprocate back to multiple other users. In particular, we
        define a matrix <strong>A</strong> ∈ {0, 1} <sup><em>n</em>
        × <em>n</em></sup> such that <strong>A</strong>
        <sub><em>ij</em></sub> = 1 if the target users are the same
        for two reciprocal relations <strong>x</strong>
        <sub><em>i</em></sub> and <strong>x</strong>
        <sub><em>j</em></sub> , otherwise <strong>A</strong>
        <sub><em>ij</em></sub> = 0. With these definitions, we
        introduce the framework that captures common patterns. We
        assume that there is a universal regression parameter
        <strong>w</strong> between each reciprocal relation
        <strong>x</strong> <sub><em>i</em></sub> and its
        corresponding delay <strong>y</strong>
        <sub><em>i</em></sub> . In other words, the delay can be
        approximated by a ridge regression&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0015">15</a>] model:</p>
        <div class="table-responsive" id="eq1">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \min _{{\bf
            w}}\sum _{i=1}^{n}({\bf x}_{i}^{T}{\bf w}-{\bf
            y}_{i})^{2}+\alpha \Vert {\bf w}\Vert _{2}^{2},
            \end{equation}</span><br />
            <span class="equation-number">(2)</span>
          </div>
        </div>where <span class="inline-equation"><span class=
        "tex">${\bf w}\in \mathbb {R}^{d}$</span></span> is the
        regression coefficient, and the term <span class=
        "inline-equation"><span class="tex">$\alpha \Vert {\bf
        w}\Vert _{2}^{2}$</span></span> prevents the overfitting of
        the model. The model parameter <strong>w</strong> is used
        to capture the common patterns of all reciprocal relations.
        Different reciprocal relations could act differently,
        however, the ridge regression model in Eq.&nbsp;(<a class=
        "eqn" href="#eq1">2</a>) cannot fully capture individual
        reciprocal behaviors of users. To leverage personalized
        behaviors for accurate delay prediction, we assume that the
        reciprocal behaviors of each reciprocal relation
        <strong>x</strong> <sub><em>i</em></sub> is also determined
        by a local variable <span class=
        "inline-equation"><span class="tex">$\tilde{{\bf
        w}}_{i}$</span></span> that can seize its personalized
        behavior. In this way, the delay prediction model can be
        formulated as:
        <div class="table-responsive" id="eq2">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \min _{{\bf
            w},\tilde{{\bf w}_{i}}}\sum _{i=1}^{n}({\bf
            x}_{i}^{T}({\bf w}+\tilde{{\bf w}}_{i})-{\bf
            y}_{i})^{2}+\alpha \Vert {\bf w}\Vert _{2}^{2}.
            \end{equation}</span><br />
            <span class="equation-number">(3)</span>
          </div>
        </div>In many cases, each user may reciprocate back to a
        number of other users. In other words, for many reciprocal
        relations <strong>x</strong> <sub><em>i</em></sub> , the
        target user <em>v</em> are the same. Hence, it is of vital
        importance to capture the inherent correlations between
        these reciprocal relations if they share the same user.
        Particularly, we impose a constraint to force the local
        variables of two reciprocal relations to be close if they
        are from the same user. Mathematically, it can be achieved
        by imposing a network lasso penalization
        term&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
        "popover" data-placement="top" href=
        "#BibPLXBIB0014">14</a>]:
        <div class="table-responsive" id="eq3">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \sum
            _{i=1}^{n}\sum _{j=1}^{n}{\bf A}_{ij}\Vert \tilde{{\bf
            w}}_{i}-\tilde{{\bf w}}_{j}\Vert _{2}.
            \end{equation}</span><br />
            <span class="equation-number">(4)</span>
          </div>
        </div>
        <p></p>
        <p>The advantages of the introduction of the network lasso
        penalization term are two-fold. First, the
        ℓ<sub>2</sub>-norm penalization term in Eq.&nbsp;(<a class=
        "eqn" href="#eq3">4</a>) not only makes <span class=
        "inline-equation"><span class="tex">$\tilde{{\bf
        w}}_{i}$</span></span> close to <span class=
        "inline-equation"><span class="tex">$\tilde{{\bf
        w}}_{j}$</span></span> , but incentivizes them exactly to
        be the same if the corresponding <strong>A</strong>
        <sub><em>ij</em></sub> = 1. Second, the ℓ<sub>2</sub>-norm
        penalization term could result in learning more accurate
        <span class="inline-equation"><span class=
        "tex">$\tilde{{\bf w}}_{i}$</span></span> – in addition to
        <strong>x</strong> <sub><em>i</em></sub> as
        Eq.&nbsp;(<a class="eqn" href="#eq2">3</a>), the network
        lasso term in Eq.&nbsp;(<a class="eqn" href="#eq3">4</a>)
        also enables us to learning <span class=
        "inline-equation"><span class="tex">$\tilde{{\bf
        w}}_{i}$</span></span> from related reciprocal relations
        (e.g., <strong>x</strong> <sub><em>j</em></sub> ) that
        share the same target user with <strong>x</strong>
        <sub><em>i</em></sub> (i.e., <strong>A</strong>
        <sub><em>ij</em></sub> = 1).</p>
        <p>Integrating the formulation in Eq.&nbsp;<a class="eqn"
        href="#eq2">3</a> and Eq.&nbsp;<a class="eqn" href=
        "#eq3">4</a>, we obtain the objective function of the
        proposed framework for delay prediction in reciprocal
        relations (DPRR) as follows:</p>
        <div class="table-responsive" id="eq4">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \begin{split}
            \min _{{\bf w},\tilde{{\bf w}_{i}}}\sum _{i=1}^{n}({\bf
            x}_{i}^{T}({\bf w}+\tilde{{\bf w}}_{i})-{\bf
            y}_{i})^{2}+\alpha \Vert {\bf w}\Vert _{2}^{2}+\beta
            \sum _{i,j}{\bf A}_{ij}\Vert \tilde{{\bf
            w}}_{i}-\tilde{{\bf w}}_{j}\Vert _{2} \end{split}
            \end{equation}</span><br />
            <span class="equation-number">(5)</span>
          </div>
        </div>where <em>β</em> is to control the consensus of all
        localized parameters <span class=
        "inline-equation"><span class="tex">$\tilde{{\bf
        w}}$</span></span> . For example, if the parameter
        <em>β</em> → ∞, all the localized parameters tend to
        achieve a consensus solution such that ∀<em>i</em>,
        <em>j</em>, we have <span class=
        "inline-equation"><span class="tex">$\tilde{{\bf
        w}_{i}}=\tilde{{\bf w}_{j}}$</span></span> . On the
        contrary if <em>β</em> = 0, we eliminate the correlations
        among reciprocal relations and each localized parameter
        will be learned independently.
        <p></p>
        <p>By solving the above optimization problem for the
        proposed framework DPRR , we obtain the universal
        regression parameter <strong>w</strong> and localized
        parameters <span class="inline-equation"><span class=
        "tex">$\tilde{{\bf w}_{i}}$</span></span> for each
        reciprocal relation <strong>x</strong>
        <sub><em>i</em></sub> . Now we discuss how to make a delay
        prediction for a new reciprocal relation. There are two
        cases that we need to discuss. The first case is that for
        the new relation &lt; <em>u</em>, <em>v</em>, <em>t</em>
        <sub>1</sub>, ?, ? − <em>t</em> <sub>1</sub> &gt; , we do
        not find any historical reciprocal behaviors for the target
        user <em>v</em> in the training data. In this case, we
        cannot obtain a localized prediction model for the new
        relation. Hence, we leverage the universal regression
        parameter <strong>w</strong> to make the delay prediction
        as <span class="inline-equation"><span class="tex">${\bf
        x}_{k}^{T}{\bf w}$</span></span> . In the second case, if
        we find historical reciprocal behaviors for the target node
        <em>v</em>, the localized regression parameter <span class=
        "inline-equation"><span class="tex">$\tilde{{\bf
        w}_{k}}$</span></span> can be obtained by leveraging all of
        the localized parameters of all reciprocal relations with
        the target user <em>v</em>. Specifically, we obtain
        <span class="inline-equation"><span class=
        "tex">$\tilde{{\bf w}_{k}}$</span></span> by solving a
        Weber problem&nbsp;[<a class="bib" data-trigger="hover"
        data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0021">21</a>]:</p>
        <div class="table-responsive" id="Xeq2">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \tilde{{\bf
            w}_{k}} = \min _{{\bf b}}\sum _{i=1}^{n}{\bf
            A}_{ki}{}\Vert {\bf b}-\tilde{{\bf w}_{i}}\Vert _{2},
            \end{equation}</span><br />
            <span class="equation-number">(6)</span>
          </div>
        </div>where <strong>A</strong> <sub><em>ki</em></sub> = 1
        if the target user of <strong>x</strong>
        <sub><em>i</em></sub> is also <em>v</em>. With the solution
        of <span class="inline-equation"><span class=
        "tex">$\tilde{{\bf w}_{k}}$</span></span> , the delay is
        predicted with the universal parameter <strong>w</strong>
        and the localized parameter <span class=
        "inline-equation"><span class="tex">$\tilde{{\bf
        w}_{k}}$</span></span> as <span class=
        "inline-equation"><span class="tex">${\bf x}_{k}^{T}({\bf
        w}+\tilde{{\bf w}_{k}})$</span></span> . In the following
        subsection, we detail the algorithm to optimize the
        proposed framework DPRR.
        <p></p>
      </section>
      <section id="sec-14">
        <header>
          <div class="title-info">
            <h3><span class="section-number">4.2</span> The
            Optimization Algorithm</h3>
          </div>
        </header>
        <p>The objective function of the proposed model in
        Eq.&nbsp;(<a class="eqn" href="#eq4">5</a>) has two sets of
        parameters – the universal parameter <strong>w</strong> for
        all reciprocal relations, and a localized parameter
        <span class="inline-equation"><span class=
        "tex">$\tilde{{\bf w}}_{i}$</span></span> for each
        individual reciprocal relation <strong>x</strong>
        <sub><em>i</em></sub> . Motivated by&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0014">14</a>], we use Alternating
        Direction Method of Multipliers (ADMM)&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0004">4</a>] to solve it. To make it
        solvable by ADMM, we design some auxiliary variables, i.e.,
        copies of <span class="inline-equation"><span class=
        "tex">$\tilde{{\bf w}_{i}}$</span></span> to formulate
        Eq.&nbsp;(<a class="eqn" href="#eq4">5</a>) to its
        equivalent form:</p>
        <div class="table-responsive" id="Xeq3">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \begin{split}
            \min _{{\bf a},{\bf w},{\bf z}}&amp;\sum
            _{i=1}^{n}({\bf x}_{i}^{T}{\bf a}_{i}-{\bf
            y}_{i})^{2}+\alpha \Vert {\bf w}\Vert _{2}^{2}+\beta
            \sum _{i,j}{\bf A}_{ij}\Vert {\bf z}_{ij}-{\bf
            z}_{ji}\Vert _{2}\\ &amp; \mbox{s.t. } {\bf a}_{i} =
            {\bf z}_{ij}+{\bf w}, \mbox{ } i = 1,...,n, \end{split}
            \end{equation}</span><br />
            <span class="equation-number">(7)</span>
          </div>
        </div>where the auxiliary variables <strong>z</strong>
        <sub><em>ij</em></sub> (<em>j</em> = 1, ..., <em>n</em>)
        are copies of <span class="inline-equation"><span class=
        "tex">$\tilde{{\bf w}_{i}}$</span></span> . It then can be
        solved by the following ADMM problem:
        <div class="table-responsive" id="Xeq4">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \begin{split}
            &amp;\min _{{\bf a},{\bf w},{\bf z},{\bf u}}L_{\rho
            }({\bf a},{\bf w},{\bf z},{\bf u})=\sum _{i=1}^{n}({\bf
            x}_{i}^{T}{\bf a}_{i}-{\bf y}_{i})^{2}+\alpha \Vert
            {\bf w}\Vert _{2}^{2}\\ +&amp;\beta \sum _{i,j}{\bf
            A}_{ij}\Vert {\bf z}_{ij}-{\bf z}_{ji}\Vert
            _{2}-\frac{\rho }{2}\sum _{i,j}{\bf A}_{ij}(\Vert {\bf
            u}_{ij}\Vert _{2}^{2}+\Vert {\bf u}_{ji}\Vert
            _{2}^{2}\\ -&amp;\Vert {\bf a}_{i}-{\bf z}_{ij}-{\bf
            w}+{\bf u}_{ij}\Vert _{2}^{2}-\Vert {\bf a}_{j}-{\bf
            z}_{ji}-{\bf w}+{\bf u}_{ji}\Vert _{2}^{2}),
            \end{split} \end{equation}</span><br />
            <span class="equation-number">(8)</span>
          </div>
        </div>where <em>ρ</em> &gt; 0 is the penalty parameter and
        <strong>u</strong> is the scaled dual variable. Then the
        model parameters in each iteration can be updated by
        following rules iteratively until the objective function
        converges.
        <p></p>
        <p><em>Update <strong>a</strong>:</em> To update
        <strong>a</strong>, we fix all the other variables and
        remove terms that are irrelevant to <strong>a</strong>.
        Then each <strong>a</strong> <sub><em>i</em></sub> can be
        updated by solving the following optimization problem:</p>
        <div class="table-responsive" id="Xeq5">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \begin{split}
            &amp;{\bf a}_{i}^{k+1} = \mathop{\rm argmin}_{{\bf
            a}_{i}} ({\bf x}_{i}^{T}{\bf a}_{i}-{\bf
            y}_{i})^{2}+\frac{\rho }{2}\sum _{j}{\bf A}_{ij}\\
            &amp;(\Vert {\bf a}_{i}-{\bf z}_{ij}^{k}-{\bf
            w}^{k}+{\bf u}_{ij}^{k}\Vert _{2}^{2}+\Vert {\bf
            a}_{j}-{\bf z}_{ji}^{k}-{\bf w}^{k}+{\bf
            u}_{ji}^{k}\Vert _{2}^{2}) \end{split}
            \end{equation}</span><br />
            <span class="equation-number">(9)</span>
          </div>
        </div>
        <p></p>
        <p><em>Update <strong>w</strong>:</em> Similarly, we fix
        the other variables except <strong>w</strong>, then
        <strong>w</strong> can be updated by solving the following
        problem:</p>
        <div class="table-responsive" id="Xeq6">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \begin{split}
            {\bf w}^{k+1} = \mathop{\rm argmin}_{{\bf w}}\frac{\rho
            }{2}&amp;\sum _{i,j}{\bf A}_{ij}(\Vert {\bf
            a}_{i}^{k+1}-{\bf z}_{ij}^{k}-{\bf w}+{\bf
            u}_{ij}^{k}\Vert _{2}^{2}\\ +&amp;\Vert {\bf
            a}_{j}^{k+1}-{\bf z}_{ji}^{k}-{\bf w}+{\bf
            u}_{ji}^{k}\Vert _{2}^{2})+\alpha \Vert {\bf w}\Vert
            _{2}^{2} \end{split} \end{equation}</span><br />
            <span class="equation-number">(10)</span>
          </div>
        </div>
        <p></p>
        <p><em>Update <strong>z</strong>:</em> The parameter
        <strong>z</strong> <sub><em>ij</em></sub> is a copy of
        <span class="inline-equation"><span class=
        "tex">$\tilde{{\bf w}_{i}}$</span></span> , if
        <strong>A</strong> <sub><em>ij</em></sub> = 0 then the
        corresponding <strong>z</strong> <sub><em>ij</em></sub> is
        also zero. In other words, we do not need to optimize
        <strong>z</strong> <sub><em>ij</em></sub> . On the other
        hand if <strong>A</strong> <sub><em>ij</em></sub> = 1 (also
        <strong>A</strong> <sub><em>ji</em></sub> = 1), the
        corresponding <strong>z</strong> <sub><em>ij</em></sub> and
        <strong>z</strong> <sub><em>ji</em></sub> are optimized
        jointly by solving the following objectives:</p>
        <div class="table-responsive" id="Xeq7">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} \begin{split}
            {\bf z}_{ij}^{k+1},{\bf z}_{ji}^{k+1}=\mathop{\rm
            argmin}_{{\bf z}_{ij},{\bf z}_{ji}}\beta &amp;\sum
            _{i,j}{\bf A}_{ij}\Vert {\bf z}_{ij}-{\bf z}_{ji}\Vert
            _{2}\\ +\frac{\rho }{2}\sum _{i,j}{\bf
            A}_{ij}&amp;(\Vert {\bf a}_{i}^{k+1}-{\bf z}_{ij}-{\bf
            w}^{k+1}+{\bf u}_{ij}^{k}\Vert _{2}^{2}\\ +&amp;\Vert
            {\bf a}_{j}^{k+1}-{\bf z}_{ji}-{\bf w}^{k+1}+{\bf
            u}_{ji}^{k}\Vert _{2}^{2}). \end{split}
            \end{equation}</span><br />
            <span class="equation-number">(11)</span>
          </div>
        </div>
        <p></p>
        <p><em>Update <strong>u</strong>:</em> At last, in the dual
        ascent step, we update the scaled dual variable
        <strong>u</strong> as:</p>
        <div class="table-responsive" id="Xeq8">
          <div class="display-equation">
            <span class="tex mytex">\begin{equation} {\bf
            u}_{ij}^{k+1}={\bf u}_{ij}^{k}+({\bf a}_{i}^{k+1}-{\bf
            w}^{k+1}-{\bf z}_{ij}^{k+1}).
            \end{equation}</span><br />
            <span class="equation-number">(12)</span>
          </div>
        </div>
        <p></p>
      </section>
    </section>
    <section id="sec-15">
      <header>
        <div class="title-info">
          <h2><span class="section-number">5</span>
          Experiments</h2>
        </div>
      </header>
      <p>In this section, we present experiments to show the
      performance of the proposed DPRR framework for delay
      prediction in reciprocal relations. We begin by introducing
      the experimental settings, then presenting the detailed
      results and finally investigating the parameter
      sensitivity.</p>
      <section id="sec-16">
        <header>
          <div class="title-info">
            <h3><span class="section-number">5.1</span>
            Experimental Settings</h3>
          </div>
        </header>
        <p>It is worth noting that the delay prediction problem is
        different from the reciprocal prediction problem. Current
        state-of-the-art algorithms already achieve up to 90%
        accuracy in predicting if a user will follow back when
        another user initiates the following relation first.
        Considering its high accuracy, we study the problem of
        “when user will follow back” in a given reciprocal
        relation. To be more specific, in the training phase, we
        use the reciprocal relations whose delays have been already
        known to train the DPRR model. Also, in the test data, we
        already know that the user will follow back to another, and
        focus on predicting the reciprocal delay. Each time we
        sample 100,000 reciprocal relations for training and then
        sample another <span class="inline-equation"><span class=
        "tex">$100,000*x\%$</span></span> reciprocal relations for
        testing, where the value of <em>x</em> is varied as {50,
        70, 90}. The whole process is repeated 10 times, and we
        report the average RMSE and MAE of these 10 trials as the
        final results. The parameters for all the baseline methods
        and the proposed model are determined by cross-validation.
        We compare the proposed framework DPRR with the following
        baseline methods:</p>
        <ul class="list-no-style">
          <li id="list3" label="•">P1: the delay is predicted using
          that of the immediately previous one;<br /></li>
          <li id="list4" label="•">P<em>k</em>: the delay is
          predicted using the average delay of previous <em>k</em>
          delays. Note that in the experiment, we try various
          <em>k</em> and report the best performance;<br /></li>
          <li id="list5" label="•">RG: the delay is predicted with
          ridge regression model on features extracted via our
          analysis in Table&nbsp;<a class="tbl" href="#tab3">3</a>.
          It is a variant of the proposed framework without the
          model component to capture the personalized nature of
          reciprocal relations;<br />
          </li>
          <li id="list6" label="•">LS: the delay is predicted with
          lasso model on features in Table&nbsp;<a class="tbl"
            href="#tab3">3</a>.<br />
          </li>
          <li id="list7" label="•">PD: It is a variant of the
          proposed DPRR framework without the model component to
          capture common patterns. It can be achieved by removing
          the common parameter <strong>w</strong> from the proposed
          framework DPRR.<br /></li>
        </ul>
      </section>
      <section id="sec-17">
        <header>
          <div class="title-info">
            <h3><span class="section-number">5.2</span> Performance
            Comparison of Delay Prediction in Reciprocal
            Relations</h3>
          </div>
        </header>
        <figure id="fig10">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186076/images/www2018-85-fig10.jpg"
          class="img-responsive" alt="Figure 10" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 10:</span>
            <span class="figure-title">Performance of different
            methods in delay prediction in reciprocal
            relations.</span>
          </div>
        </figure>
        <div class="table-responsive" id="tab4">
          <div class="table-caption">
            <span class="table-number">Table 4:</span> <span class=
            "table-title">The relative performance improvement of
            the proposed framework compared to baselines.</span>
          </div>
          <table class="table">
            <thead>
              <tr>
                <th style="text-align:center;"></th>
                <th style="text-align:center;"></th>
                <th style="text-align:center;">MAE</th>
                <th></th>
              </tr>
              <tr>
                <th style="text-align:center;">Test/Training
                Ratio</th>
                <th style="text-align:center;">50%</th>
                <th style="text-align:center;">70%</th>
                <th style="text-align:center;">90%</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td style="text-align:center;">RG</td>
                <td style="text-align:center;">40.63%</td>
                <td style="text-align:center;">41.05%</td>
                <td style="text-align:center;">41.81%</td>
              </tr>
              <tr>
                <td style="text-align:center;">LS</td>
                <td style="text-align:center;">40.85%</td>
                <td style="text-align:center;">41.60%</td>
                <td style="text-align:center;">42.69%</td>
              </tr>
              <tr style="border-bottom: solid 2px">
                <td style="text-align:center;">PD</td>
                <td style="text-align:center;">9.86%</td>
                <td style="text-align:center;">9.01%</td>
                <td style="text-align:center;">7.65%</td>
              </tr>
              <tr>
                <td style="text-align:center;"></td>
                <td style="text-align:center;"></td>
                <td style="text-align:center;">RMSE</td>
                <td></td>
              </tr>
              <tr style="border-bottom: solid 2px">
                <td style="text-align:center;">Test/Training
                Ratio</td>
                <td style="text-align:center;">50%</td>
                <td style="text-align:center;">70%</td>
                <td style="text-align:center;">90%</td>
              </tr>
              <tr>
                <td style="text-align:center;">RG</td>
                <td style="text-align:center;">16.53%</td>
                <td style="text-align:center;">17.91%</td>
                <td style="text-align:center;">17.58%</td>
              </tr>
              <tr>
                <td style="text-align:center;">LS</td>
                <td style="text-align:center;">16.53%</td>
                <td style="text-align:center;">18.48%</td>
                <td style="text-align:center;">17.78%</td>
              </tr>
              <tr>
                <td style="text-align:center;">PD</td>
                <td style="text-align:center;">8.27%</td>
                <td style="text-align:center;">8.07%</td>
                <td style="text-align:center;">6.13%</td>
              </tr>
            </tbody>
          </table>
        </div>
        <p>The delay prediction results w.r.t. different sizes of
        test data are shown in Figure&nbsp;<a class="fig" href=
        "#fig10">10</a>. The smaller the values of MAE or RMSE are,
        the better the performance of the prediction algorithm is.
        We make the following observations:</p>
        <ul class="list-no-style">
          <li id="list8" label="•">P<em>k</em> alway outperforms P1
          that is consistent with our previous observation – the
          average of previous <em>k</em> delay is more accurate in
          predicting the current delay than the immediately
          previous one;<br /></li>
          <li id="list9" label="•">The regression models with
          features extracted based on the delay patterns achieve
          much better performance than P<em>k</em>. This
          observation supports the importance to understand the
          delay patterns;<br /></li>
          <li id="list10" label="•">The proposed model DPRR
          outperforms all baseline methods. We also perform t-test
          between DPRR and baseline methods, and the test results
          show that DPRR is significantly better, with a 0.05
          significance level. The relative performance improvement
          of DPRR compared to regression-based baselines is
          demonstrated in Table&nbsp;<a class="tbl" href=
          "#tab4">4</a>. The major reason is that DPRR captures the
          common patterns via the shared parameter
          <strong>w</strong> and the personalized nature of each
          reciprocal relation via a localized parameter
            <span class="inline-equation"><span class=
            "tex">$\tilde{{\bf w_{i}}}$</span></span> into a
            coherent model;<br />
          </li>
          <li id="list11" label="•">DPRR obtains much better
          performance than its two variants as shown in
          Table&nbsp;<a class="tbl" href="#tab4">4</a>. The
          improvement of DPRR over RG supports the importance of
          modeling the personalized nature; while the improvement
          of DPRR over PD suggests the importance of modeling
          common patterns.<br />
          </li>
        </ul>
        <p>With these observations, we can conclude that the
        proposed DPRR framework can accurately predict delay in
        reciprocal relations by exploiting both personalized
        characteristics and common patterns of reciprocal
        relations.</p>
      </section>
      <section id="sec-18">
        <header>
          <div class="title-info">
            <h3><span class="section-number">5.3</span> Parameter
            Selection</h3>
          </div>
        </header>
        <p>The proposed framework has one important pre-defined
        parameter <em>β</em> that controls the contribution of the
        network lasso term. In this subsection, we investigate its
        impact by investigating how the performance varies with the
        changes of the value of <em>β</em>. We try <em>β</em> ∈
        {0.001, 0.01, 0.05, 0.1, 0.5, 1, 10, 100, 1000} and the
        performance of DPRR w.r.t. <em>β</em> is shown in the
        Figure&nbsp;<a class="fig" href="#fig11">11</a>. In the
        figure, we make the following observations – (1) by
        gradually increasing the value of <em>β</em>, MAE and RMSE
        tend to decrease and then increase, and the best
        performance is achieved when <em>β</em> is around 0.5; (2)
        When <em>β</em> is very small, each reciprocal relation
        inclines to have its own regularized parameter; on the
        other hand, when <em>β</em> is very large, all reciprocal
        relations tend to share a common regularized parameter. MAE
        and RMSE are relatively higher in these two cases, showing
        the necessity of leveraging personalized and global
        patterns for delay prediction.</p>
        <figure id="fig11">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186076/images/www2018-85-fig11.jpg"
          class="img-responsive" alt="Figure 11" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 11:</span>
            <span class="figure-title">Performance variation w.r.t.
            <em>β</em> in DPRR.</span>
          </div>
        </figure>
        <p></p>
      </section>
    </section>
    <section id="sec-19">
      <header>
        <div class="title-info">
          <h2><span class="section-number">6</span> Related
          Work</h2>
        </div>
      </header>
      <p>In this section, we briefly review related work from two
      aspects: (1) reciprocity behaviors analysis and prediction;
      (2) link prediction with time information.</p>
      <section id="sec-20">
        <header>
          <div class="title-info">
            <h3><span class="section-number">6.1</span> Reciprocity
            Analysis and Prediction</h3>
          </div>
        </header>
        <p>The study of link reciprocity has received increasing
        attention recently. Garlaschelli and
        Loffredo&nbsp;[<a class="bib" data-trigger="hover"
        data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0012">12</a>] propose a new measure of
        reciprocity to unveil reciprocity behaviors in a variety of
        real-world networks. Squartini et al.&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0036">36</a>] extend the current
        reciprocity measure to weighted networks. Also, they show
        that reciprocity links play a central role in the dynamic
        process, network growth, and community evolution of a
        network. Leman et al.&nbsp;[<a class="bib" data-trigger=
        "hover" data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0003">3</a>] quantify the degree of reciprocity
        in weighted networks and study its correlation with user
        pair topological features. Nguyen et al.&nbsp;[<a class=
        "bib" data-trigger="hover" data-toggle="popover"
        data-placement="top" href="#BibPLXBIB0032">32</a>]
        investigate to what extent the reciprocity relations exist
        in a trust network. They study four types of user
        reciprocity behaviors and propose a learning model to
        perform the reciprocity trust prediction. Hopcroft et al.
        leverage&nbsp;[<a class="bib" data-trigger="hover"
        data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0016">16</a>] social theories to predict
        reciprocal relationships in a microblogging platform
        Twitter. The proposed factor graph model can accurately
        predict more than 90% of reciprocal relationships. Cheng et
        al.&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
        "popover" data-placement="top" href="#BibPLXBIB0008">8</a>]
        formulate the reciprocity relationship prediction problem
        as a supervised learning task and identify a set of
        informative features beneficial for the reciprocity
        prediction problem. Methods in&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0008">8</a>, <a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0016">16</a>] need negative
        unreciprocated training samples that may turn into
        reciprocal relations in the future, thus the generalization
        of their methods is limited. Instead, in&nbsp;[<a class=
        "bib" data-trigger="hover" data-toggle="popover"
        data-placement="top" href="#BibPLXBIB0013">13</a>], the
        reciprocity prediction problem is modeled as an outlier
        detection problem. Feng et al.&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0010">10</a>] show that the time
        delay of the reciprocity relations also has a significant
        impact on the reciprocity formation. Therefore, they
        propose a time-aware reciprocity relation prediction model
        by employing the reciprocity time delay. All the above
        mentioned methods are distinct from the goal of this work
        as they either focus on (1) studying or measuring
        reciprocity relations; or (2) performing the reciprocity
        relation prediction task. In other words, they fail to
        assess the delay in reciprocal relations explicitly and
        cannot answer the question “when” will users follow you
        back.</p>
      </section>
      <section id="sec-21">
        <header>
          <div class="title-info">
            <h3><span class="section-number">6.2</span> Link
            Prediction with Time Information</h3>
          </div>
        </header>
        <p>Another line of work that are remotely related the
        problem we study is link prediction with time information.
        Link prediction problem targets to predict the future
        potential links mainly based on the snapshot of current
        network structure&nbsp;[<a class="bib" data-trigger="hover"
        data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0028">28</a>]. Despite its importance, the
        prediction of when a link will appear in the new future
        remains an under-explored task. Sun et al.&nbsp;[<a class=
        "bib" data-trigger="hover" data-toggle="popover"
        data-placement="top" href="#BibPLXBIB0037">37</a>] make one
        of the first attempt to predict when will the links be
        created in heterogeneous information networks with a
        meta-path based approach. Li et al.&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0027">27</a>] propose a time
        difference labeled based approach to capture the
        correlation between structural edges and time information
        in predicting the links and their building time. There are
        also a number of other methods which do not explicitly
        predict the building time of links but exploit the temporal
        information to improve the performance of the link
        prediction. For example, Sakar et al.&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0035">35</a>] propose a nonparametric
        prediction algorithm for a sequence of network structure
        snapshots over time. In&nbsp;[<a class="bib" data-trigger=
        "hover" data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0039">39</a>] and&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0018">18</a>], they show that
        incorporation of historical information of user
        interactions can significantly improve the link prediction
        accuracy. In&nbsp;[<a class="bib" data-trigger="hover"
        data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0020">20</a>], the time-varying link prediction
        problem is formulated by a temporally smoothed
        ℓ<sub>1</sub> logistic regression problem. Li et
        al.&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
        "popover" data-placement="top" href=
        "#BibPLXBIB0027">27</a>] propose a time difference labeled
        based approach to capture the correlation between
        structural edges and time information in predicting the
        links and their building time. In addition, this work is
        also remotely related to the link prediction problem on
        dynamic networks&nbsp;[<a class="bib" data-trigger="hover"
        data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0009">9</a>, <a class="bib" data-trigger="hover"
        data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0024">24</a>, <a class="bib" data-trigger=
        "hover" data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0043">43</a>, <a class="bib" data-trigger=
        "hover" data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0044">44</a>].</p>
      </section>
    </section>
    <section id="sec-22">
      <header>
        <div class="title-info">
          <h2><span class="section-number">7</span> Conclusions and
          Future Work</h2>
        </div>
      </header>
      <p>In directed social networks, reciprocity represents
      bidirectional relations among two users, showing the willings
      of one user to return a favor impacted by the other.
      Reciprocal relations create closer social ties, and its time
      delay is essential in understanding the formation of user
      interactions, network growth and dynamics. This paper
      presents the first study of delay in reciprocal relations
      with a large-scale dynamic network from Tumblr. We study some
      potential factors that may influence the length of the delay
      and find that the delay shows some interesting temporal and
      structural patterns. Meanwhile, we investigate how to
      leverage these observations into a principled model to
      automatically predict delay in reciprocal relations.
      Methodologically, we propose a DPRR model to capture some
      common and personalized patterns of reciprocal relations.
      Empirical experiments on a large-scale dataset validate the
      effectiveness of the proposed model.</p>
      <p>Future research can be focused on two directions. First,
      the understanding and predicting of delay in reciprocal
      relations may benefit various of applications such as friend
      recommendation, viral marketing, etc. Thus we plan to
      investigate how to deploy our findings and the prediction
      model on these applications. Second, this work makes use of
      the temporal and structural information for the delay
      prediction task on dynamic networks. In social media, user
      generated and user interaction contents are prevalent and
      continuously evolve over time&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0025">25</a>, <a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0026">26</a>], we would like to study
      how to incorporate other rich sources of information in the
      prediction model to improve its performance.</p>
    </section>
    <section id="sec-23">
      <header>
        <div class="title-info">
          <h2>Acknowledgements</h2>
        </div>
      </header>
      <p>This material is based upon work supported by, or in part
      by, the National Science Foundation (NSF) grant 1614576, and
      the Office of Naval Research (ONR) grant
      N00014-16-1-2257.</p>
    </section>
  </section>
  <section class="back-matter">
    <section id="ref-001">
      <header>
        <div class="title-info">
          <h2 class="page-brake-head">REFERENCES</h2>
        </div>
      </header>
      <ul class="bibUl">
        <li id="BibPLXBIB0001" label="[1]">Charu Aggarwal and
        Karthik Subbian. 2014. Evolutionary network analysis: A
        survey. <em><em>Comput. Surveys</em></em> 47, 1 (2014),
        10.</li>
        <li id="BibPLXBIB0002" label="[2]">Charu&nbsp;C Aggarwal
        and Karthik Subbian. 2012. Event Detection in Social
        Streams.. In <em><em>SDM</em></em> . SIAM, 624–635.</li>
        <li id="BibPLXBIB0003" label="[3]">Leman Akoglu, Pedro
        OS&nbsp;Vaz de Melo, and Christos Faloutsos. 2012.
        Quantifying reciprocity in large weighted communication
        networks. In <em><em>PAKDD</em></em> . Springer,
        85–96.</li>
        <li id="BibPLXBIB0004" label="[4]">Stephen Boyd, Neal
        Parikh, Eric Chu, Borja Peleato, and Jonathan Eckstein.
        2011. Distributed optimization and statistical learning via
        the alternating direction method of multipliers.
        <em><em>Foundations and Trends in Machine
        Learning</em></em> 3, 1 (2011), 1–122.</li>
        <li id="BibPLXBIB0005" label="[5]">Jonathan Chang and Eric
        Sun. 2011. Location 3: How users share and respond to
        location-based data on social networking sites. In
        <em><em>ICWSM</em></em> . 74–80.</li>
        <li id="BibPLXBIB0006" label="[6]">Yi Chang, Lei Tang,
        Yoshiyuki Inagaki, and Yan Liu. 2014. What is tumblr: A
        statistical overview and comparison. <em><em>ACM SIGKDD
        Explorations Newsletter</em></em> 16, 1 (2014), 21–29.</li>
        <li id="BibPLXBIB0007" label="[7]">Justin Cheng, Lada
        Adamic, P&nbsp;Alex Dow, Jon&nbsp;Michael Kleinberg, and
        Jure Leskovec. 2014. Can cascades be predicted? In
        <em><em>WWW</em></em> . ACM, 925–936.</li>
        <li id="BibPLXBIB0008" label="[8]">Justin Cheng,
        Daniel&nbsp;M Romero, Brendan Meeder, and Jon Kleinberg.
        2011. Predicting reciprocity in social networks. In
        <em><em>SocialCom</em></em> . IEEE, 49–56.</li>
        <li id="BibPLXBIB0009" label="[9]">Daniel&nbsp;M Dunlavy,
        Tamara&nbsp;G Kolda, and Evrim Acar. 2011. Temporal link
        prediction using matrix and tensor factorizations.
        <em><em>ACM Transactions on Knowledge Discovery from
        Data</em></em> 5, 2 (2011), 10.</li>
        <li id="BibPLXBIB0010" label="[10]">Xu Feng, Jichang Zhao,
        Zhiwen Fang, and Ke Xu. 2014. Time-aware reciprocity
        prediction in trust network. In <em><em>ASONAM</em></em> .
        IEEE, 234–237.</li>
        <li id="BibPLXBIB0011" label="[11]">Huiji Gao, Jiliang
        Tang, and Huan Liu. 2012. Exploring Social-Historical Ties
        on Location-Based Social Networks. In
        <em><em>ICWSM</em></em> . 114–121.</li>
        <li id="BibPLXBIB0012" label="[12]">Diego Garlaschelli and
        Maria&nbsp;I Loffredo. 2004. Patterns of link reciprocity
        in directed networks. <em><em>Physical Review
        Letters</em></em> 93, 26 (2004), 268701.</li>
        <li id="BibPLXBIB0013" label="[13]">N&nbsp;Zhenqiang Gong,
        Wenchang Xu, and Dawn Song. 2013. Reciprocity in social
        networks: Measurements, predictions, and implications.
        <em><em>ArXiv e-prints</em></em> (2013).</li>
        <li id="BibPLXBIB0014" label="[14]">David Hallac, Jure
        Leskovec, and Stephen Boyd. 2015. Network lasso: Clustering
        and optimization in large graphs. In
        <em><em>SIGKDD</em></em> . ACM, 387–396.</li>
        <li id="BibPLXBIB0015" label="[15]">Arthur&nbsp;E Hoerl and
        Robert&nbsp;W Kennard. 1970. Ridge regression: Biased
        estimation for nonorthogonal problems.
        <em><em>Technometrics</em></em> 12, 1 (1970), 55–67.</li>
        <li id="BibPLXBIB0016" label="[16]">John Hopcroft,
        Tiancheng Lou, and Jie Tang. 2011. Who will follow you
        back?: reciprocal relationship prediction. In
        <em><em>CIKM</em></em> . ACM, 1137–1146.</li>
        <li id="BibPLXBIB0017" label="[17]">Donald Horton and R
        Richard&nbsp;Wohl. 1956. Mass communication and para-social
        interaction: Observations on intimacy at a distance.
        <em><em>Psychiatry</em></em> 19, 3 (1956), 215–229.</li>
        <li id="BibPLXBIB0018" label="[18]">Zan Huang and
        Dennis&nbsp;KJ Lin. 2009. The time-series link prediction
        problem with applications in communication surveillance.
        <em><em>INFORMS Journal on Computing</em></em> 21, 2
        (2009), 286–303.</li>
        <li id="BibPLXBIB0019" label="[19]">Tackseung Jun and Rajiv
        Sethi. 2009. Reciprocity in evolving social networks.
        <em><em>Journal of Evolutionary Economics</em></em> 19, 3
        (2009), 379–396.</li>
        <li id="BibPLXBIB0020" label="[20]">Mladen Kolar, Le Song,
        Amr Ahmed, and Eric&nbsp;P Xing. 2010. Estimating
        time-varying networks. <em><em>The Annals of Applied
        Statistics</em></em> (2010), 94–123.</li>
        <li id="BibPLXBIB0021" label="[21]">Harold&nbsp;W Kulin and
        Robert&nbsp;E Kuenne. 1962. An efficient algorithm for the
        numerical solution of the generalized Weber problem in
        spatial economics. <em><em>Journal of Regional
        Science</em></em> 4, 2 (1962), 21–33.</li>
        <li id="BibPLXBIB0022" label="[22]">Jure Leskovec,
        Lada&nbsp;A Adamic, and Bernardo&nbsp;A Huberman. 2007. The
        dynamics of viral marketing. <em><em>ACM Transactions on
        the Web</em></em> 1, 1 (2007), 5.</li>
        <li id="BibPLXBIB0023" label="[23]">Jure Leskovec, Jon
        Kleinberg, and Christos Faloutsos. 2005. Graphs over time:
        densification laws, shrinking diameters and possible
        explanations. In <em><em>SIGKDD</em></em> . ACM,
        177–187.</li>
        <li id="BibPLXBIB0024" label="[24]">Jundong Li, Kewei
        Cheng, Liang Wu, and Huan Liu. 2018. Streaming Link
        Prediction on Dynamic Attributed Networks. In
        <em><em>WSDM</em></em> . ACM, 369–377.</li>
        <li id="BibPLXBIB0025" label="[25]">Jundong Li, Harsh Dani,
        Xia Hu, Jiliang Tang, Yi Chang, and Huan Liu. 2017.
        Attributed network embedding for learning in a dynamic
        environment. In <em><em>CIKM</em></em> . ACM, 387–396.</li>
        <li id="BibPLXBIB0026" label="[26]">Jundong Li, Xia Hu,
        Ling Jian, and Huan Liu. 2016. Toward time-evolving feature
        selection on dynamic networks. In <em><em>ICDM</em></em> .
        IEEE, 1003–1008.</li>
        <li id="BibPLXBIB0027" label="[27]">Manling Li, Yantao Jia,
        Yuanzhuo Wang, Zeya Zhao, and Xueqi Cheng. 2016. Predicting
        Links and Their Building Time: A Path-Based Approach. In
        <em><em>AAAI</em></em> . 4228–4229.</li>
        <li id="BibPLXBIB0028" label="[28]">David Liben-Nowell and
        Jon Kleinberg. 2007. The link-prediction problem for social
        networks. <em><em>Journal of the American Society for
        Information Science and Technology</em></em> 58, 7 (2007),
        1019–1031.</li>
        <li id="BibPLXBIB0029" label="[29]">Miller McPherson, Lynn
        Smith-Lovin, and James&nbsp;M Cook. 2001. Birds of a
        feather: Homophily in social networks. <em><em>Annual
        Review of Sociology</em></em> (2001), 415–444.</li>
        <li id="BibPLXBIB0030" label="[30]">Seth&nbsp;A Myers and
        Jure Leskovec. 2014. The bursty dynamics of the twitter
        information network. In <em><em>WWW</em></em> . ACM,
        913–924.</li>
        <li id="BibPLXBIB0031" label="[31]">Mark&nbsp;EJ Newman.
        2005. Power laws, Pareto distributions and Zipf's law.
        <em><em>Contemporary Physics</em></em> 46, 5 (2005),
        323–351.</li>
        <li id="BibPLXBIB0032" label="[32]">Viet-An Nguyen, Ee-Peng
        Lim, Hwee-Hoon Tan, Jing Jiang, and Aixin Sun. 2010. Do You
        Trust to Get Trust? A Study of Trust Reciprocity Behaviors
        and Reciprocal Trust Prediction.. In <em><em>SDM</em></em>
        . SIAM, 72–83.</li>
        <li id="BibPLXBIB0033" label="[33]">Symeon Papadopoulos,
        Yiannis Kompatsiaris, Athena Vakali, and Ploutarchos
        Spyridonos. 2012. Community detection in social media.
        <em><em>Data Mining and Knowledge Discovery</em></em> 24, 3
        (2012), 515–554.</li>
        <li id="BibPLXBIB0034" label="[34]">Manuel&nbsp;Gomez
        Rodriguez, Jure Leskovec, David Balduzzi, and Bernhard
        Schölkopf. 2014. Uncovering the structure and temporal
        dynamics of information propagation. <em><em>Network
        Science</em></em> 2, 01 (2014), 26–65.</li>
        <li id="BibPLXBIB0035" label="[35]">Purnamrita Sarkar,
        Deepayan Chakrabarti, and Michael&nbsp;I Jordan. 2012.
        Nonparametric Link Prediction in Dynamic Networks. In
        <em><em>ICML</em></em> . 1687–1694.</li>
        <li id="BibPLXBIB0036" label="[36]">Tiziano Squartini,
        Francesco Picciolo, Franco Ruzzenenti, and Diego
        Garlaschelli. 2013. Reciprocity of weighted networks.
        <em><em>Scientific Reports</em></em> 3(2013).</li>
        <li id="BibPLXBIB0037" label="[37]">Yizhou Sun, Jiawei Han,
        Charu&nbsp;C Aggarwal, and Nitesh&nbsp;V Chawla. 2012. When
        will it happen?: relationship prediction in heterogeneous
        information networks. In <em><em>WSDM</em></em> . ACM,
        663–672.</li>
        <li id="BibPLXBIB0038" label="[38]">Michael Szell, Renaud
        Lambiotte, and Stefan Thurner. 2010. Multirelational
        organization of large-scale social networks in an online
        world. <em><em>PNAS</em></em> 107, 31 (2010),
        13636–13641.</li>
        <li id="BibPLXBIB0039" label="[39]">Tomasz Tylenda, Ralitsa
        Angelova, and Srikanta Bedathur. 2009. Towards time-aware
        link prediction in evolving social networks. In
        <em><em>SNA-KDD. ACM</em></em> .</li>
        <li id="BibPLXBIB0040" label="[40]">Dashun Wang, Dino
        Pedreschi, Chaoming Song, Fosca Giannotti, and
        Albert-Laszlo Barabasi. 2011. Human mobility, social ties,
        and link prediction. In <em><em>SIGKDD</em></em> . ACM,
        1100–1108.</li>
        <li id="BibPLXBIB0041" label="[41]">Jianshu Weng, Ee-Peng
        Lim, Jing Jiang, and Qi He. 2010. Twitterrank: finding
        topic-sensitive influential twitterers. In
        <em><em>WSDM</em></em> . ACM, 261–270.</li>
        <li id="BibPLXBIB0042" label="[42]">Margaret&nbsp;C Wu and
        Raymond&nbsp;J Carroll. 1988. Estimation and comparison of
        changes in the presence of informative right censoring by
        modeling the censoring process.
        <em><em>Biometrics</em></em> (1988), 175–188.</li>
        <li id="BibPLXBIB0043" label="[43]">Wenchao Yu, Wei Cheng,
        Charu&nbsp;C Aggarwal, Haifeng Chen, and Wei Wang. 2017.
        Link prediction with spatial and temporal consistency in
        dynamic networks. In <em><em>IJCAI</em></em> .
        3343–3349.</li>
        <li id="BibPLXBIB0044" label="[44]">Linhong Zhu, Dong Guo,
        Junming Yin, Greg Ver&nbsp;Steeg, and Aram Galstyan. 2016.
        Scalable temporal latent space inference for link
        prediction in dynamic social networks. <em><em>IEEE
        Transactions on Knowledge and Data Engineering</em></em>
        28, 10(2016), 2765–2777.</li>
      </ul>
    </section>
  </section>
  <section id="foot-001" class="footnote">
    <header>
      <div class="title-info">
        <h2>FOOTNOTE</h2>
      </div>
    </header>
    <p id="fn1"><a href="#foot-fn1"><sup>⁎</sup></a>Work done when
    the author was an intern at Yahoo! Research</p>
    <p id="fn2"><a href="#foot-fn2"><sup>1</sup></a><a class=
    "link-inline force-break" href=
    "https://twitter.com/">https://twitter.com/</a></p>
    <p id="fn3"><a href="#foot-fn3"><sup>2</sup></a><a class=
    "link-inline force-break" href=
    "https://www.tumblr.com/">https://www.tumblr.com/</a></p>
    <p id="fn4"><a href="#foot-fn4"><sup>3</sup></a>two parasocial
    relations in a reciprocal relation are not created at the same
    time and we refer the time gap as the time delay in this
    paper</p>
    <p id="fn5"><a href="#foot-fn5"><sup>4</sup></a><a class=
    "link-inline force-break" href=
    "http://dstevenwhite.com/2011/12/29/social-media-growth-2006-2011/">http://dstevenwhite.com/2011/12/29/social-media-growth-2006-2011/</a></p>
    <div class="bibStrip">
      <p>This paper is published under the Creative Commons
      Attribution 4.0 International (CC-BY&nbsp;4.0) license.
      Authors reserve their rights to disseminate the work on their
      personal and corporate Web sites with the appropriate
      attribution.</p>
      <p><em>WWW '18, April 23-27, 2018, Lyon, France</em></p>
      <p>© 2018; IW3C2 (International World Wide Web Conference
      Committee), published under Creative Commons CC-BY&nbsp;4.0
      License. ACM ISBN 978-1-4503-5639-8/18/04.<br />
      DOI: <a class="link-inline force-break" target="_blank" href=
      "https://doi.org/10.1145/3178876.3186076">https://doi.org/10.1145/3178876.3186076</a></p>
    </div>
  </section>
  <div class="pubHistory">
    <p></p>
  </div>
</body>
</html>
