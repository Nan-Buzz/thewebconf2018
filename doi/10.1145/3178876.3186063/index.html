<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta name="generator" content=
  "HTML Tidy for HTML5 for Linux version 5.7.16" />
  <title>Joint User- and Event- Driven Stable Social Event
  Organization</title>
  <!-- Copyright (c) 2010-2015 The MathJax Consortium -->
  <meta http-equiv="Content-Type" content=
  "text/html; charset=utf-8" />
  <meta name="viewport" content=
  "width=device-width; initial-scale=1.0;" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="screen, print" rel="stylesheet" href=
  "../../../data/dl.acm.org/pubs/lib/css/bootstrap.min.css" />
  <link media="screen, print" rel="stylesheet" href=
  "../../../data/dl.acm.org/pubs/lib/css/bootstrap-theme.min.css" />
  <link media="screen, print" rel="stylesheet" href=
  "../../../data/dl.acm.org/pubs/lib/css/main.css" />
  <script src="../../../data/dl.acm.org/pubs/lib/js/jquery.min.js" type=
  "text/javascript"></script>
  <script src="../../../data/dl.acm.org/pubs/lib/js/bootstrap.min.js"
  type="text/javascript"></script>
  <script src="../../../data/dl.acm.org/pubs/lib/js/bibCit.js" type=
  "text/javascript"></script>
  <script src="../../../data/dl.acm.org/pubs/lib/js/divTab.js" type=
  "text/javascript"></script>
  <script type="text/javascript" src=
  "../../../data/dl.acm.org/pubs/lib/js/MathJax.js?config=TeX-AMS_CHTML"></script>
  <script type="text/x-mathjax-config">
  <![CDATA[
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
  ]]>
  </script>
</head>
<body id="main">
  <section class="front-matter">
    <section>
      <header class="title-info">
        <div class="journal-title">
          <h1><span class="title">Joint User- and Event- Driven
          Stable Social Event Organization</span><br />
          <span class="subTitle"></span></h1>
        </div>
      </header>
      <div class="authorGroup">
        <div class="author">
          <span class="givenName">Xin</span> <span class=
          "surName">Wang</span>, Department of Computer Science and
          Technology, Tsinghua University, China, <a href=
          "mailto:xin_wang@tsinghua.edu.cn">xin_wang@tsinghua.edu.cn</a>
        </div>
        <div class="author">
          <span class="givenName">Wenwu</span> <span class=
          "surName">Zhu</span>, Department of Computer Science and
          Technology, Tsinghua University, China, <a href=
          "mailto:wwzhu@tsinghua.edu.cn">wwzhu@tsinghua.edu.cn</a>
        </div>
        <div class="author">
          <span class="givenName">Chun</span> <span class=
          "surName">Chen</span>, Zhejiang Provincial Key Laboratory
          of Service Robot, College of Computer Science, Zhejiang
          University, China, <a href=
          "mailto:chenc@zju.edu.cn">chenc@zju.edu.cn</a>
        </div>
        <div class="author">
          <span class="givenName">Martin</span> <span class=
          "surName">Ester</span>, School of Computing Science,
          Simon Fraser University, Canada, <a href=
          "mailto:ester@cs.sfu.ca">ester@cs.sfu.ca</a>
        </div>
      </div><br />
      <div class="pubInfo">
        <p>DOI: <a href="https://doi.org/10.1145/3178876.3186063"
        target=
        "_blank">https://doi.org/10.1145/3178876.3186063</a><br />
        WWW '18: <a href="https://doi.org/10.1145/3178876" target=
        "_blank">Proceedings of The Web Conference 2018</a>, Lyon,
        France, April 2018</p>
      </div>
      <div class="abstract">
        <p><small>The problem of social event organization (SEO)
        rises with the advent of online web services and plays an
        important role in helping users discover new offline
        events. Existing work on SEO only assumes that different
        users have different preferences towards different events,
        ignoring the fact that each event (its organizer) may have
        a separate preference towards every user. In this paper, we
        investigate joint user- and event- driven SEO by
        simultaneously considering user preferences (towards
        events) and event preferences (towards users). A risen
        challenging problem is that this joint consideration may
        suffer instabilities between users and events which are
        NP-hard to handle in SEO. Stability is a desired property
        that needs to be maintained in SEO, otherwise participants
        will incline towards changing to other events and trust
        less the organizer. To the best of our knowledge, we are
        the first to study SEO with both preferences from users to
        events and preferences from events to users being
        considered. In this work, we formulate the stable social
        event organization (Stable-SEO) problem and prove its
        NP-hardness. We then propose an efficient greedy heuristic
        algorithm to solve Stable-SEO, taking both user preferences
        and event preferences into account. The proposed approach
        is able to find an assignment of a group of users to a set
        of events for an event organization, in which there is a
        minimized number of users involved in user-event pairs such
        that both the user and event in one such pair will be
        better off when reassigning the user to this event. Our
        experiments on two real-world datasets demonstrate the
        strong superiority of our proposed approach over existing
        methods.</small></p>
      </div>
      <div class="classifications">
        <div class="AcmReferenceFormat">
          <p><small><span style="font-weight:bold;">ACM Reference
          Format:</span><br />
          Xin Wang, Wenwu Zhu, Chun Chen, and Martin Ester. 2018.
          Joint User- and Event- Driven Stable Social Event
          Organization. In <em>Proceedings of The Web Conference
          2018 (WWW 2018)</em> ACM, New York, NY, USA, 10 pages.
          <a href="https://doi.org/10.1145/3178876.3186063" class=
          "link-inline force-break" target=
          "_blank">https://doi.org/10.1145/3178876.3186063</a></small></p>
        </div>
      </div>
    </section>
  </section>
  <section class="body">
    <section id="sec-5">
      <header>
        <div class="title-info">
          <h2><span class="section-number">1</span>
          Introduction</h2>
        </div>
      </header>
      <p>Online web services such as Meetup and Plancast which
      organize group meetings and social events have come into our
      sights in recent years, resulting in the emergence of the
      problem of organizing social events for a group of people.
      Being capable of utilizing online user information to get
      people meet offline, organizing social events has become a
      newly rising interesting and important application. Event
      organization normally involves two kinds of entities / actors
      – the organizers planning the event and the attendees taking
      part in the event. In real life applications, for instance,
      users on Meetup can act as organizers who schedule events and
      other users can be attendees deciding whether to participate
      in the event or not. In SEO, we focus on scenarios where
      users can choose only one event/activity to attend at one
      time (i.e., users can not leave their current
      events/activities and switch to others). We also note that
      SEO aims to address problems on <em>organizing</em> events
      rather than <em>detecting</em> events.</p>
      <p>As a general setting&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0016">16</a>], there is often <em>cardinality
      constraint</em> in SEO which bounds the capacity of an
      activity by a minimum quota and maximum quota. Taking table
      tennis as an example activity, the minimum quota is two and
      the maximum quota is four – two people can play a single
      match, three people can play a single match in turn and four
      people can play a double match. Besides, a user's preference
      towards attending an event in SEO depends on two crucial
      factors: how interesting the event itself is to her and the
      extent to which she is going to enjoy the company of the
      people who will also attend the event. The former factor is
      referred to as the user's <em>innate affinity</em> towards an
      event and the later as the user's pairwise <em>social
      affinity</em> towards other attendees of an event. There are
      many possible ways to compute the <em>innate affinity</em>
      and <em>social affinity</em> depending on what kind of data
      is available, and how these two important factors are
      calculated is orthogonal to the problem of SEO. We remark
      that the existing work&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0009">9</a>, <a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0016">16</a>] on SEO assumes that different users
      have different preferences towards different events and does
      not consider the fact that each event (its organizer) may
      have a separate preference towards every user.</p>
      <p>In this paper, we explore joint user- and event- driven
      SEO through considering both user preferences towards
      events/activities and event/activity preferences towards
      users, which may come across the instability issues that
      popularly exist in the fields of
      combinatorics&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0005">5</a>, <a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0006">6</a>, <a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0010">10</a>, <a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0015">15</a>] between users and events. The
      property of <em>stability</em> is necessary to be maintained,
      otherwise users will tend to switch to other activities and
      lose faith in the organizers. Thereby, we formulate the
      problem of <em>stable social event organization</em>
      (Stable-SEO) to deal with the instability issues in SEO.
      Stable-SEO is advantageous because it takes care of
      stabilities between users and events in SEO. The stability
      problem in SEO is easy to handle when we take only user
      preferences or event preferences into consideration. However,
      the joint consideration of user and event preferences will
      make instability issues between users and events become
      NP-hard to solve in SEO. In other words, solving Stable-SEO
      is NP-hard and therefore very challenging (proof in
      Section&nbsp;<a class="sec" href="#sec-7">3</a>). Existing
      literature in theoretical computer science such as Stable
      Marriage Problem (SMP)&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0004">4</a>], College Admissions Problem
      (CAP)&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href="#BibPLXBIB0002">2</a>]
      and National Resident Matching Problem&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0019">19</a>] can not be utilized to
      tackle Stable-SEO for the reason that they consider merely
      innate affinity and do not take social affinity into
      consideration, therefore is a special case of our stable
      social event organization problem. This being the case, we
      develop a polynomial time greedy algorithm that considers
      both user preferences and event/activity preferences to
      tackle the problem of Stable-SEO. Inspired by the famous
      Gale-Shapley algorithm&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0004">4</a>], the proposed method solves the
      instability issues in SEO through finding an assignment of a
      group of users to a set of events, which minimizes the number
      of users involved in user-event pairs such that both the user
      and event in one such pair will be better off when
      reassigning the user to the event (i.e., unstable),
      satisfying the cardinality constraint of the event (i.e., if
      the capacity of the event is not yet full, just assign the
      user to the event; if the capacity is full and the event
      prefers this user to at least one of the users already
      assigned to it, replace the less preferred user with this
      user). Compared to existing methods, our approach is capable
      of keeping the number of unstable users in SEO as small as
      possible and therefore is beneficial in preventing each
      individual from losing trust towards the event
      organizer(s).</p>
      <p>In summary, this paper makes four major contributions:</p>
      <ul class="list-no-style">
        <li id="list1" label="•">We explore joint user- and event-
        driven stable social event organization through considering
        both user preferences and event preferences simultaneously.
        To the best of our knowledge, this is the first work to
        investigate SEO taking both user and event preferences into
        account.<br /></li>
        <li id="list2" label="•">We formulate <em>stable social
        event organization</em> (Stable-SEO) as an optimization
        problem that requires an assignment of users to events with
        the number of unstable users as small as possible, while
        satisfying the cardinality constraint of each
        event.<br /></li>
        <li id="list3" label="•">We prove the NP-hardness and
        polynomial time inapproximability of the stable social
        event organization problem, and then propose a heuristic
        greedy algorithm, <em>User-stable Greedy</em>, to solve the
        stable social event organization problem.<br /></li>
        <li id="list4" label="•">We conduct extensive experiments
        on two real-world datasets, Meetup and Plancast. The
        experimental results demonstrate the significant
        improvement of our proposed approach against several
        existing methods.<br /></li>
      </ul>
    </section>
    <section id="sec-6">
      <header>
        <div class="title-info">
          <h2><span class="section-number">2</span> Related
          Work</h2>
        </div>
      </header>
      <p>The Stable-SEO problem is closely related to Social Event
      Organization (SEO)&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0009">9</a>, <a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0016">16</a>], in which events are indifferent
      among users and the goal is to find an assignment of users to
      events that maximizes the total social welfare between users
      and events. Our Stable-SEO departs from SEO in focusing on
      the goal of finding an assignment that involves minimum
      number of unstable users when events or their organizers have
      different preferences over different users. First of all,
      Li&nbsp;et&nbsp;al.’s work does not focus on any stability
      issues and therefore can not solve our Stable-SEO problem.
      Second, we argue that the stability of an assignment is much
      more a crucial criteria for evaluating the “goodness” of the
      assignment – the property of stability becomes
      extraordinarily important when activities (or their
      organizers) have different innate affinities towards
      different users. This is because the maximization of overall
      social welfare (Li&nbsp;et&nbsp;al.’s work) <em>may disregard
      individualistic needs for certain users</em> who “sacrifice”
      themselves for the sake of total “happiness” of all users,
      and therefore make stability indeed a desired property to
      have – if an event organization does not have that,
      participants will tend to switch to other events and have
      less faith in the organizers.</p>
      <p>Aside from the SEO problem, Stable-SEO is also related to
      the stable matching problem (SMP)&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0004">4</a>] in which the objective is
      to find a stable matching between men and women, where all
      men and women have preferences over members of the opposite
      sex. For a stable matching, there must be no man-woman pair
      such that both of them have the preference to exchange each
      other with their currently matched partners. Gale and Shapley
      give a polynomial algorithm to find such a stable matching
      for any instance of SMP. Many variants of SMP have been
      widely studied&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0006">6</a>, <a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0011">11</a>, <a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0015">15</a>, <a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0018">18</a>, <a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0019">19</a>, <a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0020">20</a>], among which the Stable Matching
      with Master List (SM-ML)&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0011">11</a>] and the National Resident Matching
      Problem (NRMP)&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0019">19</a>] have particular close connections
      with Stable-SEO. The SM-ML problem is a natural extension of
      the vanilla SMP in which the preferences of men, women, or
      both, are derived from a <em>master</em> preference list.
      SM-ML has real-world applications in which users are ranked
      according to some objective criteria or a shared common
      criterion of users on the opposite side.
      Irving&nbsp;et&nbsp;al. &nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0011">11</a>] give a formal definition that a
      master list of men (resp. women) is a single list containing
      every man (resp. woman), and each woman's (resp. man's)
      preference list contains her (resp. his) partners ranked
      precisely according to the master list. NRMP, on the other
      hand, is a many-to-one extension of SMP where men are
      regarded as residents and women as hospitals. Every hospital
      has a maximum quota that bounds the maximum number of
      residents being served in the hospital. NRMP can be reduced
      to SMP through replacing each quota-<em>q</em> hospital by
      <em>q</em> copies of quota-1 hospitals, resulting in the fact
      that most conclusions established for SMP can be carried over
      to NRMP&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0006">6</a>]. We remark that both SM-ML and NRMP
      are special cases of Stable-SEO even when no user-user social
      affinities which act as a key component in Stable-SEO are
      taken into consideration:</p>
      <ul class="list-no-style">
        <li id="list5" label="•">Stable-SEO reduces to SM-ML (with
        users regarded as entities in the master list and events
        regarded as entities on the other side) when no user-user
        social affinities are considered and each event has a
        maximum quota of 1 and a minimum quota of 1.<br /></li>
        <li id="list6" label="•">Stable-SEO reduces to NRMP (with
        users regarded as residents and events regarded as
        hospitals) when no user-user social affinities are
        considered and each event has a minimum quota of 0, plus a
        master list of users.<br /></li>
      </ul>
      <p>Stable-SEO and the problem of recommending item(s) to a
      group of users&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0001">1</a>] (with events treated as items) share
      some common properties as well when we know which group of
      users will attend a certain unknown event together ahead of
      time. However, in our problem, we do not know the sets of
      users who will attend an event together (i.e., membership of
      the users in a group) in advance, and the goal of Stable-SEO
      is to find such sets of users by considering not only the
      innate affinities but also the social affinities. Stable-SEO
      is also related to recommending groups to
      users&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href="#BibPLXBIB0021">21</a>]
      when groups of people will for sure attend some certain
      events and the remaining users have not yet decided which
      event to attend, information about both of which is
      unfortunately unknown and unavailable to us. Furthermore,
      another important difference which distinguishes Stable-SEO
      from recommending items to group of users and recommending
      groups to users is that Stable-SEO cares about the property
      of <em>stability</em> while neither of the two recommendation
      problems do.</p>
    </section>
    <section id="sec-7">
      <header>
        <div class="title-info">
          <h2><span class="section-number">3</span> Joint User- and
          Event- Driven Stable Social Event Organization</h2>
        </div>
      </header>
      <p>Joint user- and event- driven stable social event
      organization, with both user preferences (towards events) and
      event preferences (towards users) being considered, makes
      instabilities in SEO become NP-hard to deal with. To tackle
      this challenge, we concretely describe the problem of stable
      social event organization (Stable-SEO) in this section. We
      first briefly introduce some preliminary knowledge about SEO,
      then give a formal formulation of Stable-SEO as a discrete
      optimization problem, followed by the illustration of its
      hardness and polynomial time inapproximation.</p>
      <section id="sec-8">
        <header>
          <div class="title-info">
            <h3><span class="section-number">3.1</span>
            Preliminary</h3>
          </div>
        </header>
        <p>Consider a setting where a company is organizing an
        offsite event and we want to divide employees into smaller
        groups and each group will participate in an activity. A
        similar scenario happens in a large conference or
        convention, where the organizers may want to assign small
        groups of attendees to a set of social activities, to
        promote networking or enhance professional
        relationships.</p>
        <p>The Social Event Organization (SEO) problem posed
        in&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
        "popover" data-placement="top" href=
        "#BibPLXBIB0016">16</a>] aims to address the above
        mentioned scenario. This problem is defined as follows.</p>
        <ul class="list-no-style">
          <li id="list7" label="•"><em>U</em> is a set of
          <em>users</em> who are awaiting activity assignments. We
          are also given a social network, represented by an
          undirected graph <em>G</em> = (<em>U</em>, <em>E</em>).
          If user <em>u</em> and user <em>v</em> are friends, there
          is an edge (<em>u</em>, <em>v</em>) ∈
          <em>E</em>.<br /></li>
          <li id="list8" label="•"><em>A</em> is a set of
          <em>activities</em> to be assigned. For each activity
          <em>a</em> ∈ <em>A</em>, there are two cardinality
          constraints: First, <em>γ<sub>a</sub></em> is the lower
          bound, i.e., there must be at least
          <em>γ<sub>a</sub></em> users assigned to <em>a</em>.
          Second, <em>δ<sub>a</sub></em> is the upper bound, i.e.,
          the number of assignees must not exceed
          <em>δ<sub>a</sub></em> . For example, if <em>a</em> is
          chess, then <em>γ<sub>a</sub></em> =
          <em>δ<sub>a</sub></em> = 2; if <em>a</em> is table
          tennis, then <em>γ<sub>a</sub></em> = 2 (single match)
          and <em>δ<sub>a</sub></em> = 4 (double match); if
          <em>a</em> is outdoor movie, then <em>γ<sub>a</sub></em>
          = 0 and <em>δ<sub>a</sub></em> = ∞.<br /></li>
          <li id="list9" label="•">There is a user-activity
          affinity function <span class=
          "inline-equation"><span class="tex">$\sigma : U \times A
          \rightarrow \mathbb {R}$</span></span> , such that
          <em>σ</em>(<em>u</em>, <em>a</em>) is the innate affinity
          <em>u</em> has for <em>a</em>.<br /></li>
          <li id="list10" label="•">There is also a user-user
          affinity function <span class=
          "inline-equation"><span class="tex">$\omega : U \times U
          \rightarrow \mathbb {R}$</span></span> , such that
          <em>ω</em>(<em>u</em>, <em>v</em>) is the social affinity
          between user <em>u</em> and user <em>v</em>. We note that
          social affinity is symmetric, i.e., for all <em>u</em>,
          <em>v</em> ∈ <em>U</em>, <em>ω</em>(<em>u</em>,
          <em>v</em>) = <em>ω</em>(<em>v</em>,
          <em>u</em>).<br /></li>
          <li id="list11" label="•">Let <em>S<sub>a</sub></em>
          denote the set of users assigned to activity <em>a</em>
          under assignment <em>M</em>, then the social welfare of
          <em>a</em> produced by this assignment is:
            <div class="table-responsive" id="eq1">
              <div class="display-equation">
                <span class="tex mytex">\begin{align} \mu (S_a, a)
                &amp;= (1-\alpha)\cdot \sum \nolimits _{u\in S_a}
                \sigma (u,a) \nonumber \\ &amp;\quad + \alpha \cdot
                \sum \nolimits _{u,v\in S_a, u\ne v} \omega (u,v).
                \end{align}</span><br />
                <span class="equation-number">(1)</span>
              </div>
            </div><br />
          </li>
          <li id="list12" label="•">The SEO problem seeks an
          assignment <em>M</em>: <em>U</em> → <em>A</em>, such that
          the total social welfare of <em>M</em> over all
          activities
            <div class="table-responsive" id="eq2">
              <div class="display-equation">
                <span class="tex mytex">\begin{align} SW = \sum
                _{a\in A} \mu (S_a, a) \end{align}</span><br />
                <span class="equation-number">(2)</span>
              </div>
            </div>is maximized and for all <em>a</em> ∈ <em>A</em>,
            such that <em>S<sub>a</sub></em> ≠ ∅, the cardinality
            constraints are satisfied: <em>γ<sub>a</sub></em> ≤
            |<em>S<sub>a</sub></em> | ≤ <em>δ<sub>a</sub></em>
            .<br />
          </li>
        </ul>
        <p>The solution proposed in&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0016">16</a>] assumes the innate
        affinities of activities (or their organizers) towards all
        users to be the same, i.e., activities (or their
        organizers) are indifferent to different users, although in
        many cases activities (or their organizers) may also have
        preference to see certain kinds of users participate in
        some activities over others. For instance, it is natural to
        assume that activity organizers tend to prefer attendees
        with a higher level of activity, attendees with a broader
        interest and so on. Furthermore, maximizing the total
        social welfare has the disadvantage of ignoring certain
        users’ individualistic needs, making them “sacrifice”
        themselves and end up missing those more attractive
        activities which also prefer them more.</p>
      </section>
      <section id="sec-9">
        <header>
          <div class="title-info">
            <h3><span class="section-number">3.2</span> Stable
            Social Event Organization</h3>
          </div>
        </header>
        <p>Stable-SEO considers a more general case where
        activities (or their organizers) have different innate
        affinities towards different users, i.e., activities (or
        their organizers) may have preference to see certain users
        participate in some activities, and by optimizing an
        objective related to stability.</p>
        <p>In addition to the user-activity innate affinity and
        user-user social affinity, we introduce an additional
        affinity function for the activity-user affinity:</p>
        <ul class="list-no-style">
          <li id="list13" label="•">The activity-user affinity
          function <span class="inline-equation"><span class=
          "tex">$\kappa : A \times U \rightarrow \mathbb
          {R}$</span></span> , such that <em>κ</em>(<em>a</em>,
          <em>u</em>) is the innate affinity <em>a</em> has for
          <em>u</em>.<br /></li>
        </ul>
        <p>Let <em>S<sub>a</sub></em> denote the set of users
        assigned to activity <em>a</em>, and we define the
        user-activity utility of user <em>u</em> towards activity
        <em>a</em> for assigning <em>u</em> to <em>a</em> as:</p>
        <div class="table-responsive" id="eq3">
          <div class="display-equation">
            <span class="tex mytex">\begin{align} \varphi (u,a) =
            (1-\alpha)\cdot \sigma (u,a) + \alpha \cdot \sum
            \nolimits _{v\in S_a} \omega (u,v),
            \end{align}</span><br />
            <span class="equation-number">(3)</span>
          </div>
        </div>and the activity-user utility of activity <em>a</em>
        towards user <em>u</em> for assigning <em>u</em> to
        <em>a</em> as:
        <div class="table-responsive" id="eq4">
          <div class="display-equation">
            <span class="tex mytex">\begin{align} \vartheta (a,u) =
            \kappa (a,u). \end{align}</span><br />
            <span class="equation-number">(4)</span>
          </div>
        </div>We note that the user-activity utility ϕ(<em>u</em>,
        <em>a</em>) is a weighted combination of the innate
        affinity of <em>u</em> towards <em>a</em> and the sum of
        <em>u</em>’s pairwise social affinities with the other
        users assigned to <em>a</em>. The activity-user utility
        ϑ(<em>a</em>, <em>u</em>) equals to <em>κ</em>(<em>a</em>,
        <em>u</em>), the innate affinity of <em>a</em> towards
        <em>u</em>. Consistent with&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0016">16</a>], an assignment
        <em>M</em> is defined as a mapping from <em>U</em> to
        <em>A</em>, i.e., <em>U</em> → <em>A</em>. We further
        define <em>M</em> <sup>− 1</sup>(<em>a</em>) as the set of
        users assigned to <em>a</em>, i.e., <em>M</em> <sup>−
        1</sup>(<em>a</em>) = {<em>u</em> ∈
        <em>U</em>|<em>M</em>(<em>u</em>) = <em>a</em>} for
        <em>a</em> ∈ <em>A</em>. An assignment <em>M</em> is said
        to be <em>feasible</em> if all its cardinality constraints
        are satisfied, i.e., ∀<em>a</em> ∈ <em>A</em> for which
        <em>M</em> <sup>− 1</sup>(<em>a</em>) ≠ <em>ϕ</em>, we have
        <em>γ<sub>a</sub></em> ≤ |<em>M</em> <sup>−
        1</sup>(<em>a</em>)| ≤ <em>δ<sub>a</sub></em> . Now we give
        the formal definition of stable assignment under the stable
        social event organization problem as follows.
        <p></p>
        <div class="definition" id="enc1">
          <label>Definition 3.1.</label>
          <p>Assignment <em>M</em> in a stable social event
          organization instance is stable if there is no
          user-activity pair (<em>u</em>, <em>a</em>) such that</p>
          <p></p>
          <ul class="list-no-style">
            <li id="list14" label="•"><em>M</em>(<em>u</em>) =
            <em>ϕ</em> ∨ ϕ(<em>u</em>, <em>a</em>) &gt;
            ϕ(<em>u</em>, <em>M</em>(<em>u</em>))<br /></li>
            <li id="list15" label="•">|<em>M</em> <sup>−
            1</sup>(<em>a</em>)| &lt; <em>δ<sub>a</sub></em>
             ∨ ∃<em>v</em> ∈ <em>M</em> <sup>−
            1</sup>(<em>a</em>)∧ϑ(<em>a</em>, <em>u</em>) &gt;
            ϑ(<em>a</em>, <em>v</em>).<br /></li>
          </ul>
          <p></p>
        </div>
        <p>The two conditions above can be expressed as follows in
        plain English:</p>
        <ul class="list-no-style">
          <li id="list16" label="•">User <em>u</em> is either not
          assigned to any activity or prefers <em>a</em> to the
          activity that she is currently assigned to.<br /></li>
          <li id="list17" label="•">Activity <em>a</em> either has
          an unfilled position or prefers <em>u</em> to at least
          one of the users assigned to it.<br /></li>
        </ul>
        <div class="definition" id="enc2">
          <label>Definition 3.2.</label>
          <p>A user-activity pair satisfying the two conditions in
          Definition&nbsp;<a class="enc" href="#enc1">3.1</a> is an
          unstable pair.</p>
        </div>
        <div class="definition" id="enc3">
          <label>Definition 3.3.</label>
          <p>A user in an unstable pair is an unstable user.</p>
        </div>
        <p>The objective of stable social event organization is to
        find a feasible assignment of a set of users to a set of
        events, in which the number of unstable users is
        minimized.</p>
        <div class="lemma" id="enc4">
          <label>Lemma 3.4.</label>
          <p>A solution to SEO is not necessarily stable.</p>
        </div>
        <div class="proof" id="proof1">
          <label>Proof.</label>
          <p>We prove Lemma&nbsp;<a class="enc" href=
          "#enc4">3.4</a> through giving an example. Assume the
          example contains six users <em>u</em> <sub>1</sub>, ⋅⋅⋅,
          <em>u</em> <sub>6</sub> and two events/activities
          <em>a</em> <sub>1</sub>, <em>a</em> <sub>2</sub> where
          <span class="inline-equation"><span class="tex">$\gamma
          _{a_1} = \delta _{a_1} = 3, \gamma _{a_2} = \delta _{a_2}
          = 3$</span></span> . Table&nbsp;<a class="tbl" href=
          "#tab1">1</a>,&nbsp;<a class="tbl" href="#tab2">2</a>
          &amp;&nbsp;<a class="tbl" href="#tab3">3</a> show the
          activity-user innate affinities <em>κ</em>(·, ·),
          user-activity innate affinities <em>σ</em>(·, ·) and
          user-user social affinities <em>ω</em>(·, ·) for users
          and events respectively. As the SEO problem proposed
          in&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
          "popover" data-placement="top" href=
          "#BibPLXBIB0016">16</a>] assumes the activities (or their
          organizers) are indifferent to different users, the
          social welfare of an activity defined in&nbsp;(<a class=
          "eqn" href="#eq1">1</a>) does not contain the
          activity-user innate affinities <em>κ</em>(·, ·). One way
          to cast the activity-user innate affinity into SEO could
          be to add an additional term <em>κ</em>(·, ·) after each
          user-activity innate affinity <em>σ</em>(·, ·), resulting
          in a modified social welfare function
          <em>μ</em>(<em>S<sub>a</sub></em> , <em>a</em>),</p>
          <div class="table-responsive" id="eq5">
            <div class="display-equation">
              <span class="tex mytex">\begin{align} \mu (S_a, a)
              &amp;= (1-\alpha)\cdot \sum \nolimits _{u\in S_a}
              \Big [ \sigma (u,a) + \kappa (a,u) \Big ] \nonumber
              \\ &amp;\quad + \alpha \cdot \sum \nolimits _{u,v\in
              S_a, u\ne v} \omega (u,v). \end{align}</span><br />
              <span class="equation-number">(5)</span>
            </div>
          </div>However, we note that as shown in
          Table&nbsp;<a class="tbl" href="#tab1">1</a>, <em>a</em>
          <sub>1</sub> and <em>a</em> <sub>2</sub> have exactly the
          same activity-user innate affinities for different users
          in our example, so that the values of
          <em>κ</em>(<em>a</em>, <em>u</em>) will not affect the
          summation of <em>μ</em>(<em>S<sub>a</sub></em> ,
          <em>a</em>) over <em>a</em> <sub>1</sub> and <em>a</em>
          <sub>2</sub>, i.e., the total social welfare ∑
          <sub><em>a</em> ∈ <em>A</em></sub>
          <em>μ</em>(<em>S<sub>a</sub></em> , <em>a</em>) as
          defined in&nbsp;(<a class="eqn" href="#eq2">2</a>), no
          matter how the users are assigned to <em>a</em>
          <sub>1</sub> and <em>a</em> <sub>2</sub>. In other words,
          if the total social welfare with
          <em>μ</em>(<em>S<sub>a</sub></em> , <em>a</em>) defined
          according to&nbsp;(<a class="eqn" href="#eq1">1</a>) is
          maximized, then it will also be a maximum with
          <em>μ</em>(<em>S<sub>a</sub></em> , <em>a</em>) defined
          according to&nbsp;(<a class="eqn" href="#eq5">5</a>).
          <p></p>
          <div class="table-responsive" id="tab1">
            <div class="table-caption">
              <span class="table-number">Table 1:</span>
              <span class="table-title">Activity-user innate
              affinities.</span>
            </div>
            <table class="table">
              <thead>
                <tr>
                  <th style="text-align:center;"></th>
                  <th style="text-align:center;"><em>u</em>
                  <sub>1</sub></th>
                  <th style="text-align:center;"><em>u</em>
                  <sub>2</sub></th>
                  <th style="text-align:center;"><em>u</em>
                  <sub>3</sub></th>
                  <th style="text-align:center;"><em>u</em>
                  <sub>4</sub></th>
                  <th style="text-align:center;"><em>u</em>
                  <sub>5</sub></th>
                  <th style="text-align:center;"><em>u</em>
                  <sub>6</sub></th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td style="text-align:center;"><em>a</em>
                  <sub>1</sub></td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">2</td>
                  <td style="text-align:center;">3</td>
                  <td style="text-align:center;">4</td>
                  <td style="text-align:center;">5</td>
                  <td style="text-align:center;">6</td>
                </tr>
                <tr>
                  <td style="text-align:center;"><em>a</em>
                  <sub>2</sub></td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">2</td>
                  <td style="text-align:center;">3</td>
                  <td style="text-align:center;">4</td>
                  <td style="text-align:center;">5</td>
                  <td style="text-align:center;">6</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="table-responsive" id="tab2">
            <div class="table-caption">
              <span class="table-number">Table 2:</span>
              <span class="table-title">User-activity innate
              affinities.</span>
            </div>
            <table class="table">
              <thead>
                <tr>
                  <th style="text-align:center;"></th>
                  <th style="text-align:center;"><em>a</em>
                  <sub>1</sub></th>
                  <th style="text-align:center;"><em>a</em>
                  <sub>2</sub></th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td style="text-align:center;"><em>u</em>
                  <sub>1</sub></td>
                  <td style="text-align:center;">21</td>
                  <td style="text-align:center;">10</td>
                </tr>
                <tr>
                  <td style="text-align:center;"><em>u</em>
                  <sub>2</sub></td>
                  <td style="text-align:center;">10</td>
                  <td style="text-align:center;">1</td>
                </tr>
                <tr>
                  <td style="text-align:center;"><em>u</em>
                  <sub>3</sub></td>
                  <td style="text-align:center;">10</td>
                  <td style="text-align:center;">1</td>
                </tr>
                <tr>
                  <td style="text-align:center;"><em>u</em>
                  <sub>4</sub></td>
                  <td style="text-align:center;">19</td>
                  <td style="text-align:center;">10</td>
                </tr>
                <tr>
                  <td style="text-align:center;"><em>u</em>
                  <sub>5</sub></td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">10</td>
                </tr>
                <tr>
                  <td style="text-align:center;"><em>u</em>
                  <sub>6</sub></td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">11</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="table-responsive" id="tab3">
            <div class="table-caption">
              <span class="table-number">Table 3:</span>
              <span class="table-title">User-user social
              affinities.</span>
            </div>
            <table class="table">
              <thead>
                <tr>
                  <th style="text-align:center;"></th>
                  <th style="text-align:center;"><em>u</em>
                  <sub>1</sub></th>
                  <th style="text-align:center;"><em>u</em>
                  <sub>2</sub></th>
                  <th style="text-align:center;"><em>u</em>
                  <sub>3</sub></th>
                  <th style="text-align:center;"><em>u</em>
                  <sub>4</sub></th>
                  <th style="text-align:center;"><em>u</em>
                  <sub>5</sub></th>
                  <th style="text-align:center;"><em>u</em>
                  <sub>6</sub></th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td style="text-align:center;"><em>u</em>
                  <sub>1</sub></td>
                  <td style="text-align:center;">/</td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">1</td>
                </tr>
                <tr>
                  <td style="text-align:center;"><em>u</em>
                  <sub>2</sub></td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">/</td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">1</td>
                </tr>
                <tr>
                  <td style="text-align:center;"><em>u</em>
                  <sub>3</sub></td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">/</td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">1</td>
                </tr>
                <tr>
                  <td style="text-align:center;"><em>u</em>
                  <sub>4</sub></td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">/</td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">1</td>
                </tr>
                <tr>
                  <td style="text-align:center;"><em>u</em>
                  <sub>5</sub></td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">/</td>
                  <td style="text-align:center;">1</td>
                </tr>
                <tr>
                  <td style="text-align:center;"><em>u</em>
                  <sub>6</sub></td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">1</td>
                  <td style="text-align:center;">/</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p>We will still adopt the original definition
          in&nbsp;(<a class="eqn" href="#eq1">1</a>) to compute
          <em>μ</em>(<em>S<sub>a</sub></em> , <em>a</em>) for the
          sake of succinctness in the example. First of all, we can
          only assign three users to each of the two activities in
          order to satisfy the cardinality constraints, and the
          assignment <em>M</em> which maximizes the overall social
          welfare <em>SW</em> according to&nbsp;(<a class="eqn"
          href="#eq2">2</a>) is as follows: <span class=
          "inline-equation"><span class="tex">$S_{a_1} = \lbrace
          u_1,u_2,u_3\rbrace$</span></span> , <span class=
          "inline-equation"><span class="tex">$S_{a_2} = \lbrace
          u_4, u_5, u_6\rbrace$</span></span> . On the other hand,
          it is easy to calculate that ϕ(<em>u</em> <sub>4</sub>,
          <em>a</em> <sub>1</sub>) = 10.5 &gt; ϕ(<em>u</em>
          <sub>4</sub>, <em>a</em> <sub>2</sub>) = 6 and
          ϑ(<em>a</em> <sub>1</sub>, <em>u</em> <sub>4</sub>) = 4
          &gt; ϑ(<em>a</em> <sub>1</sub>, <em>u</em> <sub>1</sub>)
          = 1. By Definition&nbsp;<a class="enc" href=
          "#enc1">3.1</a>, (<em>u</em> <sub>4</sub>, <em>a</em>
          <sub>1</sub>) is an unstable pair and thus assignment
          <em>M</em> which maximizes the overall social welfare is
          not stable. Now let's consider another assignment
          <em>M</em>′ where <span class=
          "inline-equation"><span class="tex">$S_{a_1} = \lbrace
          u_2,u_3,u_4\rbrace$</span></span> , <span class=
          "inline-equation"><span class="tex">$S_{a_2} = \lbrace
          u_1, u_5, u_6\rbrace$</span></span> , which is stable by
          Definition&nbsp;<a class="enc" href="#enc1">3.1</a>, and
          we have <em>SW</em>(<em>M</em>′) = 38 &lt;
          <em>SW</em>(<em>M</em>) = 39 by&nbsp;(<a class="eqn"
          href="#eq1">1</a>) and&nbsp;(<a class="eqn" href=
          "#eq2">2</a>).</p>
          <p>It is therefore sufficient to conclude that an
          assignment maximizing the overall social welfare defined
          in&nbsp;(<a class="eqn" href="#eq2">2</a>) may not be
          stable by Definition&nbsp;<a class="enc" href=
          "#enc1">3.1</a>. □</p>
        </div>
        <p>In stable social event organization problem, we use
        user-activity utility ϕ(<em>u</em>, <em>a</em>) and
        activity-user utility ϑ(<em>a</em>, <em>u</em>) to simulate
        the extend to which user <em>u</em> is interested in
        activity <em>a</em> and how the organizers of activity
        <em>a</em> like user <em>u</em>, which follows a natural
        intuition. The individual utility of a user towards an
        activity increases when her innate affinity towards this
        activity, as well as the sum of her pairwise social
        affinities towards those who will also attend the same
        activity, increases. The definition of user-activity
        utility just simply follows this intuition. Though other
        different definitions can also be applied to the
        user-activity utility and activity-user utility, we remark
        that this is orthogonal to our focus in this work and can
        be further investigated in future work. The problem of
        stable social event organization is formally defined in the
        following.</p>
        <div class="problem" id="enc5">
          <label>Problem 1.</label>
          <p>Stable Social Event Organization (Stable-SEO)</p>
          <p>Given a set of users <em>U</em>, a set of events
          <em>A</em> where for each <em>a</em> ∈ <em>A</em>, there
          is a minimum quota <span class=
          "inline-equation"><span class="tex">$\gamma _a \in
          \mathbb {N}$</span></span> and a maximum quota
          <span class="inline-equation"><span class="tex">$\delta
          _a \in \mathbb {N}$</span></span> such that
          <em>γ<sub>a</sub></em> ≤ <em>δ<sub>a</sub></em> , a
          user-user social graph <em>G</em> = (<em>U</em>,
          <em>E</em>), a user-activity affinity function
          <em>σ</em>(·, ·), an activity-user affinity function
          <em>κ</em>(·, ·) and a user-user affinity function
          <em>ω</em>(·, ·), find a feasible assignment <em>M</em>:
          <em>U</em> → <em>A</em> with the minimum number of
          unstable users.</p>
        </div>
        <p>We would like to point out that minimizing the number of
        unstable pairs defined in Definition&nbsp;<a class="enc"
        href="#enc2">3.2</a> may serve as an alternative objective
        for the stable social event organization problem. However,
        consider two cases, one with ten different users involved
        in ten unstable pairs and the other with one user involved
        in ten unstable pairs. It is natural to assume that the
        later case is more desirable than the former one in
        practice because we always prefer having less unsatisfied
        users (e.g., one rather than ten) in real-world
        (user-centric) applications. Therefore, we choose to
        minimize the number of unstable users instead of unstable
        pairs in this paper.</p>
        <p>In applications such as a company organizing an offsite
        gathering and a research community hosting a scientific
        conference where all the activities share the same group of
        organizers, it is reasonable to assume that all the
        activities have the same activity-user utilities towards
        the attendees, similar to the above example shown in
        Table&nbsp;<a class="tbl" href="#tab1">1</a>. Moreover, it
        will always be helpful to have an objective criterion for
        activity-user utility, such as how active the user is and
        how many events she has taken part in already – not every
        individual organizer is willing to generate the
        activity-user utility by herself. To make the stable social
        event organization problem less complex and more practical
        for real-world applications, we assume a common list of
        activity-user utilities for each instance and show that
        even the problem of stable social event organization with
        one common activity-user utility list is still very hard to
        solve in polynomial time in&nbsp;<a class="sec" href=
        "#sec-10">3.3</a>.</p>
      </section>
      <section id="sec-10">
        <header>
          <div class="title-info">
            <h3><span class="section-number">3.3</span> NP-Hardness
            of Stable-SEO</h3>
          </div>
        </header>
        <p>The first question to ask is that can Stable-SEO be
        solved in polynomial time? Unfortunately, we have a
        negative conclusion that the problem of stable social event
        organization is NP-hard. We give a polynomial-time
        reduction from the Hospitals / Residents Problem with
        Minimum Quota (HRMQ)&nbsp;[<a class="bib" data-trigger=
        "hover" data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0007">7</a>] which receives lots of attention as
        a hard variant of the classic Hospitals / Residents Problem
        (HR)&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
        "popover" data-placement="top" href=
        "#BibPLXBIB0004">4</a>]. In HR, there are two sets, one is
        a set of residents and the other is a set of hospitals.
        Each resident has a preference list containing a rank of
        all hospitals in an non-increasing order and each hospital
        has a similar preference list towards all residents. Every
        hospital has an additional maximum quota, so that it can
        receive up to the quota number of residents. Then the
        objective is to find a feasible and stable matching between
        the set of residents and hospitals such that the number of
        residents assigned to each hospital will not exceed its
        maximum quota. Hamada&nbsp;et&nbsp;al. &nbsp;[<a class=
        "bib" data-trigger="hover" data-toggle="popover"
        data-placement="top" href="#BibPLXBIB0007">7</a>] are the
        first to introduce the concept of minimum quota, followed
        by Huang&nbsp;et&nbsp;al. &nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0008">8</a>] and
        Biró&nbsp;et&nbsp;al. &nbsp;[<a class="bib" data-trigger=
        "hover" data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0002">2</a>]. Although Gale and
        Shapley&nbsp;[<a class="bib" data-trigger="hover"
        data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0004">4</a>] show that the problem of HR with
        only maximum quota can be solved efficiently in polynomial
        time, Hamada&nbsp;et&nbsp;al. &nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0007">7</a>] prove that it is NP-hard
        to find a feasible and stable matching that has the minimum
        number of unstable residents even if all the hospitals
        share a common preference list of all residents (i.e., a
        master list as stated in the original work).</p>
        <div class="theorem" id="enc6">
          <label>Theorem 3.5.</label>
          <p>Stable Social Event Organization is NP-hard.</p>
        </div>
        <div class="proof" id="proof2">
          <label>Proof.</label>
          <p>Hamada&nbsp;et&nbsp;al. &nbsp;[<a class="bib"
          data-trigger="hover" data-toggle="popover"
          data-placement="top" href="#BibPLXBIB0007">7</a>] show
          that the problem of minimizing the number of unstable
          residents in HRMQ with a master list of residents
          (denoted as Min-ML-HRMQ) is NP-hard through a
          polynomial-time reduction from CLIQUE, a NP-complete
          problem, in which given a graph <em>G</em> = (<em>V</em>,
          <em>E</em>) and a positive integer <em>K</em> ≤
          |<em>V</em>|, we are asked if <em>G</em> has a complete
          subgraph with <em>K</em> vertices. They complete the
          proof by building a large gap between the “yes” instance
          and “no” instance of CLIQUE.</p>
          <p>An instance of Min-ML-HRMQ can be obtained from an
          instance of Stable-SEO which totally ignores the social
          affinities between users, i.e., setting
          <em>ω</em>(<em>u</em>, <em>v</em>) = 0 for all
          <em>u</em>, <em>v</em> ∈ <em>U</em> and <em>α</em> = 0.
          The two sets of events/activities and users are hospitals
          and residents, with the cardinality constraints becoming
          the maximum and minimum quota. A preference list of
          events/activities can be constructed by ranking
          user-activity utilities in a non-increasing order with
          ties broken arbitrarily for each user and the master
          preference list of users can be similarly formed through
          ranking activity-user utilities for events/activities as
          well. Thus Min-ML-HRMQ is isomorphic to a special case of
          Stable-SEO where all user-user social affinities are
          zero, indicating that the hardness of Min-ML-HRMQ
          directly carries over to Stable-SEO.</p>
        </div>
        <p>After obtaining the hardness result of Stable-SEO, it is
        important to ask about the hardness of approximating
        Stable-SEO. Besides the NP-hardness, we are also able to
        show a strong evidence for the inapproximability of Stable
        SEO through relating the approximability of Stable SEO to
        the approximability of <em>Dense <em>k</em>-Subgraph
        Problem (D<em>k</em>S)</em>. The <em>Dense
        <em>k</em>-Subgraph Problem (D<em>k</em>S)</em> is that
        given a graph <em>G</em> and a positive integer <em>k</em>,
        find an induced subgraph of <em>G</em> with <em>k</em>
        nodes which includes as many edges as possible.
        D<em>k</em>S is a NP-hard problem whose approximability has
        been widely studied. However, the gap between the
        approximability and inapproximability of D<em>k</em>S still
        remains large, and there have been no polynomial-time
        approximation schemes for D<em>k</em>S reported so
        far&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
        "popover" data-placement="top" href="#BibPLXBIB0003">3</a>,
        <a class="bib" data-trigger="hover" data-toggle="popover"
        data-placement="top" href="#BibPLXBIB0014">14</a>].
        Theorem&nbsp;<a class="enc" href="#enc7">3.6</a> indicates
        that approximating Stable-SEO is equivalent to
        approximating D<em>k</em>S.</p>
        <div class="theorem" id="enc7">
          <label>Theorem 3.6.</label>
          <p>If the Dense k-Subgraph Problem (DkS) does not have
          any polynomial-time approximation algorithm, then Stable
          Social Event Organization has no polynomial-time
          approximation.</p>
        </div>
        <div class="proof" id="proof3">
          <label>Proof.</label>
          <p>Again, we start from the subproblem of Stable-SEO in
          which <em>ω</em>(<em>u</em>, <em>v</em>) = 0 for all
          <em>u</em>, <em>v</em> ∈ <em>U</em> and <em>α</em> = 0.
          The reduction of Min-ML-HRMQ from Stable-SEO is the same
          as in the proof of Theorem&nbsp;<a class="enc" href=
          "#enc6">3.5</a>.</p>
        </div>
        <div class="lemma" id="enc8">
          <label>Lemma 3.7.</label>
          <p>If Min-ML-HRMQ has a polynomial-time c-approximation
          algorithm, then D<em>k</em>S has a polynomial-time (1 +
          ϵ)<em>c</em> <sup>4</sup>-approximation algorithm for any
          positive constant ϵ.</p>
        </div>
        <p>The above Lemma&nbsp;<a class="enc" href="#enc8">3.7</a>
        is proved in&nbsp;[<a class="bib" data-trigger="hover"
        data-toggle="popover" data-placement="top" href=
        "#BibPLXBIB0007">7</a>], and by taking its
        converse-negative proposition, it is clear that the
        hardness of approximation carries from D<em>k</em>S through
        Min-ML-HRMQ to our Stable-SEO problem.</p>
        <p>As a conclusion for the hardness results in this
        section, it is unlikely to approximate Stable-SEO within a
        constant ratio in polynomial time unless the
        inapproximability for D<em>k</em>S breaks down. We remark
        that the hardness of Stable-SEO is proved through showing
        the hardness of a subproblem of Stable-SEO, which means the
        full problem of Stable-SEO may be even more difficult.</p>
      </section>
    </section>
    <section id="sec-11">
      <header>
        <div class="title-info">
          <h2><span class="section-number">4</span> The
          Algorithm</h2>
        </div>
      </header>
      <p>Given the strong evidence for the inapproximability of
      Stable-SEO, we propose a heuristic greedy algorithm to solve
      the Stable-SEO problem in this section. Before introducing
      various solutions in detail, we first describe some common
      settings shared by the algorithms in this section.</p>
      <p><strong>Available</strong>. An activity <em>a</em> is said
      to be <em>available</em> if the number of users assigned to
      <em>a</em> has not exceeded its maximum quota, i.e.,
      |<em>S<sub>a</sub></em> | &lt; <em>δ<sub>a</sub></em> . A
      user <em>u</em> is regarded as <em>available</em> if she has
      not been assigned to any activity.</p>
      <p><strong>User's List and Activity's List</strong>. Without
      loss of generality, we generate a user-activity utility list
      of activities for each user by ranking this user's
      user-activity utilities in a non-increasing order with ties
      broken arbitrarily and generate an activity-user utility list
      of users for all activities by ranking their common
      activity-user utilities in the same way. In our problem
      setting, the activity-user utility list contains all users
      and every user-activity utility list contains all activities,
      i.e., all of the utility lists are complete. For ease of
      reading, user's user-activity list and activity's
      activity-user list are referred to user's list and activity's
      list respectively when there is no confusion.</p>
      <p>We note that the user's list may be updated after each
      iteration in the algorithms except <em>Random</em> because
      the order of activities in a user's list depends not only on
      the user-activity innate affinities but also the user-user
      social affinities between this user and every user currently
      assigned to an activity, while the activity's list will
      always remain the same as no user-user social affinities are
      taken into consideration to determine the users’ orders in
      it.</p>
      <p><strong>General Algorithmic Procedure</strong>. For ease
      of understanding, we give a description about the high level
      ideas of the algorithms before drilling down into their
      details. Each user will have a (possibly) different
      user-activity list of all activities, <span class=
      "inline-equation"><span class="tex">$\mathcal
      {L}_{u}$</span></span> , given the current assignment. During
      each iteration of an algorithm, the user-activity list
      <span class="inline-equation"><span class="tex">$\mathcal
      {L}_{u}$</span></span> for each user may be updated and
      reordered if necessary. On the other hand, the common
      activity-user list <span class="inline-equation"><span class=
      "tex">$\mathcal {L}^*$</span></span> will remain unchanged
      during the whole running of the algorithm. Suppose the common
      activity-user utility list of all users for all activities is
      in the following order, <span class=
      "inline-equation"><span class="tex">$\mathcal {L}^*: u_1,
      u_2, \cdots , u_{|U|} \in U$</span></span> , the algorithm
      will then iterate through <em>u</em> <sub>1</sub> to
      <em>u</em> <sub>|<em>U</em>|</sub>. In the
      <em>i<sup>th</sup></em> iteration where 1 ≤ <em>i</em> ≤
      |<em>U</em>|, if <em>u<sub>i</sub></em> ’s list contains at
      least one available activity, then <em>u<sub>i</sub></em>
      will be assigned to the first available activity appearing on
      its list. It is possible to implement <span class=
      "inline-equation"><span class="tex">$\mathcal
      {L}_u$</span></span> (for each <em>u</em>) and <span class=
      "inline-equation"><span class="tex">$\mathcal
      {L}^*$</span></span> by a priority queue with its elements
      ranked in a non-increasing order with respect to their
      corresponding utilities. Last but not least, there will be a
      post-processing phase making sure that no cardinality
      constraints are violated, i.e., a feasible assignment is
      produced, and the details of the post-processing phase can
      vary a lot depending on different algorithms.</p>
      <section id="sec-12">
        <header>
          <div class="title-info">
            <h3><span class="section-number">4.1</span> Random</h3>
          </div>
        </header>
        <p><em>Random</em> is our first algorithm, and will be
        compared as a baseline in the experiments. The idea is to
        assign users randomly to activities and satisfy the
        cardinality constraints at the same time. To apply this
        strategy for solving Stable-SEO, <em>Random</em> algorithm
        first shuffles the common activity's list <span class=
        "inline-equation"><span class="tex">$\mathcal
        {L}^*$</span></span> for every activity and then shuffles
        the user's list <span class="inline-equation"><span class=
        "tex">$\mathcal {L}_{u}$</span></span> for each user
        <em>u</em>. It then iterates over each user through
        traversing the activity's list <span class=
        "inline-equation"><span class="tex">$\mathcal
        {L}^*$</span></span> , and assigns each user <em>u</em> to
        the first available activity <em>a</em>
        (i.e.,|<em>S<sub>a</sub></em> | &lt; <em>δ<sub>a</sub></em>
        ) on her list <span class="inline-equation"><span class=
        "tex">$\mathcal {L}_{u}$</span></span> , ignoring the
        minimum quota. Our definition of <em>available</em>
        guarantees that the number of users assigned to each
        activity will not exceed its maximum quota. In order to
        obtain a feasible assignment, we finally move users
        arbitrarily from activities with surplus (i.e., the number
        of assigned users larger than the minimum quota) to
        activities with deficit (i.e., the number of assigned users
        is smaller than the minimum quota) while not creating any
        new activity with deficit. Obviously, this is a naive
        baseline which randomly assigns users to activities without
        violating any cardinality constraint. <img src=
        "../../../data/deliveryimages.acm.org/10.1145/3190000/3186063/images/www2018-72-fig1.jpg"
        class="img-responsive" alt="" longdesc="" /> <img src=
        "../../../data/deliveryimages.acm.org/10.1145/3190000/3186063/images/www2018-72-fig2.jpg"
        class="img-responsive" alt="" longdesc="" /></p>
      </section>
      <section id="sec-13">
        <header>
          <div class="title-info">
            <h3><span class="section-number">4.2</span> Stable
            Greedy</h3>
          </div>
        </header>
        <p>We next introduce <em>Stable Greedy</em>, an algorithm
        that assigns users to activities taking both user-activity
        innate affinities and user-user pairwise social affinities
        into consideration. In particular, the activity's list
        <span class="inline-equation"><span class="tex">$\mathcal
        {L}^*$</span></span> with entry ⟨<em>u</em>, ϑ(<em>a</em>
        <sup>*</sup>, <em>u</em>)⟩ is ordered non-increasingly by
        the activity-user utility ϑ(·, ·) defined
        in&nbsp;(<a class="eqn" href="#eq4">4</a>), where
        <em>a</em> <sup>*</sup> denotes an arbitrary activity. For
        each user, the algorithm orders her user's list
        <span class="inline-equation"><span class="tex">$\mathcal
        {L}_u$</span></span> with entry ⟨<em>a</em>,
        <em>g</em>(<em>u</em>, <em>a</em>|<em>S<sub>a</sub></em> )⟩
        by a non-increasing user-activity potential utility under
        the current temporary assignment (possibly incomplete),
        which is defined as follows, <img src=
        "../../../data/deliveryimages.acm.org/10.1145/3190000/3186063/images/www2018-72-fig3.jpg"
        class="img-responsive" alt="" longdesc="" /></p>
        <div class="table-responsive" id="eq6">
          <div class="display-equation">
            <span class="tex mytex">\begin{align} g(u, a | S_a) =
            (1-\alpha)\cdot \sigma (u,a) + \alpha \cdot \sum
            \nolimits _{v\in S_a} \omega (u,v).
            \end{align}</span><br />
            <span class="equation-number">(6)</span>
          </div>
        </div>Although&nbsp;(<a class="eqn" href="#eq6">6</a>) has
        a very similar form to&nbsp;(<a class="eqn" href=
        "#eq3">3</a>), it should be noticed that ϕ(<em>u</em>,
        <em>a</em>) defined in&nbsp;(<a class="eqn" href=
        "#eq3">3</a>) is computed after the algorithm terminates,
        i.e., no more users will be assigned to activity <em>a</em>
        or any other activities. On the other hand,
        <em>g</em>(<em>u</em>, <em>a</em>|<em>S<sub>a</sub></em> )
        is calculated under the current incomplete assignment when
        the algorithm is still running, indicating that more users
        could be assigned to activity <em>a</em> and other
        activities in the future. We argue that
        <em>g</em>(<em>u</em>, <em>a</em>|<em>S<sub>a</sub></em> )
        in&nbsp;(<a class="eqn" href="#eq6">6</a>) and
        ϕ(<em>u</em>, <em>a</em>) in&nbsp;(<a class="eqn" href=
        "#eq3">3</a>) have different meanings, though they look
        similar. Apparently, the order of the common activity's
        list <span class="inline-equation"><span class=
        "tex">$\mathcal {L}^*$</span></span> will remain unchanged
        during the whole algorithm. At the beginning of the
        algorithm when no users are assigned to any activity, we
        have <em>g</em>(<em>u</em>,
        <em>a</em>|<em>S<sub>a</sub></em> ) =
        <em>g</em>(<em>u</em>, <em>a</em>|∅) = (1 − <em>α</em>) ·
        <em>σ</em>(<em>u</em>, <em>a</em>) for each pair of user
        and activity. As is shown by Procedure&nbsp; in
        line&nbsp;11 of Algroithm&nbsp;1, the first available user
        <em>u</em> (i.e., currently most preferred) on <span class=
        "inline-equation"><span class="tex">$\mathcal
        {L}^*$</span></span> will be picked at each step and
        assigned to activity <em>a</em> which is available (i.e.,
        |<em>S<sub>a</sub></em> | &lt; <em>δ<sub>a</sub></em> ) and
        has the maximum value of <em>g</em>(<em>u</em>,
        <em>a</em>|<em>S<sub>a</sub></em> ) in a greedy manner,
        ignoring the minimum quota. Then for every remaining
        available user <em>v</em> on the list whose social affinity
        with <em>u</em> is positive, i.e., <em>ω</em>(<em>u</em>,
        <em>v</em>) &gt; 0, her utility towards <em>a</em> will
        increase as <em>u</em> being assigned to <em>a</em>. Thus
        <em>g</em>(<em>v</em>, <em>a</em>|<em>S<sub>a</sub></em> )
        is then recomputed and the position of tuple ⟨<em>a</em>,
        <em>g</em>(<em>v</em>, <em>a</em>|<em>S<sub>a</sub></em> )⟩
        in <em>v</em>’s list <span class=
        "inline-equation"><span class="tex">$\mathcal
        {L}_{v}$</span></span> is updated as well (line&nbsp;8 of
        Procedure&nbsp;). For the implementation of this algorithm,
        we can use a priority queue of tuple ⟨<em>a</em>,
        <em>g</em>(<em>u</em>, <em>a</em>|<em>S<sub>a</sub></em> )⟩
        in a non-increasing order with respect to
        <em>g</em>(<em>u</em>, <em>a</em>|<em>S<sub>a</sub></em> )
        to manage list <span class="inline-equation"><span class=
        "tex">$\mathcal {L}_u$</span></span> for each <em>u</em>
        (same for list <span class="inline-equation"><span class=
        "tex">$\mathcal {L}^*$</span></span> ). In the end, a
        post-processing which moves users arbitrarily from
        activities with surplus to activities with deficit is
        conducted to guarantee the feasibility of the final
        assignment (line&nbsp;12 to line&nbsp;23).
        <p></p>
      </section>
      <section id="sec-14">
        <header>
          <div class="title-info">
            <h3><span class="section-number">4.3</span> User-stable
            Greedy</h3>
          </div>
        </header>
        <p>Before describing the idea behind <em>User-stable
        Greedy</em>, let's first recall the <em>Stable
        Greedy</em>:</p>
        <ol class="list-no-style">
          <li id="list18" label="(1)">Obtain an assignment through
          applying Procedure&nbsp; to a given Stable-SEO instance
          <span class="inline-equation"><span class="tex">$I
          =\lbrace U, A, M, \mathcal {L}^*, \mathcal
          {L}\rbrace$</span></span> .<br /></li>
          <li id="list19" label="(2)">Move users arbitrarily from
          events/activities with surplus to those with deficit
          while not creating new events/activities with
          deficit.<br /></li>
        </ol>
        <p>For ease of notation, we denote
        <em>a</em>[<em>γ<sub>a</sub></em> , <em>δ<sub>a</sub></em>
        ] as an activity with minimum quota <em>γ<sub>a</sub></em>
        and maximum quota <em>δ<sub>a</sub></em> . Suppose during
        the execution of <em>Stable Greedy</em>, a user <em>u</em>
        is moved from one activity
        <em>a</em>[<em>γ<sub>a</sub></em> , <em>δ<sub>a</sub></em>
        ] (|<em>S<sub>a</sub></em> | = <em>δ<sub>a</sub></em> )
        with surplus to another activity with deficit. Thus, not
        only user <em>u</em> will have the possibility of creating
        unstable pairs with <em>a</em> (and <em>u</em> becomes an
        unstable user), but also some other users may create
        unstable pairs with <em>a</em> and become unstable users
        because activity <em>a</em> now becomes available.
        Therefore, to minimize the potential for bringing in new
        unstable users, we propose our <em>User-stable Greedy</em>
        algorithm. <img src=
        "../../../data/deliveryimages.acm.org/10.1145/3190000/3186063/images/www2018-72-fig4.jpg"
        class="img-responsive" alt="" longdesc="" /></p>
        <p>Given an existing Stable-SEO instance, we first
        construct a new instance of Stable-SEO (line&nbsp;2 to
        line&nbsp;4 in Algorithm&nbsp;2), denoted as <em>max-1
        Stable-SEO</em> in which all activities have either minimum
        quota being 0 and maximum quota being 1, i.e.,
        <em>a</em>[0, 1] (at most one user can be assigned to
        <em>a</em>), or both minimum and maximum quota being 1,
        i.e., <em>a</em>[1, 1] (one and only one user must be
        assigned to <em>a</em>). We will then run the algorithm on
        this max-1 Stable-SEO instance and construct the solution
        for our original Stable-SEO instance from that for max-1
        Stable-SEO instance in the end (line&nbsp;32 to
        line&nbsp;40 in Algorithm&nbsp;2).</p>
        <p>The calculation of <em>g</em>(·, ·) and maintenance of
        list <span class="inline-equation"><span class=
        "tex">$\mathcal {L}$</span></span> in <em>User-stable
        Greedy</em> will be the same as in <em>Stable Greedy</em>
        for consistency (line&nbsp;5 to line&nbsp;15). First, we
        apply Procedure&nbsp; to the max-1 Stable-SEO instance
        (line&nbsp;16), and compute the deficiency (i.e.,
        <em>d</em>) of the resulting assignment which is the
        summation of the deficiencies over all activities in the
        max-1 Stable-SEO instance, i.e., <span class=
        "inline-equation"><span class="tex">$\sum _{a^{\prime } \in
        A^{\prime }} max (\gamma _{a^{\prime }} - |S_{a^{\prime
        }}|, 0)$</span></span> (line&nbsp;17 to line&nbsp;19). Then
        we choose one activity <em>a</em>[0, 1], set its maximum
        quota to ∞ and apply Procedure&nbsp; again so that all
        users who have very strong utilities towards attending
        activity <em>a</em> may actually be assigned to <em>a</em>
        in very high probabilities. As such, these users will be
        unstable users when they are moved to other activities with
        deficit while the remaining users on the other hand will
        have far less possibilities to become unstable. In this
        way, the potential for creating new unstable users can be
        dramatically reduced. This being the case, we are able to
        keep the number of unstable users as small as possible
        compared to <em>Stable Greedy</em>. We remark that merely
        extending the maximum quota of one activity to ∞ may not be
        sufficient to obtain a feasible solution and thus it is
        necessary to select more activities such that sufficiently
        many users can be moved to other activities with deficit in
        order to make the assignment feasible. On the other hand,
        we also should keep the number of selected activities
        minimum to guarantee the quality of our solution. We
        balance this trade-off by choosing <em>d</em> activities
        with the smallest <strong>Score</strong> values (ties are
        broken arbitrarily) from those activities which are not
        empty after the first run of procedure&nbsp; (line&nbsp;20
        to line&nbsp;25). As is shown in Procedure&nbsp; , the
        <strong>Score</strong> value of an activity measures the
        number of users assigned to it after running
        Procedure&nbsp; when setting its maximum quota to ∞. Since
        we are considering max-1 Stable-SEO, the deficiency of an
        assignment (i.e., <em>d</em>) equals to the number of empty
        [1, 1]-activities. Let <em>A<sub>d</sub></em> be the set of
        these selected activities, we extend the maximum quota of
        all activities in <em>A<sub>d</sub></em> to be ∞ and then
        run Procedure&nbsp; again (line&nbsp;26). We thereafter
        move users who are assigned to activities in
        <em>A<sub>d</sub></em> arbitrarily to empty activities to
        make the assignment feasible. We achieve this by first
        making [1, 1]-activities full and if there still exist any
        activities in <em>A<sub>d</sub></em> having two or more
        users, then send remaining users arbitrarily to empty [0,
        1]-activities, or simply make them unassigned if there is
        no more [0, 1]-activity left (line&nbsp;27 to
        line&nbsp;31). Finally, we construct the solution for our
        original Stable-SEO instance from the resulting assignment
        above for max-1 Stable-SEO instance (line&nbsp;32 to
        line&nbsp;40).</p>
      </section>
    </section>
    <section id="sec-15">
      <header>
        <div class="title-info">
          <h2><span class="section-number">5</span> Empirical
          Experiments</h2>
        </div>
      </header>
      <p>In this section, we compare the performance of our
      proposed method with several baselines on two real-world
      public datasets.</p>
      <section id="sec-16">
        <header>
          <div class="title-info">
            <h3><span class="section-number">5.1</span>
            Experimental Settings</h3>
          </div>
        </header>
        <p><strong>Evaluation Metrics</strong>.</p>
        <p>We evaluate different algorithms based on two
        metrics:</p>
        <ol class="list-no-style">
          <li id="list20" label="(1)"><em>Number of unstable
          users.</em> This is quite a straightforward evaluation
          metric which is consistent with the objective of
          Stable-SEO problem.<br /></li>
          <li id="list21" label="(2)">
            <em>Total social welfare (SW).</em> We adopt this
            metric defined in&nbsp;(<a class="eqn" href=
            "#eq2">2</a>) to demonstrate that our proposed method
            can achieve a fairly high social welfare as well when
            keeping a minimum number of unstable users.<br />
          </li>
        </ol>
        <p><strong>Datasets</strong>. We conduct experiments on two
        real-world datasets: <em>Meetup</em> and <em>Plancast</em>,
        which are first released by Liu&nbsp;et&nbsp;al.
        &nbsp;[<a class="bib" data-trigger="hover" data-toggle=
        "popover" data-placement="top" href=
        "#BibPLXBIB0017">17</a>]. Both of them are online social
        networking services that facilitate offline social
        activities/events in various localities around the world.
        Specifically, Meetup allows its members to find and join
        groups unified by common interests such as politics, books,
        games, movies, health, pets, careers or hobbies<a class=
        "fn" href="#fn1" id="foot-fn1"><sup>1</sup></a>. Due to the
        widely geographical distribution of users and events in
        these two datasets, we extract users and events from six
        metropolitan areas including Chicago (CHI), Paris (PAR),
        Tokyo (TKO) on Meetup and New York City (NYC), San
        Francisco (SFO), Los Angeles (LAX) on Plancast for
        experiments. Table&nbsp;<a class="tbl" href="#tab4">4</a>
        shows the statistics of users and events in each area.
        Given that the calculation of utilities is orthogonal to
        our methods in this work, the way of computing different
        utilities will rely on the information available in each
        dataset.</p>
        <div class="table-responsive" id="tab4">
          <div class="table-caption">
            <span class="table-number">Table 4:</span> <span class=
            "table-title">Statistics of users and events in
            different cities.</span>
          </div>
          <table class="table">
            <thead>
              <tr>
                <th style="text-align:right;"></th>
                <th style="text-align:center;">CHI</th>
                <th style="text-align:center;">PAR</th>
                <th style="text-align:center;">TKO</th>
                <th style="text-align:center;">NYC</th>
                <th style="text-align:center;">SFO</th>
                <th style="text-align:center;">LAX</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td style="text-align:right;">#users</td>
                <td style="text-align:center;">11907</td>
                <td style="text-align:center;">18322</td>
                <td style="text-align:center;">7828</td>
                <td style="text-align:center;">7662</td>
                <td style="text-align:center;">9760</td>
                <td style="text-align:center;">2287</td>
              </tr>
              <tr>
                <td style="text-align:right;">#events</td>
                <td style="text-align:center;">803</td>
                <td style="text-align:center;">852</td>
                <td style="text-align:center;">885</td>
                <td style="text-align:center;">1380</td>
                <td style="text-align:center;">1198</td>
                <td style="text-align:center;">360</td>
              </tr>
            </tbody>
          </table>
        </div>
        <ul class="list-no-style">
          <li id="list22" label="•">
            <strong>Meetup.</strong>For activity-user utility, we
            define <em>κ</em>(<em>a</em> <sup>*</sup>, <em>u</em>)
            to be the number of activities <em>u</em> has taken
            part in. We note that people on Meetup can set up and
            join various online interest groups which in turn allow
            the organizations of offline activities. Therefore, it
            is possible to establish a heterogeneous graph of user
            <em>u</em>, group <em>g</em> and activity <em>a</em>
            where there are two edges (<em>u</em>, <em>g</em>) and
            (<em>g</em>, <em>a</em>) connecting user <em>u</em> and
            activity <em>a</em> if user <em>u</em> participates in
            activity <em>a</em> and is a member of group <em>g</em>
            organizing activity <em>a</em>. Besides, users on
            Meetup are able to choose tags that best express their
            interests. Thus let <em>T</em>(<em>u</em>) denote the
            set of tags labelled on <em>u</em>, for user-activity
            utility, we follow previous work&nbsp;[<a class="bib"
            data-trigger="hover" data-toggle="popover"
            data-placement="top" href="#BibPLXBIB0016">16</a>] by
            defining <em>ω</em>(<em>u</em>, <em>v</em>) to be the
            Jaccard coefficient&nbsp;[<a class="bib" data-trigger=
            "hover" data-toggle="popover" data-placement="top"
            href="#BibPLXBIB0012">12</a>] between
            <em>Tag</em>(<em>u</em>) and <em>Tag</em>(<em>v</em>)
            (i.e., <span class="inline-equation"><span class=
            "tex">$\omega (u, v) = \frac{|Tag(u) \cap
            Tag(v)|}{|Tag(u) \cup Tag(v)|}$</span></span> ), and
            <em>σ</em>(<em>u</em>, <em>a</em>) to be the
            <em>Katz</em> distance&nbsp;[<a class="bib"
            data-trigger="hover" data-toggle="popover"
            data-placement="top" href="#BibPLXBIB0013">13</a>]
            between user <em>u</em> and activity <em>a</em> in the
            heterogeneous graph, where <em>Katz</em> <span class=
            "inline-equation"><span class="tex">$(u,v) = \sum
            _{\mathit {l}}^{\infty } \beta ^{\mathit {l}} \cdot
            |\mathcal {P}^\mathit {l}_{u,v}|$</span></span> . Here
            <span class="inline-equation"><span class=
            "tex">$\mathcal {P}^\mathit {l}_{u,v}$</span></span> is
            the set of <em>l</em>-length paths between <em>u</em>
            and <em>v</em> in the graph and <em>β</em> is a
            controlling parameter to make Katz put more emphasis on
            short length paths. Intuitively a larger Katz score
            indicates a more closely connection between a user
            <em>u</em> and an event <em>a</em>, demonstrating a
            higher user-activity innate affinity. As
            <em>ω</em>(<em>u</em>, <em>v</em>) (i.e., Jaccard
            coefficient) lies in [0, 1], we normalize
            <em>σ</em>(<em>u</em>, <em>a</em>) (i.e., Katz Score)
            and <em>κ</em>(<em>a</em> <sup>*</sup>, <em>u</em>)
            (i.e., number of activities participated) to prevent
            the domination of a certain kind of affinity.<br />
          </li>
          <li id="list23" label="•"><strong>Plancast.</strong>We
          define <em>κ</em>(<em>a</em> <sup>*</sup>, <em>u</em>) to
          be the number of activities <em>u</em> has participated
          in Plancast, which is same as what we do for Meetup.
          Since Plancast allows its users to subscribe to each
          other so that subscribers can receive their subscribees’
          updates, we set <em>σ</em>(<em>u</em>, <em>a</em>) to be
          the number of users in activity <em>a</em> that have been
          subscribed by <em>u</em> and <em>ω</em>(<em>u</em>,
          <em>v</em>) to be the Katz distance between <em>u</em>
          and <em>v</em>. Similarly, we also normalize
          <em>κ</em>(<em>a</em> <sup>*</sup>, <em>u</em>),
          <em>σ</em>(<em>u</em>, <em>a</em>) and
          <em>ω</em>(<em>u</em>, <em>v</em>) to make them fall in
          the range of 0 and 1.<br /></li>
        </ul>
        <p>Due to the lack of ground truth information, we follow
        the same preprocessing strategies in&nbsp;[<a class="bib"
        data-trigger="hover" data-toggle="popover" data-placement=
        "top" href="#BibPLXBIB0016">16</a>] and generate the
        maximum/minimum cardinality constraints for all events as
        follows. We denote <span class=
        "inline-equation"><span class="tex">$\rho =
        \frac{\#users}{\#events}$</span></span> as the ratio
        between the number of users and the number of events. Then
        for event <em>a</em> ∈ <em>A</em> in all areas, we sample
        its maximum quota <em>δ<sub>a</sub></em> from Gaussian
        distribution <span class="inline-equation"><span class=
        "tex">$\mathcal {N}(2\rho , \rho)$</span></span> and sample
        its minimum quota <em>γ<sub>a</sub></em> from uniform
        distribution <span class="inline-equation"><span class=
        "tex">$\mathcal {U}(1, \delta _a)$</span></span> .
        Moreover, <em>α</em> is set to 0.5 for all methods in the
        experiments. Finally, Figure&nbsp;<a class="fig" href=
        "#fig1">1</a> shows the distributions of social affinity
        and Figure&nbsp;<a class="fig" href="#fig2">2</a> displays
        the normalized event-user affinity for all six metropolitan
        areas. <strong>Methods for Comparisons</strong>. The
        following five algorithms including our proposed method are
        tested in our experiments.</p>
        <figure id="fig1">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186063/images/www2018-72-fig5.jpg"
          class="img-responsive" alt="Figure 1" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 1:</span>
            <span class="figure-title">Distributions of social
            affinities in six metropolitan areas.</span>
          </div>
        </figure>
        <figure id="fig2">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186063/images/www2018-72-fig6.jpg"
          class="img-responsive" alt="Figure 2" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 2:</span>
            <span class="figure-title">Distributions of event-user
            affinities (normalized) in six metropolitan
            areas.</span>
          </div>
        </figure>
        <p></p>
        <ul class="list-no-style">
          <li id="list24" label="•"><em>User-Stable Greedy
          (USG).</em> Our proposed <em>User-Stable Greedy</em>
          algorithm, which takes both innate affinity and social
          affinity in to account, and aims to minimize the number
          of unstable users for an assignment.<br /></li>
          <li id="list25" label="•">
            <em>Stable Greedy (SG).</em> The <em>Stable Greedy</em>
            algorithm introduced in Section&nbsp;<a class="sec"
            href="#sec-11">4</a> that minimizes the total number of
            unstable user-event pairs, taking both innate affinity
            and social affinity into consideration.<br />
          </li>
          <li id="list26" label="•">
            <em>PCADG.</em> The <em>Phantom- and Community- Aware
            Dynamic Greedy</em>algorithm proposed
            in&nbsp;[<a class="bib" data-trigger="hover"
            data-toggle="popover" data-placement="top" href=
            "#BibPLXBIB0016">16</a>], whose objective is to
            maximize the total social welfare (Eq&nbsp;(<a class=
            "eqn" href="#eq2">2</a>)) given an assignment.<br />
          </li>
          <li id="list27" label="•">
            <em>NRMP+.</em> The <em>NRMP+</em> baseline proposed
            in&nbsp;[<a class="bib" data-trigger="hover"
            data-toggle="popover" data-placement="top" href=
            "#BibPLXBIB0016">16</a>] with activity-user innate
            being set to <em>κ</em>(·, ·) in our experiments. This
            algorithm does not take social affinity into
            consideration.<br />
          </li>
          <li id="list28" label="•"><em>Random (RD).</em> The naive
          method that randomly assigns users to activities without
          violating the cardinality constraint.<br /></li>
        </ul>
      </section>
      <section id="sec-17">
        <header>
          <div class="title-info">
            <h3><span class="section-number">5.2</span> Results and
            Analysis</h3>
          </div>
        </header>
        <p><strong>Number of unstable users</strong>. We present
        the proportion of unstable users with respect to the total
        number of users (the lower, the better) for our five
        comparison algorithms, i.e., User-Stable Greedy, Stable
        Greedy PCADG, NRMP+ and Random, in each area. As is shown
        in Figure&nbsp;<a class="fig" href="#fig3">3</a>,
        User-Stable Greedy (USG) clearly generates the least
        unstable users and therefore beats all other methods for
        all six cities, followed by Stable Greedy (SG) which tries
        to minimizes the number of unstable user-event pairs rather
        than the number of unstable users. As the most naive
        baseline, Random with no doubt has the worst performance.
        Besides, PCADG and NRMP+ have comparable performances,
        lying between Stable Greedy and Random, with PCADG
        outperforming NRMP+ for TKO, NYC, LAX and NRMP+
        outperforming PCADG for CHI, PAR and SFO. This may be due
        to the reason that PCADG aims to maximize the total social
        welfare defined in&nbsp;(<a class="eqn" href="#eq2">2</a>)
        and NRMP+ ignores the social affinities among users. We can
        observe from Figure&nbsp;<a class="fig" href="#fig3">3</a>
        that the proposed User-Stable Greedy algorithm achieves a
        performance boost over the best non-naive (non-random)
        method by a large margin (from 9.5% for SFO to 31.4% for
        LAX).</p>
        <figure id="fig3">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186063/images/www2018-72-fig7.jpg"
          class="img-responsive" alt="Figure 3" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 3:</span>
            <span class="figure-title">Proportion of unstable users
            produced by different algorithms in six metropolitan
            areas (lower is better).</span>
          </div>
        </figure>
        <p></p>
        <p><strong>Total social welfare</strong>.
        Figure&nbsp;<a class="fig" href="#fig4">4</a> shows the
        test of relevant improvement of User-Stable Greedy (USG),
        PCADG and MRMP+ over Random method (RD) in terms of social
        welfare (SW). We adopt the same evaluation methodology
        in&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
        "popover" data-placement="top" href=
        "#BibPLXBIB0016">16</a>] by measuring <em>SW</em>
        <sub>*</sub>/<em>SW<sub>RD</sub></em> , where <em>SW</em>
        is defined in&nbsp;(<a class="eqn" href="#eq2">2</a>) and *
        denotes different algorithms. One observation from
        Figure&nbsp;<a class="fig" href="#fig4">4</a> is that NRMP+
        performs the worst because of not considering any social
        affinities. We also observe that User-Stable Greedy (USG)
        and PCADG have comparable performances, with User-Stable
        Greedy (USG) slightly outperforming PCADG for PAR and PCADG
        slightly beating User-Stable Greedy (USG) for all the other
        cases.</p>
        <figure id="fig4">
          <img src=
          "../../../data/deliveryimages.acm.org/10.1145/3190000/3186063/images/www2018-72-fig8.jpg"
          class="img-responsive" alt="Figure 4" longdesc="" />
          <div class="figure-caption">
            <span class="figure-number">Figure 4:</span>
            <span class="figure-title">Improvement of different
            algorithms (*) over random (RD) in terms of social
            welfare (SW) (higher is better).</span>
          </div>
        </figure>
        <p></p>
        <p>Thereby, it is fair to conclude that our experiments
        demonstrate the superiority of our proposed method over
        other comparative approaches in producing a minimum number
        of unstable users and maintaining quite large social
        welfare at the same time. That is to say, our proposed
        approach is capable of reducing the number of “unhappy”
        individuals as much as possible and keeping the overall
        happiness of an event organization high simultaneously.</p>
      </section>
    </section>
    <section id="sec-18">
      <header>
        <div class="title-info">
          <h2><span class="section-number">6</span>
          Conclusions</h2>
        </div>
      </header>
      <p>Social Event Organization (SEO), as a novel research
      topic, aims to help people gather from online to offline
      through organizing different social events/activities.
      Existing work on SEO only considers the preferences from
      users to events/activities (i.e., user-activity utilities)
      and fails to take preferences from events/activities or their
      organizers to users (activity-user utilities) into account.
      In this paper, we focus on SEO with both user preferences and
      event preferences being taken into consideration and solve
      the unstable issues brought by considering the two-side
      preferences. We formally formulate the Stable-SEO propblem,
      prove its NP-hardness and inapproximability in polynomial
      time. We propose an algorithm to generate the most minimum
      number of unstable users and achieve fairly large social
      welfare compared to existing methods. Extensive experiments
      verify the efficacy of our proposed method.</p>
    </section>
  </section>
  <section class="back-matter">
    <section id="sec-19">
      <header>
        <div class="title-info">
          <h2>ACKNOWLEDGMENTS</h2>
        </div>
      </header>
      <p>This research is supported by China Postdoctoral Science
      Foundation No. BX201700136, National Program on Key Basic
      Research Project No. 2015CB352300 and National Natural
      Science Foundation of China Major Project No. U1611461.</p>
    </section>
    <section id="ref-001">
      <header>
        <div class="title-info">
          <h2 class="page-brake-head">REFERENCES</h2>
        </div>
      </header>
      <ul class="bibUl">
        <li id="BibPLXBIB0001" label="[1]">Sihem Amer-Yahia,
        Senjuti&nbsp;Basu Roy, Ashish Chawla, Gautam Das, and Cong
        Yu. 2009. Group Recommendation: Semantics and Efficiency.
        <em><em>PVLDB</em></em> 2, 1 (2009).</li>
        <li id="BibPLXBIB0002" label="[2]">”Péter Biró, Tamás
        Fleiner, Robert&nbsp;W. Irving, and David Manlove. 2010.
        The College Admissions problem with lower and common
        quotas. <em><em>Theor. Comput. Sci</em></em> 411, (34-36)
        (2010), 3136–3153.</li>
        <li id="BibPLXBIB0003" label="[3]">Uriel Feige. 2002.
        Relations between average case complexity and approximation
        complexity. In <em><em>Proceedings of the thiry-fourth
        annual ACM symposium on Theory of computing</em></em> .
        ACM, 534–543.</li>
        <li id="BibPLXBIB0004" label="[4]">David Gale and
        Lloyd&nbsp;S Shapley. 1962. College admissions and the
        stability of marriage. <em><em>The American Mathematical
        Monthly</em></em> 69, 1 (1962), 9–15.</li>
        <li id="BibPLXBIB0005" label="[5]">David Gale and Marilda
        Sotomayor. 1985. Some remarks on the stable matching
        problem. <em><em>Discrete Applied Mathematics</em></em> 11,
        3 (1985), 223–232.</li>
        <li id="BibPLXBIB0006" label="[6]">Dan Gusfield and
        Robert&nbsp;W Irving. 1989. <em><em>The stable marriage
        problem: structure and algorithms</em></em> . MIT
        press.</li>
        <li id="BibPLXBIB0007" label="[7]">K. Hamada, K. Iwama, and
        S.Miyazaki. 2008. The Hospitals/ Residents problem with
        quota lower bounds. In <em><em>MATCH-UP: Matching Under
        Preferences Workshop at ICALP</em></em> .</li>
        <li id="BibPLXBIB0008" label="[8]">Chien-Chung Huang. 2010.
        Classified stable matching. In <em><em>Proceedings of the
        twenty-first annual ACM-SIAM symposium on Discrete
        Algorithms</em></em> . Society for Industrial and Applied
        Mathematics, 1235–1253.</li>
        <li id="BibPLXBIB0009" label="[9]">Jianbin Huang, Yu Zhou,
        Xiaolin Jia, and Heli Sun. 2016. A novel social event
        organization approach for diverse user choices.
        <em><em>Comput. J.</em></em> 60, 7 (2016), 1078–1095.</li>
        <li id="BibPLXBIB0010" label="[10]">Robert&nbsp;W Irving.
        1985. An efficient algorithm for the ”stable roommates”
        problem. <em><em>Journal of Algorithms</em></em> 6, 4
        (1985), 577–595.</li>
        <li id="BibPLXBIB0011" label="[11]">Robert&nbsp;W Irving,
        David&nbsp;F Manlove, and Sandy Scott. 2008. The stable
        marriage problem with master preference lists.
        <em><em>Discrete Applied Mathematics</em></em> 156, 15
        (2008), 2959–2977.</li>
        <li id="BibPLXBIB0012" label="[12]">Paul Jaccard. 1901.
        <em><em>Distribution de la Flore Alpine: dans le Bassin des
        dranses et dans quelques régions voisines</em></em> .
        Rouge.</li>
        <li id="BibPLXBIB0013" label="[13]">Leo Katz. 1953. A new
        status index derived from sociometric analysis.
        <em><em>Psychometrika</em></em> 18, 1 (1953), 39–43.</li>
        <li id="BibPLXBIB0014" label="[14]">Subhash Khot. 2006.
        Ruling out PTAS for graph min-bisection, dense k-subgraph,
        and bipartite clique. <em><em>SIAM J. Comput.</em></em> 36,
        4 (2006), 1025–1071.</li>
        <li id="BibPLXBIB0015" label="[15]">Donald&nbsp;Ervin
        Knuth. 1997. <em><em>Stable marriage and its relation to
        other combinatorial problems: An introduction to the
        mathematical analysis of algorithms</em></em> .
        Vol.&nbsp;10. American Mathematical Soc.</li>
        <li id="BibPLXBIB0016" label="[16]">Keqian Li, Wei Lu,
        Smriti Bhagat, Laks&nbsp;VS Lakshmanan, and Cong Yu. 2014.
        On social event organization. In <em><em>KDD</em></em> .
        ACM, 1206–1215.</li>
        <li id="BibPLXBIB0017" label="[17]">Xingjie Liu, Qi He,
        Yuanyuan Tian, Wang-Chien Lee, John McPherson, and Jiawei
        Han. 2012. Event-based social networks: linking the online
        and offline social worlds. In <em><em>Proceedings of the
        18th ACM SIGKDD international conference on Knowledge
        discovery and data mining</em></em> . ACM, 1032–1040.</li>
        <li id="BibPLXBIB0018" label="[18]">David&nbsp;F Manlove,
        Robert&nbsp;W Irving, Kazuo Iwama, Shuichi Miyazaki, and
        Yasufumi Morita. 2002. Hard variants of stable marriage.
        <em><em>Theoretical Computer Science</em></em> 276, 1
        (2002), 261–279.</li>
        <li id="BibPLXBIB0019" label="[19]">A.&nbsp;E. Roth. 1984.
        The evolution of the labor market for medical interns and
        residents: a case study in game theory. <em><em>Journal of
        Political Economy</em></em> 6, 4 (1984), 991–1016.</li>
        <li id="BibPLXBIB0020" label="[20]">Marilda Sotomayor.
        1990. Two-sided matching: A study in game-theoretic
        modeling and analysis. <em><em>Econometric Society
        Monographs. Cambridge University Press, Cambridge</em></em>
        (1990).</li>
        <li id="BibPLXBIB0021" label="[21]">Xin Wang, Roger
        Donaldson, Christopher Nell, Peter Gorniak, Martin Ester,
        and Jiajun Bu. 2016. Recommending Groups to Users Using
        User-Group Engagement and Time-Dependent Matrix
        Factorization. In <em><em>Thirtieth AAAI Conference on
        Artificial Intelligence</em></em> .</li>
      </ul>
    </section>
  </section>
  <section id="foot-001" class="footnote">
    <header>
      <div class="title-info">
        <h2>FOOTNOTE</h2>
      </div>
    </header>
    <p id="fn1"><a href="#foot-fn1"><sup>1</sup></a><a class=
    "link-inline force-break" href=
    "https://en.wikipedia.org/wiki/Meetup_(website)">https://en.wikipedia.org/wiki/Meetup_(website)</a></p>
    <div class="bibStrip">
      <p>This paper is published under the Creative Commons
      Attribution-NonCommercial-NoDerivs 4.0 International
      (CC-BY-NC-ND&nbsp;4.0) license. Authors reserve their rights
      to disseminate the work on their personal and corporate Web
      sites with the appropriate attribution.</p>
      <p><em>WWW '18, April 23–27, 2018, Lyon, France</em></p>
      <p>© 2018; IW3C2 (International World Wide Web Conference
      Committee), published under Creative Commons
      CC-BY-NC-ND&nbsp;4.0 License.<br />
      ACM ISBN 978-1-4503-5639-8/18/04.<br />
      DOI: <a class="link-inline force-break" target="_blank" href=
      "https://doi.org/10.1145/3178876.3186063">https://doi.org/10.1145/3178876.3186063</a></p>
    </div>
  </section>
  <div class="pubHistory">
    <p></p>
  </div>
</body>
</html>
