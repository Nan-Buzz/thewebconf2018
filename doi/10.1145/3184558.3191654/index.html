<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">  <head>  <title>A Natural Language Driven Approach for Automated Web API Development</title>  <!-- Copyright (c) 2010-2015 The MathJax Consortium --><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta>  <meta name="viewport" content="width=device-width; initial-scale=1.0;"></meta>  <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>  <link media="screen, print" rel="stylesheet"    href="../../../data/dl.acm.org/pubs/lib/css/bootstrap.min.css"/><link media="screen, print" rel="stylesheet"    href="../../../data/dl.acm.org/pubs/lib/css/bootstrap-theme.min.css"/><link media="screen, print" rel="stylesheet"    href="../../../data/dl.acm.org/pubs/lib/css/main.css"/><script src="../../../data/dl.acm.org/pubs/lib/js/jquery.min.js" type="text/javascript"></script>  <script src="../../../data/dl.acm.org/pubs/lib/js/bootstrap.min.js" type="text/javascript"></script>  <script src="../../../data/dl.acm.org/pubs/lib/js/bibCit.js" type="text/javascript"></script>  <script src="../../../data/dl.acm.org/pubs/lib/js/divTab.js" type="text/javascript"></script>  <script type="text/javascript"    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML"></script>  <script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});</script>  <link rel="cite-as" href="https://doi.org/10.1145/3184558.3191654"/></head>  <body id="main">
<div>
<p style='font-size: 75%; color #444'>
This is a web copy of <a href='https://doi.org/10.1145/3184558.3191654'>https://doi.org/10.1145/3184558.3191654</a>.
 Published in WWW2018 Proceedings Â© 2018 International World Wide Web Conference Committee, published under 
 <a rel='license' property='license' href='https://creativecommons.org/licenses/by/4.0/'>
 Creative Commons CC By 4.0 License</a>.
The <a href='https://github.com/usable-oa/thewebconf2018/tree/master/scripts'>modifications</a> 
from the original are solely to improve HTML aiming to make it Findable, Accessible, Interoperable and Reusable. 
augmenting HTML metadata and avoiding ACM trademark.
To reference this HTML version, use:
</p><p>
<strong>Permalink:</strong>
<a href='https://w3id.org/oa/10.1145/3184558.3191654'>https://w3id.org/oa/10.1145/3184558.3191654</a>
</p></div>
<hr>

  <section class="front-matter">   <section>    <header class="title-info">     <div class="journal-title">     <h1>      <span class="title">A Natural Language Driven Approach for Automated Web API Development</span>      <br/>      <span class="subTitle">       <SubTitle>Gherkin2OAS</SubTitle>      </span>     </h1>     </div>    </header>    <div class="authorGroup">     <div class="author">     <span class="givenName">Anastasios</span>      <span class="surName">Dimanidis</span>,     Aristotle University of Thessaloniki, Thessaloniki, <a href="mailto:anasdima@issel.ee.auth.gr">anasdima@issel.ee.auth.gr</a>     </div>     <div class="author">     <span class="givenName">Kyriakos C.</span>      <span class="surName">Chatzidimitriou</span>,     Aristotle University of Thessaloniki, Thessaloniki, <a href="mailto:kyrcha@issel.ee.auth.gr">kyrcha@issel.ee.auth.gr</a>     </div>     <div class="author">     <span class="givenName">Andreas L.</span>      <span class="surName">Symeonidis</span>,     Aristotle University of Thessaloniki, Thessaloniki, <a href="mailto:asymeon@eng.auth.gr">asymeon@eng.auth.gr</a>     </div>                 </div>    <br/>    <div class="pubInfo">     <p>DOI: <a href="https://doi.org/10.1145/3184558.3191654" target="_blank">https://doi.org/10.1145/3184558.3191654</a>     <br/>WWW '18: <a href="https://doi.org/10.1145/3184558" target="_blank">Proceedings of The Web Conference 2018</a>, Lyon, France, April 2018</p>    </div>    <div class="abstract">     <p>     <small>Speeding up the development process of Web Services, while adhering to high quality software standards is a typical requirement in the software industry. This is why industry specialists usually suggest &#x201D;driven by&#x201D; development approaches to tackle this problem. In this paper, we propose such a methodology that employs Specification Driven Development and Behavior Driven Development in order to facilitate the phases of Web Service requirements elicitation and specification. Furthermore, we introduce gherkin2OAS, a software tool that aspires to bridge the aforementioned development approaches. Through the suggested methodology and tool, one may design and build RESTful services fast, while ensuring proper functionality.</small>     </p>    </div>    <div class="CCSconcepts">     <p> <small> <span style="font-weight:bold;">CCS Concepts:</span> &#x2022;<strong> Software and its engineering </strong>&#x2192; <strong>Requirements analysis;</strong> <em>API languages;</em> <em>Software development techniques;</em></small> </p>    </div>    <div class="classifications">     <div class="author">     <span style="font-weight:bold;">      <small>Keywords:</small>     </span>     <span class="keyword">      <small>Open API Specification; Gherkin; RESTful API; Behavior Driven Development</small>     </span>     </div>     <br/>     <div class="AcmReferenceFormat">     <p>      <small>       <span style="font-weight:bold;">ACM Reference Format:</span>       <br/>       Anastasios Dimanidis, Kyriakos C. Chatzidimitriou, and Andreas L. Symeonidis. 2018. A Natural Language Driven Approach for Automated Web API Development. In <em>WWW '18 Companion: The 2018 Web Conference Companion,</em>       <em>April 23&#x2013;27, 2018 (WWW &#x2019;18 Companion),</em>       <em> Lyon, France. ACM, New York, NY, USA</em> 6 Pages. <a href="https://doi.org/10.1145/3184558.3191654" class="link-inline force-break"        target="_blank">https://doi.org/10.1145/3184558.3191654</a></small>     </p>     </div>    </div>   </section>  </section>  <section class="body">   <section id="sec-4">    <header>     <div class="title-info">     <h2>      <span class="section-number">1</span> Introduction</h2>     </div>    </header>    <p>Effectively satisfying customer requirements in the typical software development life-cycle has always been of major concern, both to the industry and the academia. New, &#x201C;driven by&#x201D; software engineering methodologies like Behavior-Driven Development and the Agile manifesto have been introduced, dictating continuous communication between the software engineer and the customer. These approaches aspire to embrace change at any stage of the process, while allowing the evolution of software requirements.</p>    <p>On the other hand, the development of web applications and web services has been constantly gaining traction, providing efficient software solutions to customer problems. Since the adoption of the &#x201C;web as an application platform&#x201D;, developers and industry specialists are continuously searching for methods to swiftly and efficiently design and develop Web applications, and REST seems to provide a credible approach to tackle the basic challenges faced.</p>    <p>REST-oriented architectures and their accompanying tools, although efficient, focus mainly on the design and development aspects of software, and consider the transition phase of requirements to design elements as granted. However, this transition requires expertise and, in many cases, may lead to delays in software releases and wasted man-effort. Acknowledging this necessity of adaptation to the current development context, we propose a (semi)-automated methodology that combines Behavior Driven Development (BDD) primitives &#x2013; linked to the User requirements phase &#x2013; and Specification Driven Development (SDD) primitives &#x2013; linked to the System design phase &#x2013; for rapidly building RESTful web services.</p>    <p>Building upon Kent Beck&#x0027;s Test Driven Development (TDD) approach&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0005">5</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0017">17</a>], Dan North&#x0027;s BDD approach&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0001">1</a>] dictates the emloyment of <em>User Stories</em> for describing software functionality. On the other hand, SDD dictates the usage of Web API Specifications like OpenAPI Specification (OAS), RAML, and API Blueprint in order to ensure validation, uniformity and reusability.</p>    <p>Our <em>Natural Language Driven Development (NLDD)</em> approach, tries to merge the two aforementioned development strategies. According to NLDD, when a Web Service needs to be developed, people discuss about what it should offer. These discussions eventually lead to a natural-language-described documentation of the service, based on the <em>Gherkin</em> language, primarily used in BDD. This high-level documentation is automatically translated to a valid OAS document, by employing <tt>gherkin2OAS</tt>, a low code tool developed for this purpose. At the end of the process, the development team has two documents in its hands: a business document and a technical document, connected with each other through a software process. As such, any changes on the business document can be immediately depicted to the technical document, while the benefits of BDD - usage in testing frameworks, semi-structured documents written in natural language - and SDD - automated code generation through client and server scaffolding - are harvested. <tt>Gherkin2OAS</tt> employs Natural Language Processing (NLP) techniques in order to process the contents of the Gherkin documents, and produces a valid OAS version 2&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0004">4</a>] document of the service at hand.</p>    <p>The process of developing a RESTful Web Service, according to NLDD, consists of three stages in a feedback loop:</p>    <ol class="list-no-style">     <li id="list1" label="(1)">Discuss, decide and document service features in Gherkin language. At least one person involved in the discussions must be aware of the proposed methodology.<br/></li>     <li id="list2" label="(2)">Generate an OAS model with the developed <tt>gherkin2OAS</tt> software tool and implement the REST API behind it.<br/></li>     <li id="list3" label="(3)">Feedback step: Validate expected behavior<br/></li>    </ol>    <p>The main goal of NLDD is to enforce the communication between all the involved parties. More specifically:</p>    <ul class="list-no-style">     <li id="list4" label="&#x2022;">Business stakeholders and product owners are the ones that understand best the domain the best and thus the more they are involved in the development process, the better the solution. By embracing BDD and introducing natural language enabled documents, we claim that a significant step is made towards cross-party involvement and customer satisfaction.<br/></li>     <li id="list5" label="&#x2022;">Communication between developers can prove also very difficult using only technical documents. Developers may work on different API endpoints and not be familiar with the full API, which can be a huge OAS document. Also, newcomers may find it difficult to understand and adopt technical documents like the OAS. In both cases, natural language descriptions will allow a quicker understanding of the business domain and a smoother transition into the team&#x0027;s logic of work. Additionally, documenting a service in natural language is way more intuitive than in a technical language, even for a developer.<br/></li>     <li id="list6" label="&#x2022;">The entire Web Service is always documented both in a non-technical and technical manner. The two bundles are always connected with each other through a software process. It is through this process that the technical feasibility of the discussions is verified. From a technical aspect, a widely accepted specification standard is being used, the OpenAPI Specification. As a result, third-party developers will have a much easier time using the Web Service either through the technical specifications or through the natural language descriptions.<br/></li>    </ul>    <p>This paper is organized as follows: In Section&#x00A0;<a class="sec" href="#sec-5">2</a>, we go through the concept of Gherkin-based Web Service documentation, while in Section&#x00A0;<a class="sec" href="#sec-7">3</a> we describe a mapping between Gherkin and the OAS concepts. Section&#x00A0;<a class="sec" href="#sec-13">4</a> presents the <tt>gherkin2OAS</tt> tool and Section&#x00A0;<a class="sec" href="#sec-14">5</a> discusses related work. Finally, in Section&#x00A0;<a class="sec" href="#sec-15">6</a> we discuss about ambiguous topics, open issues and future work.</p>   </section>   <section id="sec-5">    <header>     <div class="title-info">     <h2>      <span class="section-number">2</span> Gherkin-based documentation</h2>     </div>    </header>    <p>In order to document the Web Service in natural language, we employ the Gherkin language: A Business Readable, Domain Specific Language that lets you describe software&#x0027;s behaviour without detailing how that behaviour is implemented.&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0002">2</a>]. Gherkin&#x0027;s goal is to put stakeholder parties into the position of imagining using the system themselves. Through this process, stakeholders and developers create &#x201C;acceptance tests&#x201D; that describe a concrete example of the envisioned software&#x0027;s functionality.</p>    <p>In Gherkin, acceptance tests are documented in a Gherkin file&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0002">2</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0018">18</a>], which uses special keywords for developing its structure and meaning: (i) <tt>Feature</tt> (ii) <tt>Background</tt> (iii) <tt>Scenario</tt> (iv) <tt>Given</tt> (v) <tt>When</tt> (vi) <tt>Then</tt> (vii) <tt>And</tt> (viii) <tt>But</tt> (ix) <tt>*</tt> (x) <tt>Scenario Outline</tt> (xi) <tt>Examples.</tt> </p>    <p>Software features are described inside the Gherkin files using the <tt>Feature</tt> keyword. Each feature contains several scenarios in order to accommodate the stakeholders&#x2019; requirements. Each scenario is a single concrete example of how the system should behave in a particular situation. If one implements the behavior documented by all the scenarios defined, it should result with the expected behavior for the feature. Scenarios are declared with the <tt>Scenario</tt> keyword.</p>    <p>All scenarios follow the same pattern: They start with the context of the system&#x0027;s state, continue with an interaction and finally check the outcome. This pattern is expressed in Gherkin files with the <tt>Given ...When ...Then</tt> keyword sequence:</p>    <p>     <img src="../../../data/deliveryimages.acm.org/10.1145/3200000/3191654/images/www18companion-393-img1.jpg" class="img-responsive" alt=""      longdesc=""/>    </p>    <p>Each of the lines in a scenario is known as a step. More steps can be added to each <tt>Given</tt>, <tt>When</tt> and <tt>Then</tt> sections of the scenario using the keywords <tt>And</tt> and <tt>But</tt>:</p>    <p>     <img src="../../../data/deliveryimages.acm.org/10.1145/3200000/3191654/images/www18companion-393-img2.jpg" class="img-responsive" alt=""      longdesc=""/>    </p>    <p>Gherkin also supports data tables, since steps in a scenario may describe data that don&#x0027;t easily fit on a single line of a <tt>Given</tt>, <tt>When</tt> or <tt>Then</tt> sentence. Gherkin allows the placement of such details underneath a step:</p>    <p>     <img src="../../../data/deliveryimages.acm.org/10.1145/3200000/3191654/images/www18companion-393-img3.jpg" class="img-responsive" alt=""      longdesc=""/>    </p>    <section id="sec-6">     <header>     <div class="title-info">      <h3>       <span class="section-number">2.1</span> NLP-Gherkin limitations</h3>     </div>     </header>     <p>We argue that the usage of Gherkin along with NLP alone, produces a vague set of possible natural language descriptions. Furthermore, the overall system defined by such a process would be heavily dependent on the performance of the NLP mechanism employed, and would, therefore, be unreliable. Instead, the concept is that the user should follow a set of instructions<a class="fn" href="#fn1" id="foot-fn1"><sup>1</sup></a> on how to document the Web Service in natural language. The instructions are intuitive and easy to follow. When the user executes the <tt>gherkin2OAS</tt> software tool, natural language is translated to specifications.</p>     <p>     <strong>Through this approach, the reliability of the system is verified by the adherence to the provided instructions. As long as the user follows the documentation rules, he/she can be sure that a valid OpenAPI specification will be generated by gherkin2OAS. The validation of the final OpenAPI Specification is performed within the</strong>      <tt>      <strong>gherkin2OAS</strong>     </tt>      <strong>tool, using the swagger validator</strong> <a class="fn" href="#fn2" id="foot-fn2"><sup>2</sup></a>      <strong>. If the user does not follow the instructions, then the output will definitely be invalid.</strong>     </p>     <p>Taking the above points into consideration, a mapping between Gherkin concepts and OAS elements was designed.</p>    </section>   </section>   <section id="sec-7">    <header>     <div class="title-info">     <h2>      <span class="section-number">3</span> Gherkin to OpenAPI mapping</h2>     </div>    </header>    <p>Since that scenarios in Gherkin language describe state transitions and that the OpenAPI specification is used to document RESTful APIs, there is a natural connection between the two concepts. So in a sense, describing the behavior of the Web Service in Gherkin is the same as describing representational state transfer at an abstract level. Moreover, there is a relation between Domain Application Protocols<a class="fn" href="#fn3" id="foot-fn3"><sup>3</sup></a> that business stakeholders know best and REST. They both describe state transitions.</p>    <p>From Gherkin, we adopted the keywords: <tt>Feature</tt>, <tt>Background</tt>, <tt>Scenario</tt>, <tt>Given</tt>, <tt>When</tt>, <tt>Then</tt>, <tt>And</tt>, <tt>But</tt> and the Data Tables. As for OAS, also a subset of elements was adopted<a class="fn" href="#fn4" id="foot-fn4"><sup>4</sup></a>.</p>    <section id="sec-8">     <header>     <div class="title-info">      <h3>       <span class="section-number">3.1</span> Resources</h3>     </div>     </header>     <p>At a first level, the description of a Web Service is organized in resources that the service will expose. This practically means that each resource is described in Gherkin language in it&#x0027;s own &#x201C;resource document&#x201D;. This resource-based approach comes with the following benefits:</p>     <ul class="list-no-style">     <li id="list18" label="&#x2022;">The concept of a resource is abstract enough to fit any system description (agile friendly).<br/></li>     <li id="list19" label="&#x2022;">Working with resources is familiar to Web Developers.<br/></li>     <li id="list20" label="&#x2022;">Having the description of the Web Service organized in such a clear way, cuts down the complexity of the <tt>gherkin2OAS</tt> software tool.<br/></li>     <li id="list21" label="&#x2022;">As a technical bonus, resource separation means multi-threading support by design, since each resource document can be processed independently.<br/></li>     </ul>     <p>A resource document is a file written in the Gherkin language, with the <tt>.resource</tt> extension. The name of the file is the name of the resource and also part of the REST API path. For example a <tt>product.resource</tt> file could result in an <tt>/api/product</tt> endpoint. The <tt>.resource</tt> extension is necessary so that the gherkin2OAS tool can distinguish a resource file from any other.</p>    </section>    <section id="sec-9">     <header>     <div class="title-info">      <h3>       <span class="section-number">3.2</span> Given..When..Then</h3>     </div>     </header>     <p>In order to achieve the desired mapping of the Gherkin scenarios to OAS, we took advantage of the state machine logic of Gherkin. As such, a <tt>When</tt> step represents a request in the OAS world and a <tt>Then</tt> step represents a response. However, since the end goal is to assist developers in producing RESTful Web Services specifically, we needed to take into consideration the statelessness of REST. As a result the <tt>Given</tt> step does not fit as smoothly as the other two do, in a RESTful Web Service description, and was therefore used to map other features. This makes the <tt>When ...Then</tt> mapping as the core of the proposed Gherkin-based approach.</p>     <p>     <img src="../../../data/deliveryimages.acm.org/10.1145/3200000/3191654/images/www18companion-393-img4.jpg" class="img-responsive" alt=""       longdesc=""/>     </p>    </section>    <section id="sec-10">     <header>     <div class="title-info">      <h3>       <span class="section-number">3.3</span> Verbs, Parameters and Models</h3>     </div>     </header>     <p>The verb(s) of a <tt>When</tt> step are mapped to one of the four mainstream CRUD HTTP verbs: GET, POST, PUT, DELETE&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0003">3</a>]. On the other hand, the nouns of a <tt>When</tt> step are mapped to request parameters.</p>     <p>     <img src="../../../data/deliveryimages.acm.org/10.1145/3200000/3191654/images/www18companion-393-img5.jpg" class="img-responsive" alt=""       longdesc=""/>     </p>     <p>Advanced parametrization can be achieved with Gherkin&#x0027;s data tables. Each row (or column, since both table orientations are supported) could hold a certain type of data. The first column, which is required, holds the names of the parameters, the second, parameter examples and the third, parameter value ranges. This rule allows us to map Gherkin data tables to rich OAS parameter schemas that include parameter types and ranges (derived from the examples) .</p>     <p>     <img src="../../../data/deliveryimages.acm.org/10.1145/3200000/3191654/images/www18companion-393-img6.jpg" class="img-responsive" alt=""       longdesc=""/>     </p>     <p>Additionally, the data tables can be named so that they can represent an OAS model, if the step sentence ends with a semicolon (:) and contains a noun. It should be clarified that data tables can be used both in a <tt>When</tt> and a <tt>Then</tt> step.</p>     <p>     <img src="../../../data/deliveryimages.acm.org/10.1145/3200000/3191654/images/www18companion-393-img7.jpg" class="img-responsive" alt=""       longdesc=""/>     </p>     <p>Both required and non-required parameters are supported. By default all mentioned parameters are treated as required. However, if the same operation (or model) is described twice in the same resource file with different parameters, then only the common parameters between the different descriptions will be treated as required.</p>    </section>    <section id="sec-11">     <header>     <div class="title-info">      <h3>       <span class="section-number">3.4</span> Responses</h3>     </div>     </header>     <p>A response is exclusively described in a <tt>Then</tt> step and it can contain three different types of sentences:</p>     <ol class="list-no-style">     <li id="list22" label="(1)">A sentence that describes a model (see previous section).<br/></li>     <li id="list23" label="(2)">A sentence that describes a response message.<br/></li>     <li id="list24" label="(3)">A sentence that describes a link to another resource.<br/></li>     </ol>     <p>A response message is extracted by phrases in quotes. The actual phrase in quotes is further analyzed, to extract a status code based on common HTTP conventions.</p>     <p>     <img src="../../../data/deliveryimages.acm.org/10.1145/3200000/3191654/images/www18companion-393-img8.jpg" class="img-responsive" alt=""       longdesc=""/>     </p>     <p>Additionally, given that a Web Service can be fully RESTful and embracing the concept of <em>Hypermedia as the Engine of Application State</em> (HATEOAS)&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0008">8</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0012">12</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0013">13</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0016">16</a>], the proposed methodology supports HATEOAS. If a sentence in a <tt>Then</tt> step includes a verb and the name of another (already documented) resource, then the sentence is mapped to a state transfer in the generated OAS.</p>     <p>     <img src="../../../data/deliveryimages.acm.org/10.1145/3200000/3191654/images/www18companion-393-img9.jpg" class="img-responsive" alt=""       longdesc=""/>     </p>     <p>Since OAS version 2 does not directly support HATEOAS<a class="fn" href="#fn5" id="foot-fn5"><sup>5</sup></a>, we made use of the <tt>x-*</tt> operator. Therefore after conversion to OAS, a HATEOAS link array will be included in an x-links object within a response object. This is the only extension of OAS that we use.</p>    </section>    <section id="sec-12">     <header>     <div class="title-info">      <h3>       <span class="section-number">3.5</span> Roles, Resource Hierarchies and Comments</h3>     </div>     </header>     <p>Roles and path hierarchies in OAS are supported using the <tt>Given</tt> step. Since REST is stateless, the <tt>Given</tt> step can be used to set a different kind of context: which actor is performing the scenario or what is the relation between two resources. This kind of context can be described in a <tt>Background</tt> section of the resource file, or in the <tt>Given</tt> step of a scenario.</p>     <p>In the <tt>Background</tt> section, if two resource names are mentioned in a sentence and one of them is the currently described one, then the latter is a child of the first. This is translated in the sense that the path name of the described resource is going to display the hierarchical relation i.e. <tt>/api/parent/child</tt> in the generated OAS.</p>     <p>     <img src="../../../data/deliveryimages.acm.org/10.1145/3200000/3191654/images/www18companion-393-img10.jpg" class="img-responsive" alt=""       longdesc=""/>     </p>     <p>Furthermore, if a <tt>Given</tt> sentence contains a role - in the form of a noun -, then the content which follows the <tt>Given</tt> sentence, is relevant only for this role (permission-wise). If the role is declared at the <tt>Background</tt> section, then all the Gherkin scenarios described in the document, are relevant to the role. If, however, the role is only declared in a <tt>Given</tt> step of a scenario, then only that scenario is relevant to the role. Currently, a <tt>Given</tt> step inside a scenario can be used only to describe a role.</p>     <p>     <img src="../../../data/deliveryimages.acm.org/10.1145/3200000/3191654/images/www18companion-393-img11.jpg" class="img-responsive" alt=""       longdesc=""/>     </p>     <p>Lastly, comments are supported with a &#x2019;#&#x2019; in the file and their usage is strongly advised. Comments can be used to add more flexibility around the rules we just described, since they will always be ignored. They are still natural language descriptions that can improve the readability of a document significantly. All the previous rules are organized in a single document which is provided along with the <tt>gherkin2OAS</tt> software tool.</p>     <p>     <img src="../../../data/deliveryimages.acm.org/10.1145/3200000/3191654/images/www18companion-393-img12.jpg" class="img-responsive" alt=""       longdesc=""/>     </p>    </section>   </section>   <section id="sec-13">    <header>     <div class="title-info">     <h2>      <span class="section-number">4</span> Gherkin2OAS</h2>     </div>    </header>    <p>The <tt>gherkin2OAS</tt> software, written in Python 3, was developed to convert Gherkin-documented resource files to OAS documents, based on the previously described Gherkin-based rules. It consists of two main units: the NLP Engine and the Formatter.</p>    <p>The NLP engine parses the resources files, performs a preprocessing step and then generates a technical model from the Gherkin-based natural language. The design goal of this module was to employ as less machine learning as possible, in order to avoid unpredictable results. The NLP Engine performs a resource by resource top down analysis. It starts with the roles and relations, then the requests and responses and finally works its way to parameters, models, status codes and HATEOAS links. It uses common NLP techniques&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0009">9</a>] such as tokenization, POS tagging and word lists to extract technical information from natural language. The NLP Engine supports most of the OpenAPI Specification&#x0027;s data types, which it derives from the parameter examples in data tables. The Formatter,on the other hand, receives as input the technical model generated by the NLP Engine. Its responsibility is to organize the technical model&#x0027;s information into a valid OAS.</p>    <p>The technical model contains two sub-models: 1) the HATEOAS transitions between resource files and 2) the transitions between the Gherkin scenarios. These two sub-models are used by a graph plotter that draws two graphs of the REST API, based on the detected resource relations. The first graph (Figure <a class="fig" href="#fig1">1</a>), called Resource Graph, displays the transitions between resources. The second graph (Figure <a class="fig" href="#fig2">2</a>), called Application State Graph, displays transitions between application states, which, in the Gherkin world, are transitions from scenario to scenario. The second graph is a more detailed version of the first one, showing what happens within each exposed resource. It has two versions, a technical and a non-technical one, where transition verbs and response messages are derived from the OAS and the Gherkin-based documentation respectively. The Resource Graph and the Application State Graph can be used to validate the expected functionality of the service. They can also be used to further analyze technical aspects of the API such as performance, required transitions to reach a resource, etc. <figure id="fig1">     <img src="../../../data/deliveryimages.acm.org/10.1145/3200000/3191654/images/www18companion-393-fig1.jpg" class="img-responsive" alt=""       longdesc=""/>     <div class="figure-caption">      <span class="figure-number">Figure 1:</span>      <span class="figure-title">Gherkin2OAS: Resource graph.</span>     </div>     </figure>     <figure id="fig2">     <img src="../../../data/deliveryimages.acm.org/10.1145/3200000/3191654/images/www18companion-393-fig2.jpg" class="img-responsive" alt=""       longdesc=""/>     <div class="figure-caption">      <span class="figure-number">Figure 2:</span>      <span class="figure-title">Gherkin2OAS: State Graph.</span>     </div>     </figure>    </p>   </section>   <section id="sec-14">    <header>     <div class="title-info">     <h2>      <span class="section-number">5</span> Related Work</h2>     </div>    </header>    <p>In&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0007">7</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0014">14</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0015">15</a>] the research objective is the development of software tools that would reduce the cost and speed of software development. As part of this research, NLP methodologies have been developed, that extract features from software requirement documents, annotated by humans using a requirements ontology graph. After that, a software tool receives as input the annotated text and produces as an output a technical model. Following this work, we built on existing widespread technologies such as Gherkin and OAS, instead of custom-made ones, in order for our methodology have a larger impact on development teams.</p>    <p>Furthermore, in&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0010">10</a>] a case is made for generating tests from Gherkin scenarios using NLP. Moreover, in&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0006">6</a>], the authors propose modeling existing Gherkin scenarios so that they can be consumed by model-based testing tools and so that inter-scenario interaction can be achieved. Finally, &#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0011">11</a>] also proposes a modeling concept of the Gherkin language that is eventually translated to code. In our case, we used lightweight NLP techniques to transform Gherkin constructs into OAS specifications that can be further be used to scaffold client and server code.</p>   </section>   <section id="sec-15">    <header>     <div class="title-info">     <h2>      <span class="section-number">6</span> Discussion</h2>     </div>    </header>    <p>In this paper, we showed how the combination of two established software development methods can be combined into one, for improving the overall development process. We tuned the concept to work best with RESTful development by integrating the HATEOAS and OAS concepts into the proposed solution. The goal is to assist development teams with an agile RESTful API development strategy.</p>    <p>Even though our focus was to provide a robust method and a tool for transforming requirements to specifications in order to bridge communication barriers, the results of this work can also help in a quantitative manner by scaffolding the source code of the web service from the OAS specification using tools provided by the open source community. It has been shown that transforming requirements expressed in natural language to source code can increase developer productivity&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0019">19</a>].</p>    <p>One of the main challenges in our approach is to maintain the benefits of natural language, while maintaining a deterministic result. One could argue that the implemented NLP rules constrain the user from expressing the requirements in even more natural ways. However, the description of the system in terms of resource files tackles this concern. That is because, even though descriptions in a single file must be short and specific, describing the service in multiple resource files and scenarios allows the user to be very verbose in the end. With the proposed design we are trying to guide the user to be expressive not in paragraph sizes, but in resource and scenario counts. In addition, comments can be used within the resource files as notes to add more expressiveness to the documentation while not risking conversion results.</p>    <p>Another point of discussion is the debate about whether the proposed methodology is worth to learn versus writing straight in OAS. However, the proposed solution is not to be used instead of OAS. The main goal is to enforce communication between parties involved in the development of a Web Service. Of course, at least basic knowledge of OAS is required, otherwise the tool would have no use for the developer. Additionally, it should be noted that writing a service directly in OAS can be proven a very tedious process especially for large services. On the other hand, our experimentation has shown that 211 and 269 lines of Gherkin are mapped to 909 and 898 lines of OAS respectivelly in two of our test scenarios<a class="fn" href="#fn6" id="foot-fn6"><sup>6</sup></a>.</p>    <p>In terms of future work, the OpenAPI specification version 3 can be adopted. We used the OAS version 2 because it was the only one available at the time we developed this method. In version 3, nested parameters (change 3) and HATEOAS (change 7) are better supported. Moreover, polymorphism in OAS (<tt>multipleof</tt>, <tt>oneOf</tt>, <tt>anyOf</tt>, <tt>allOf</tt>) could be supported with natural language, but being more technical, it probably wouldn&#x0027;t have much use for business stakeholders. Last but not least, the whole system could be integrated into an IDE that would be aware of our method and would generate OAS and graphs on the fly.</p>    <p>Finally one can find the <tt>gherkin2OAS</tt> tool&#x00A0;<a class="fn" href="#fn7" id="foot-fn7"><sup>7</sup></a>, a usage video demo&#x00A0;<a class="fn" href="#fn8" id="foot-fn8"><sup>8</sup></a>, a full example of resource files&#x00A0;<a class="fn" href="#fn9" id="foot-fn9"><sup>9</sup></a> and their generated OpenAPI specification&#x00A0;<a class="fn" href="#fn10" id="foot-fn10"><sup>10</sup></a> in the URLs provided as footnotes.</p>   </section>  </section>  <section class="back-matter">   <section id="ref-001">    <header>     <div class="title-info">     <h2 class="page-brake-head">REFERENCES</h2>     </div>    </header>    <ul class="bibUl">     <li id="BibPLXBIB0001" label="[1]">[n. d.]. Behavior Driven Development. <a class="link-inline force-break" href="https://en.wikipedia.org/wiki/Behavior-driven_development"      target="_blank">https://en.wikipedia.org/wiki/Behavior-driven_development</a>. ([n. d.]).</li>     <li id="BibPLXBIB0002" label="[2]">[n. d.]. Gherkin Wiki. <a class="link-inline force-break" href="https://github.com/cucumber/cucumber/wiki/Gherkin"      target="_blank">https://github.com/cucumber/cucumber/wiki/Gherkin</a>. ([n. d.]).</li>     <li id="BibPLXBIB0003" label="[3]">[n. d.]. HTTP Verbs. <a class="link-inline force-break" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html"      target="_blank">https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html</a>. ([n. d.]). [Online; accessed 16-Jun-2018].</li>     <li id="BibPLXBIB0004" label="[4]">[n. d.]. The OpenAPI Specification. <a class="link-inline force-break" href="https://github.com/OAI/OpenAPI-Specification"      target="_blank">https://github.com/OAI/OpenAPI-Specification</a>. ([n. d.]).</li>     <li id="BibPLXBIB0005" label="[5]">Kent Beck. 2002. <em>      <em>Test Driven Development: By Example</em>     </em>. Addison-Wesley Longman.</li>     <li id="BibPLXBIB0006" label="[6]">Christian Colombo, Mark Micallef, and Mark Scerri. 2014. Verifying Web Applications: From Business Level Specifications to Automated Model-Based Testing. 141 (03 2014).</li>     <li id="BibPLXBIB0007" label="[7]">Themistoklis Diamantopoulos, Michael Roth, Andreas Symeonidis, and Ewan Klein. 2017. Software requirements as an application domain for natural language processing. <em>      <em>Language Resources and Evaluation</em>     </em> (02 2017), 1&#x2013;30. <a class="link-inline force-break" href="https://doi.org/s10579-017-9381-z"      target="_blank">https://doi.org/s10579-017-9381-z</a></li>     <li id="BibPLXBIB0008" label="[8]">Roy&#x00A0;Thomas Fielding. 2000. Architectural Styles and the Design of Network-based Software Architectures. (2000).</li>     <li id="BibPLXBIB0009" label="[9]">Automatically Generating&#x00A0;Tests from Natural Language Descriptions&#x00A0;of Software&#x00A0;Behavior. 2009. <em>      <em>An Introduction to Information Retrieval</em>     </em>. Cambridge University Press.</li>     <li id="BibPLXBIB0010" label="[10]">Sunil Kamalakar. 2013. Automatically Generating Tests from Natural Language Descriptions of Software Behavior. (2013).</li>     <li id="BibPLXBIB0011" label="[11]">Thomas Mayer, Falk Pappert, and Oliver Rose. 2015. A Natural-language-based Simulation Modelling Approach. In <em>      <em>Simulation in Production and Logistics</em>     </em>.</li>     <li id="BibPLXBIB0012" label="[12]">Leonard Richardson and Mike Amundsen. 2013. <em>      <em>RESTful Web APIs</em> (1ed.)</em>. O&#x0027;Reilly Media.</li>     <li id="BibPLXBIB0013" label="[13]">Leonard Richardson and Sam Ruby. 2007. <em>      <em>RESTful Web Services</em> (1ed.)</em>. O&#x0027;Reilly Media.</li>     <li id="BibPLXBIB0014" label="[14]">Michael Roth, Themistoklis Diamantopoulos, Ewan Klein, and Andreas Symeonidis. 2014. Software Requirements: A new Domain for Semantic Parsers. (2014).</li>     <li id="BibPLXBIB0015" label="[15]">Michael Roth and Ewan Klein. 2015. Parsing Software Requirements with an Ontology-based Semantic Role Labeler. In <em>      <em>Proceedings of the IWCS Workshop: Language and Ontologies 2015</em>     </em>.</li>     <li id="BibPLXBIB0016" label="[16]">Jim Webber, Savas Parastatidis, and Ian Robinson. 2010. <em>      <em>REST in Practice</em> (1ed.)</em>. O&#x0027;Reilly Media.</li>     <li id="BibPLXBIB0017" label="[17]">Kent&#x00A0;Beck with Cynthia&#x00A0;Andres. 1999. <em>      <em>Extreme Programming Explained</em>     </em>. Addison-Wesley.</li>     <li id="BibPLXBIB0018" label="[18]">Matt Wynne and Aslak Hellesoy. 2012. <em>      <em>The Cucumber Book</em>     </em>. The Pragmatic Bookshelf.</li>     <li id="BibPLXBIB0019" label="[19]">Christoforos Zolotas, Themistoklis&#x00A0;G. Diamantopoulos, Kyriakos&#x00A0;C. Chatzidimitriou, and Andreas&#x00A0;L. Symeonidis. 2017. From requirements to source code: a Model-Driven Engineering approach for RESTful web services. <em>      <em>Autom. Softw. Eng.</em>     </em>24, 4 (2017), 791&#x2013;838. <a class="link-inline force-break"      href="https://doi.org/10.1007/s10515-016-0206-x"      target="_blank">https://doi.org/10.1007/s10515-016-0206-x</a></li>    </ul>   </section>  </section>  <section id="foot-001" class="footnote">   <header>    <div class="title-info">     <h2>FOOTNOTE</h2>    </div>   </header>   <p id="fn1"><a href="#foot-fn1"><sup>1</sup></a><a class="link-inline force-break"     href="https://github.com/anasdima/gherkin2oas/blob/master/Gherkin-Instructions.pdf">https://github.com/anasdima/gherkin2oas/blob/master/Gherkin-Instructions.pdf</a>   </p>   <p id="fn2"><a href="#foot-fn2"><sup>2</sup></a><a class="link-inline force-break"     href=" https://pypi.python.org/pypi/swagger-spec-validator"> https://pypi.python.org/pypi/swagger-spec-validator</a>   </p>   <p id="fn3"><a href="#foot-fn3"><sup>3</sup></a><a class="link-inline force-break"     href="https://en.wikipedia.org/wiki/Domain_Application_Protocol">https://en.wikipedia.org/wiki/Domain_Application_Protocol</a>   </p>   <p id="fn4"><a href="#foot-fn4"><sup>4</sup></a><a class="link-inline force-break"     href="https://github.com/anasdima/gherkin2oas/blob/master/OpenAPI-Specification-v2-support.PNG">https://github.com/anasdima/gherkin2oas/blob/master/OpenAPI-Specification-v2-support.PNG</a> </p>   <p id="fn5"><a href="#foot-fn5"><sup>5</sup></a><a class="link-inline force-break"     href="https://github.com/OAI/OpenAPI-Specification/issues/577">https://github.com/OAI/OpenAPI-Specification/issues/577</a> </p>   <p id="fn6"><a href="#foot-fn6"><sup>6</sup></a><a class="link-inline force-break"     href="https://github.com/anasdima/gherkin2oas/tree/master/examples">https://github.com/anasdima/gherkin2oas/tree/master/examples</a>   </p>   <p id="fn7"><a href="#foot-fn7"><sup>7</sup></a><a class="link-inline force-break" href="https://github.com/anasdima/gherkin2oas">https://github.com/anasdima/gherkin2oas</a>   </p>   <p id="fn8"><a href="#foot-fn8"><sup>8</sup></a><a class="link-inline force-break"     href="https://www.youtube.com/watch?v=G5TNixy-dEc">https://www.youtube.com/watch?v=G5TNixy-dEc</a>   </p>   <p id="fn9"><a href="#foot-fn9"><sup>9</sup></a><a class="link-inline force-break"     href="https://github.com/anasdima/gherkin2oas/tree/master/examples">https://github.com/anasdima/gherkin2oas/tree/master/examples</a>   </p>   <p id="fn10"><a href="#foot-fn10"><sup>10</sup></a><a class="link-inline force-break"     href="https://github.com/anasdima/gherkin2oas/tree/master/generated-specifications">https://github.com/anasdima/gherkin2oas/tree/master/generated-specifications</a>   </p>   <div class="bibStrip">    <p>This paper is published under the Creative Commons Attribution 4.0 International (CC-BY&#x00A0;4.0) license. Authors reserve their rights to disseminate the work on their personal and corporate Web sites with the appropriate attribution.</p>    <p>     <em>WWW '18, April 23-27, 2018, Lyon, France</em>    </p>    <p>&#x00A9; 2018; IW3C2 (International World Wide Web Conference Committee), published under Creative Commons CC-BY&#x00A0;4.0 License. ACM ISBN 978-1-4503-5640-4/18/04.<br/>DOI: <a class="link-inline force-break" target="_blank"     href="https://doi.org/10.1145/3184558.3191654">https://doi.org/10.1145/3184558.3191654</a>    </p>   </div>  </section>  <div class="pubHistory">   <p/>  </div>  </body> </html> 
