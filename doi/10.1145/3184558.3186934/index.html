<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta name="generator" content=
  "HTML Tidy for HTML5 for Linux version 5.7.16" />
  <title>Tink: A Temporal Graph Analytics Library for Apache
  Flink</title><!-- Copyright (c) 2010-2015 The MathJax Consortium -->
  <meta http-equiv="Content-Type" content=
  "text/html; charset=utf-8" />
  <meta name="viewport" content=
  "width=device-width; initial-scale=1.0;" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="screen, print" rel="stylesheet" href=
  "../../../data/dl.acm.org/pubs/lib/css/bootstrap.min.css" />
  <link media="screen, print" rel="stylesheet" href=
  "../../../data/dl.acm.org/pubs/lib/css/bootstrap-theme.min.css" />
  <link media="screen, print" rel="stylesheet" href=
  "../../../data/dl.acm.org/pubs/lib/css/main.css" />
  <script src="../../../data/dl.acm.org/pubs/lib/js/jquery.min.js" type=
  "text/javascript"></script>
  <script src="../../../data/dl.acm.org/pubs/lib/js/bootstrap.min.js"
  type="text/javascript"></script>
  <script src="../../../data/dl.acm.org/pubs/lib/js/bibCit.js" type=
  "text/javascript"></script>
  <script src="../../../data/dl.acm.org/pubs/lib/js/divTab.js" type=
  "text/javascript"></script>
  <script type="text/javascript" src=
  "../../../data/dl.acm.org/pubs/lib/js/MathJax.js?config=TeX-AMS_CHTML"></script>
  <script type="text/x-mathjax-config">
  <![CDATA[
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
  ]]>
  </script>
</head>
<body id="main">
  <section class="front-matter">
    <section>
      <header class="title-info">
        <div class="journal-title">
          <h1><span class="title">Tink: A Temporal Graph Analytics
          Library for Apache Flink</span><br />
          <span class="subTitle"></span></h1>
        </div>
      </header>
      <div class="authorGroup">
        <div class="author">
          <span class="givenName">Wouter</span> <span class=
          "surName">Lightenberg</span> Eindhoven University of
          Technology, <a href=
          "mailto:wouter@onzichtbaar.net@tue.nl">wouter@onzichtbaar.net@tue.nl</a>
        </div>
        <div class="author">
          <span class="givenName">Yulong</span> <span class=
          "surName">Pei</span> Eindhoven University of Technology,
          <a href="mailto:y.pei.1@tue.nl">y.pei.1@tue.nl</a>
        </div>
        <div class="author">
          <span class="givenName">George</span> <span class=
          "surName">Fletcher</span> Eindhoven University of
          Technology, <a href=
          "mailto:g.h.l.fletcher@tue.nl">g.h.l.fletcher@tue.nl</a>
        </div>
        <div class="author">
          <span class="givenName">Mykola</span> <span class=
          "surName">Pechenizkiy</span> Eindhoven University of
          Technology, <a href=
          "mailto:m.pechenizkiy@tue.nl">m.pechenizkiy@tue.nl</a>
        </div>
      </div><br />
      <div class="pubInfo">
        <p>DOI: <a href="https://doi.org/10.1145/3184558.3186934"
        target=
        "_blank">https://doi.org/10.1145/3184558.3186934</a><br />
        WWW '18: <a href="https://doi.org/10.1145/3184558" target=
        "_blank">Proceedings of The Web Conference 2018</a>, Lyon,
        France, April 2018</p>
      </div>
      <div class="abstract">
        <p><small>We introduce the Tink library for distributed
        temporal graph analytics. Increasingly, reasoning about
        temporal aspects of graph-structured data collections is an
        important aspect of analytics. For example, in a
        communication network, time plays a fundamental role in the
        propagation of information within the network. Whereas
        existing tools for temporal graph analysis are built stand
        alone, Tink is a library in the Apache Flink ecosystem,
        thereby leveraging its advanced mature features such as
        distributed processing and query optimization. Furthermore,
        Flink requires little effort to process and clean the data
        without having to use different tools before analyzing the
        data. Tink focuses on interval graphs in which every edge
        is associated with a starting time and an ending time. The
        library provides facilities for temporal graph creation and
        maintenance, as well as standard temporal graph measures
        and algorithms. Furthermore, the library is designed for
        ease of use and extensibility.</small></p>
      </div>
      <div class="classifications">
        <div class="AcmReferenceFormat">
          <p><small><span style="font-weight:bold;">ACM Reference
          Format:</span><br />
          Wouter Lightenberg, Yulong Pei, George Fletcher, and
          Mykola Pechenizkiy. 2018. Tink: A Temporal Graph
          Analytics Library for Apache Flink. In <em>WWW '18
          Companion: The 2018 Web Conference Companion,</em>
          <em>April 23–27, 2018,</em> <em>Lyon, France. ACM, New
          York, NY, USA</em> 3 Pages. <a href=
          "https://doi.org/10.1145/3184558.3186934" class=
          "link-inline force-break" target=
          "_blank">https://doi.org/10.1145/3184558.3186934</a></small></p>
        </div>
      </div>
    </section>
  </section>
  <section class="body">
    <section id="sec-5">
      <header>
        <div class="title-info">
          <h2><span class="section-number">1</span>
          Introduction</h2>
        </div>
      </header>
      <p>Analytics on temporal graphs has recently attracted
      increasing interest from research communities [<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0007">7</a>]. For example, in a social
      network, time windows on the edges of the graph play a
      fundamental role in the propagation of information within the
      network. Temporal graph analytics is an important and
      ubiquitous task with many application domains, and hence has
      experience recent intensive study, e.g., [<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0009">9</a>, <a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0012">12</a>]. Although different
      systems have been developed to analyze temporal graphs, two
      major limitations exist: (1) most systems are stand-alone,
      and hence their data structures and algorithms are diverse
      and it is difficult to reuse code and compare different
      systems; (2) most systems focus on time instances rather than
      intervals so it is difficult to generalize them to analyze
      different types of temporal graphs, e.g., temporal property
      graph model introduced in Section&nbsp;<a class="sec" href=
      "#sec-6">2</a>. To solve these problems, we have recently
      introduced Tink, a temporal graph analytics
      library&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0008">8</a>].<a class="fn" href="#fn1" id=
      "foot-fn1"><sup>1</sup></a> Tink is built on top of the
      DataSet API of Apache Flink<a class="fn" href="#fn2" id=
      "foot-fn2"><sup>2</sup></a>. It makes use of Gelly<a class=
      "fn" href="#fn3" id="foot-fn3"><sup>3</sup></a> and focuses
      on interval graphs in which every edge is associated with a
      starting time and an ending time. Flink is one of the most
      representative systems for distributed big data analytics.
      Gelly is the graph processing engine of Flink built on top of
      the DataSet API. Gelly provides methods to create, transform
      and modify graphs, as well a library of graph algorithms
      including PageRank and label propagation. The Stack of Flink
      is displayed in Figure&nbsp;<a class="fig" href=
      "#fig1">1</a>, where Tink at the top-right corner.</p>
      <figure id="fig1">
        <img src=
        "../../../data/deliveryimages.acm.org/10.1145/3190000/3186934/images/www18companion-174-fig1.jpg"
        class="img-responsive" alt="Figure 1" longdesc="" />
        <div class="figure-caption">
          <span class="figure-number">Figure 1:</span> <span class=
          "figure-title">The Tink library in the Apache Flink stack
          (adapted from [<a class="bib" data-trigger="hover"
          data-toggle="popover" data-placement="top" href=
          "#BibPLXBIB0001">1</a>]).</span>
        </div>
      </figure>
      <p></p>
      <p><strong>Related Work</strong>. Tink differs from existing
      tools for temporal graph analytics on three aspects: it is
      the only one built on top of an existing general-purpose data
      processing framework, the only one supporting time intervals
      instead of time instances and the only one does not use
      snapshot storage. For instance, Chronos is a storage and
      execution engine designed and optimized specifically for
      running in-memory iterative graph computation on temporal
      graphs&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href="#BibPLXBIB0006">6</a>].
      Kineograph provides a distributed platform for incoming data
      to construct a continuously changing graph and the difference
      of Kineograph is the separation of graph updates and
      computations&nbsp;[<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0004">4</a>]. Graphstream's main focus is not
      temporal graph analytics, but it is one of the larger
      open-source projects that enables these analyses to be built
      upon&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href=
      "#BibPLXBIB0005">5</a>].</p>
    </section>
    <section id="sec-6">
      <header>
        <div class="title-info">
          <h2><span class="section-number">2</span> Temporal
          Property Graph Model</h2>
        </div>
      </header>
      <p>The Tink data model is an extension of the
      well-established property graph model, where a graph instance
      consists of a finite set of labelled nodes, a set of labelled
      directed edges between these nodes, and both nodes and edges
      are associated with finite sets of property-values [<a class=
      "bib" data-trigger="hover" data-toggle="popover"
      data-placement="top" href="#BibPLXBIB0002">2</a>]. Our data
      model extends this model such that each edge has an
      associated time window. An example of a temporal property
      graph model is shown in Figure&nbsp;<a class="fig" href=
      "#fig2">2</a>.</p>
      <p>Formally, given an infinite set of (node and edge) labels
      <strong>L</strong>, an infinite set of property names
      <strong>P</strong>, an infinite set of values
      <strong>V</strong> and an infinite set of time windows
      <span class="inline-equation"><span class="tex">${\bf T} =
      \lbrace [i,j] \mid i,j \in \mathbb {N}, i \le
      j\rbrace$</span></span> , a <em>temporal property graph</em>
      is a tuple (<em>N</em>, <em>E</em>, <em>ρ</em>, <em>λ</em>,
      <em>σ</em>, <em>τ</em>) where •<em>N</em> is a finite set of
      vertices; <em>E</em> is a finite set of edges; •<em>ρ</em>:
      <em>E</em> → (<em>N</em> × <em>N</em>) is a function from
      edges to source-target node pairs; •<em>λ</em>:
      (<em>N</em>∪<em>E</em>) → <em>SET</em>(<strong>L</strong>) is
      a function from vertices and edges to sets of labels (i.e.,
      <em>SET</em>(<strong>L</strong>) is the set of all finite
      subsets of <strong>L</strong>); •<em>σ</em>:
      (<em>N</em>∪<em>E</em>) × <strong>P</strong> →
      <strong>V</strong> is a partial function from the property
      names of vertices and edges to their values; and,
      •<em>τ</em>: <em>E</em> → <strong>T</strong> is a function
      from edges to time windows.</p>
      <p>In our example graph of Figure <a class="fig" href=
      "#fig2">2</a>, we have that <em>λ</em>(15) = ∅,
      <em>ρ</em>(15) = (3, 6), <em>λ</em>(14) = {<em>Knows</em>,
      <em>Likes</em>}, <em>σ</em>(3, <em>sex</em>) = <em>Male</em>,
      and <em>τ</em>(14) = [5, 6].</p>
    </section>
    <section id="sec-7">
      <header>
        <div class="title-info">
          <h2><span class="section-number">3</span> System
          Design</h2>
        </div>
      </header>
      <p>The functionality of Tink consists of four components: (1)
      Graph creation: a temporal graph can be created from text
      sources, collections and Flink's datasets. (2) Graph
      mutations: temporal graphs can be evolved, i.e. adding and
      removing edges and vertices. (3) Graph algorithms: Several
      temporal graph algorithms have been implemented including
      shortest path earliest arrival time (SSSTPEAT) and shortest
      path fastest path (SSSTPFP) [<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0012">12</a>]. (4) Graph metrics: Several temporal
      centrality metrics have been implemented including temporal
      betweenness and temporal closeness&nbsp;[<a class="bib"
      data-trigger="hover" data-toggle="popover" data-placement=
      "top" href="#BibPLXBIB0007">7</a>]. The library is designed
      for ease of use and with support for ease of
      extensibility.</p>
      <p>Most of the current algorithms in the library use the
      Signal/Collect model&nbsp;[<a class="bib" data-trigger=
      "hover" data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0010">10</a>]. In this model a vertex produces
      messages (signal) and updates its value based on the messages
      it receives (collect). In every iteration we create signals
      from the nodes and collect them. Each iteration is called a
      superstep. If there are no more messages to be collected or
      the maximum number of iterations has been reached the
      algorithm will converge.</p>
      <figure id="fig2">
        <img src=
        "../../../data/deliveryimages.acm.org/10.1145/3190000/3186934/images/www18companion-174-fig2.jpg"
        class="img-responsive" alt="Figure 2" longdesc="" />
        <div class="figure-caption">
          <span class="figure-number">Figure 2:</span> <span class=
          "figure-title">Temporal property graph model example
          where nodes represent people and edges represent their
          relationships in time.</span>
        </div>
      </figure>
      <p></p>
    </section>
    <section id="sec-8">
      <header>
        <div class="title-info">
          <h2><span class="section-number">4</span>
          Experiments</h2>
        </div>
      </header>
      <p>To verify and demonstrate the functionality of Tink, we
      conduct experiments on both synthetic and real datasets
      [<a class="bib" data-trigger="hover" data-toggle="popover"
      data-placement="top" href="#BibPLXBIB0008">8</a>]. First, we
      run tests on Tink for performance w.r.t different numbers of
      cores. Secondly, we inspect the results on the execution of a
      graph with different interval distributions.</p>
      <p><strong>Datasets.</strong> For synthetic dataset, we
      generated several datasets with gMark, a state of the art
      graph generator [<a class="bib" data-trigger="hover"
      data-toggle="popover" data-placement="top" href=
      "#BibPLXBIB0003">3</a>]. For real dataset, Facebook message
      graph&nbsp;[<a class="bib" data-trigger="hover" data-toggle=
      "popover" data-placement="top" href="#BibPLXBIB0011">11</a>]
      has been used. Note that for synthetic data the starting time
      is randomly chosen between 1 and 100, and for real data the
      starting time is the timestamp associated with edges. Four
      different distributions, i.e., constant, normal, uniform and
      Zipfian, have been used to generate the interval duration for
      edges in both datasets.</p>
      <p><strong>Results.</strong> For <em>parallelization</em>
      experiment, Tink is made to be run on different machines and
      different cores simultaneously. We test the SSSTPEAT
      algorithm on Facebook messages graph with the different
      interval distributions. The results show that the algorithm
      runtime descreases as more cores are added and it converges
      around 4 cores. At 7 cores there is a small bump in the
      performance, this is probably because of the machine having 8
      cores and that several cores are in use for background
      processes.</p>
      <p>The results of <em>interval distributions</em> show that
      the directed graphs are always faster than the undirected
      graphs. This can be explained by Tink's implementation of
      directed graphs. In Tink an undirected graph is a directed
      graph in which the edges are duplicated and reversed. The
      result is a graph twice the size which has to be processed.
      When comparing the different distributions we only see slight
      differences like the <em>constant 0</em> being the slowest,
      this can be explained by the nature of the SSSTPEAT algorithm
      which will converge faster if there are no nodes left to
      visit, if every node has a constant interval time of 0 there
      are many nodes to be visited before the algorithm converges,
      thus resulting in a longer duration.</p>
    </section>
    <section id="sec-9">
      <header>
        <div class="title-info">
          <h2><span class="section-number">5</span>
          Conclusions</h2>
        </div>
      </header>
      <p>We introduced Tink, a library for scalable temporal graph
      analytics. We developed a number of novel algorithms to
      enable an efficient and scalable temporal graph analytics in
      a distributed environment. We demonstrated the feasibility
      and usefulness of our approach by performing ease-of-use and
      empirical studies. Further, we demonstrated the ease of
      development of temporal analytics algorithms by using Tink's
      APIs.</p>
    </section>
  </section>
  <section class="back-matter">
    <section id="ref-001">
      <header>
        <div class="title-info">
          <h2 class="page-brake-head">REFERENCES</h2>
        </div>
      </header>
      <ul class="bibUl">
        <li id="BibPLXBIB0001" label="[1]">2018. Intro to Apache
        Flink. (2018). <a class="link-inline force-break" href=
        "https://flink.apache.org/introduction.html" target=
        "_blank">https://flink.apache.org/introduction.html</a>
        </li>
        <li id="BibPLXBIB0002" label="[2]">Renzo Angles, Marcelo
        Arenas, Pablo Barceló, Aidan Hogan, Juan&nbsp;L. Reutter,
        and Domagoj Vrgoc. 2017. Foundations of modern query
        languages for graph databases. <em><em>ACM Comput.
        Surv.</em></em> 50, 5 (2017), 68:1–68:40.</li>
        <li id="BibPLXBIB0003" label="[3]">Guillaume Bagan, Angela
        Bonifati, Radu Ciucanu, George&nbsp;HL Fletcher, Aurélien
        Lemay, and Nicky Advokaat. 2017. gMark: schema-driven
        generation of graphs and queries. <em><em>IEEE
        TKDE</em></em> 29, 4 (2017), 856–869.</li>
        <li id="BibPLXBIB0004" label="[4]">Raymond
        Cheng&nbsp;et&nbsp;al. 2012. Kineograph: taking the pulse
        of a fast-changing and connected world. In
        <em><em>ECCS’12</em></em> . ACM, 85–98.</li>
        <li id="BibPLXBIB0005" label="[5]">Antoine Dutot, Frédéric
        Guinand, Damien Olivier, and Yoann Pigné. 2007.
        Graphstream: A tool for bridging the gap between complex
        systems and dynamic graphs. In <em><em>ECCS’07</em></em>
        .</li>
        <li id="BibPLXBIB0006" label="[6]">Wentao Han, Youshan
        Miao, Kaiwei Li, Ming Wu, Fan Yang, Lidong Zhou, Vijayan
        Prabhakaran, Wenguang Chen, and Enhong Chen. 2014. Chronos:
        a graph engine for temporal graph analysis. In
        <em><em>ECCS’14</em></em> . ACM, 1.</li>
        <li id="BibPLXBIB0007" label="[7]">Petter Holme. 2015.
        Modern temporal network theory: A colloquium. <em><em>Eur
        Phys J B</em></em> 88(2015), 234–264.</li>
        <li id="BibPLXBIB0008" label="[8]">Wouter Ligtenberg. 2017.
        Tink, a temporal graph analytics library for Apache Flink.
        <em><em>Eindhoven University of Technology</em></em>
        (2017).</li>
        <li id="BibPLXBIB0009" label="[9]">Ashwin Paranjape,
        Austin&nbsp;R. Benson, and Jure Leskovec. 2017. Motifs in
        Temporal Networks. In <em><em>WSDM</em></em> .
        601–610.</li>
        <li id="BibPLXBIB0010" label="[10]">Philip Stutz, Abraham
        Bernstein, and William Cohen. 2010. Signal/collect: graph
        algorithms for the (semantic) web.
        <em><em>ISWC’10</em></em> (2010), 764–780.</li>
        <li id="BibPLXBIB0011" label="[11]">Bimal Viswanath, Alan
        Mislove, Meeyoung Cha, and Krishna&nbsp;P Gummadi. 2009. On
        the evolution of user interaction in facebook. In
        <em><em>WOSN’09</em></em> . ACM, 37–42.</li>
        <li id="BibPLXBIB0012" label="[12]">Huanhuan Wu, James
        Cheng, Yiping Ke, Silu Huang, Yuzhen Huang, and Hejun Wu.
        2016. Efficient Algorithms for Temporal Path Computation.
        <em><em>IEEE TKDE</em></em> 28, 11 (2016), 2927–2942.</li>
      </ul>
    </section>
  </section>
  <section id="foot-001" class="footnote">
    <header>
      <div class="title-info">
        <h2>FOOTNOTE</h2>
      </div>
    </header>
    <p id="fn1"><a href="#foot-fn1"><sup>1</sup></a><a class=
    "link-inline force-break" href=
    "https://github.com/otherwise777/Tink">https://github.com/otherwise777/Tink</a></p>
    <p id="fn2"><a href="#foot-fn2"><sup>2</sup></a><a class=
    "link-inline force-break" href=
    "https://flink.apache.org/">https://flink.apache.org/</a></p>
    <p id="fn3"><a href="#foot-fn3"><sup>3</sup></a><a class=
    "link-inline force-break" href=
    "https://ci.apache.org/projects/flink/flink-docs-master/dev/libs/gelly/">https://ci.apache.org/projects/flink/flink-docs-master/dev/libs/gelly/</a></p>
    <div class="bibStrip">
      <p>This paper is published under the Creative Commons
      Attribution 4.0 International (CC-BY&nbsp;4.0) license.
      Authors reserve their rights to disseminate the work on their
      personal and corporate Web sites with the appropriate
      attribution.</p>
      <p><em>WWW '18, April 23-27, 2018, Lyon, France</em></p>
      <p>© 2018; IW3C2 (International World Wide Web Conference
      Committee), published under Creative Commons CC-BY&nbsp;4.0
      License. ACM ISBN 978-1-4503-5640-4/18/04.<br />
      DOI: <a class="link-inline force-break" target="_blank" href=
      "https://doi.org/10.1145/3184558.3186934">https://doi.org/10.1145/3184558.3186934</a></p>
    </div>
  </section>
  <div class="pubHistory">
    <p></p>
  </div>
</body>
</html>
