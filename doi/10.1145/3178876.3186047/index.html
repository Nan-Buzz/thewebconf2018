<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> <head>  <title>Testing Incentive Compatibility in Display Ad Auctions</title>  <!-- Copyright (c) 2010-2015 The MathJax Consortium --><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta>  <meta name="viewport" content="width=device-width; initial-scale=1.0;"></meta>  <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>  <link media="screen, print" rel="stylesheet"    href="../../../data/dl.acm.org/pubs/lib/css/bootstrap.min.css"/><link media="screen, print" rel="stylesheet"    href="../../../data/dl.acm.org/pubs/lib/css/bootstrap-theme.min.css"/><link media="screen, print" rel="stylesheet"    href="../../../data/dl.acm.org/pubs/lib/css/main.css"/><script src="../../../data/dl.acm.org/pubs/lib/js/jquery.min.js" type="text/javascript"></script>  <script src="../../../data/dl.acm.org/pubs/lib/js/bootstrap.min.js" type="text/javascript"></script>  <script src="../../../data/dl.acm.org/pubs/lib/js/bibCit.js" type="text/javascript"></script>  <script src="../../../data/dl.acm.org/pubs/lib/js/divTab.js" type="text/javascript"></script>  <script type="text/javascript"    src="../../../data/dl.acm.org/pubs/lib/js/MathJax.js?config=TeX-AMS_CHTML"></script>  <script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});</script> </head> <body id="main">  <section class="front-matter">   <section>    <header class="title-info">    <div class="journal-title">     <h1>      <span class="title">Testing Incentive Compatibility in Display Ad Auctions</span>      <br/>      <span class="subTitle"/>     </h1>    </div>    </header>    <div class="authorGroup">    <div class="author">     <span class="givenName">S&#x00E9;bastien</span>     <span class="surName">Lahaie</span>,     Google Research, New York, NY, USA, <a href="mailto:slahaie@google.com">slahaie@google.com</a>    </div>    <div class="author">     <span class="givenName">Andr&#x00E9;s Mu&#x00F1;oz</span>     <span class="surName">Medina</span>,     Google Research, New York, NY, USA, <a href="mailto:ammedina@google.com">ammedina@google.com</a>    </div>    <div class="author">     <span class="givenName">Balasubramanian</span>     <span class="surName">Sivan</span>,     Google Research, New York, NY, USA, <a href="mailto:balusivan@google.com">balusivan@google.com</a>    </div>    <div class="author">     <span class="givenName">Sergei</span>     <span class="surName">Vassilvitskii</span>,     Google Research, New York, NY, USA, <a href="mailto:sergeiv@google.com">sergeiv@google.com</a>    </div>                    </div>    <br/>    <div class="pubInfo">    <p>DOI: <a href="https://doi.org/10.1145/3178876.3186047" target="_blank">https://doi.org/10.1145/3178876.3186047</a>     <br/>WWW '18: <a href="https://doi.org/10.1145/3178876" target="_blank">Proceedings of The Web Conference 2018</a>, Lyon, France, April 2018</p>    </div>    <div class="abstract">    <p>     <small>Consider a buyer participating in a repeated auction, such as those prevalent in display advertising. How would she test whether the auction is incentive compatible? To bid effectively, she is interested in whether the auction is <em>single-shot</em> incentive compatible&#x2014;a pure second-price auction, with fixed reserve price&#x2014;and also <em>dynamically</em> incentive compatible&#x2014;her bids are not used to set future reserve prices. In this work we develop tests based on simple bid perturbations that a buyer can use to answer these questions, with a focus on dynamic incentive compatibility.</small>    </p>    <p>     <small>There are many potential A/B testing setups that one could use, but we find that many natural experimental designs are, in fact, flawed. For instance, we show that additive perturbations can lead to paradoxical results, where higher bids lead to lower optimal reserve prices. We precisely characterize this phenomenon and show that reserve prices are only guaranteed to be monotone for distributions satisfying the Monotone Hazard Rate (MHR) property. The experimenter must also decide how to split traffic to apply systematic perturbations. It is tempting to have this split be randomized, but we demonstrate empirically that unless the perturbations are aligned with the partitions used by the seller to compute reserve prices, the results are guaranteed to be inconclusive.</small>    </p>    <p>     <small>We validate our results with experiments on real display auction data and show that a buyer can quantify both single-shot and dynamic incentive compatibility even under realistic conditions where only the cost of the impression is observed (as opposed to the exact reserve price). We analyze the cost of running such experiments, exposing trade-offs between test accuracy, cost, and underlying market dynamics.</small>    </p>    </div>    <div class="CCSconcepts">    <p> <small> <span style="font-weight:bold;">CCS Concepts:</span> &#x2022;<strong> Applied computing;</strong> <strong>Applied computing </strong>&#x2192; <strong>Electronic commerce;</strong> &#x2022;<strong> Applied computing </strong>&#x2192; <strong>Online auctions;</strong></small> </p>    </div>    <div class="classifications">    <div class="author">     <span style="font-weight:bold;">      <small>Keywords:</small>     </span>     <span class="keyword">      <small>ad auctions</small>, </span>     <span class="keyword">      <small> incentive compatibility</small>     </span>    </div>    <br/>    <div class="AcmReferenceFormat">     <p>      <small>       <span style="font-weight:bold;">ACM Reference Format:</span>       <br/>       S&#x00E9;bastien Lahaie, Andr&#x00E9;s Mu&#x00F1;oz Medina, Balasubramanian Sivan, and Sergei Vassilvitskii. 2018. Testing Incentive Compatibility in Display Ad Auctions. In <em>WWW 2018: The 2018 Web Conference,</em>       <em>April 23&#x2013;27, 2018,</em>       <em> Lyon, France. ACM, New York, NY, USA</em> 10 Pages. <a href="https://doi.org/10.1145/3178876.3186047" class="link-inline force-break"       target="_blank">https://doi.org/10.1145/3178876.3186047</a></small>     </p>    </div>    </div>   </section>  </section>  <section class="body">   <section id="sec-5">    <header>    <div class="title-info">     <h2>      <span class="section-number">1</span> Introduction</h2>    </div>    </header>    <p>The display advertising industry could be on the verge of a major shift in its trading practices as many large exchanges, including AppNexus and Index Exchange, are currently considering a switch from second- to first-price auctions&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0021">21</a>]. The push towards first-pricing has been driven in large part by ad buyers who no longer trust that exchanges are properly honoring second-pricing rules. There is concern that exchanges could be using other mechanisms to extract higher margins, such as setting reserve prices after bids are collected rather than before. As a result, a major motivation behind second-pricing, namely incentive compatibility, is lost&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0004">4</a>]. In principle, market participants could audit an exchange&#x0027;s practices by comparing data between the ad buyers and publishers. In practice, this is only possible in one-off cases, and is much too time-consuming to represent a systematic, scalable solution. Instead, ad buyers need to gain insights into the underlying auction dynamics based on their own trading data, in a way that can inform their bidding strategies.</p>    <p>Motivated by these concerns, this paper develops statistical tests that a buyer can use to estimate the degree to which a repeated auction is incentive compatible. We first address the question of <em>single-shot</em> incentive compatibility: detecting whether an auction is purely second-price, or whether the payment depends to any extent on the winning bid. We propose a simple experimental design where the advertiser randomly shades her value for the impression by some discrete fraction (10%, 20%, etc.), and then verifies that the slice of traffic that saw no shading yields the highest surplus. The core of our paper is devoted to the more subtle question of testing <em>dynamic</em> incentive compatibility, specifically the question of dynamic reserve pricing: detecting whether and to what extent a buyer&#x0027;s historical bids are used to set her future reserve prices.</p>    <p>Our main contributions in this paper are two-fold:</p>    <ol class="list-no-style">    <li id="list1" label="(1)">To detect and assess the extent of dynamic reserve pricing, we introduce an experimental design where the advertiser partitions query traffic according to information provided in the bid callout, and systematically perturbs bids in a randomly chosen direction (up or down) within each partition. In the next time period, the advertiser observes the correlation between the noise applied and the change in the reserve price. Positive correlation indicates that reserves depend on past bids. More formally, we provide a statistic that allows one to test the null hypothesis that the auction does not use past bids to set reserves. Note that dynamic reserve pricing is a relevant notion in both first- and second-price auctions.<br/></li>    <li id="list2" label="(2)">In the process of analyzing various experimental designs, we give a new and intuitive characterization of the monotone hazard rate (MHR) family of distributions that is widely used in the economics and algorithmic game theory literature.<br/></li>    </ol>    <p>We investigate two key aspects of an experiment that impact its effectiveness. First, the nature of the perturbations: additive or multiplicative. We observe that a positive additive shift in the bid distribution does not necessarily lead to a higher optimal (i.e., revenue-maximizing) reserve price, and prove that this simple property holds if and only if the bid distribution has a monotone hazard rate (MHR). This is a new and intuitive characterization of MHR distributions that is of independent interest. Since many relevant distributions used in empirical modeling (e.g., the lognormal) are non-MHR distributions, additive perturbations in these cases will cause the buyer to observe confusing results&#x2014;lower reserve prices in the presence of higher bids. We therefore use multiplicative perturbations, and explain how this leads to a test that can detect any scale-invariant dynamic reserve pricing scheme based on past bids, which includes optimal reserves.</p>    <p>The next key aspect is traffic partitioning. We show that unless the traffic split is aligned with the partitions used by the exchange to compute reserves, the results are guaranteed to be inconclusive. This highlights a practical trade-off between using fewer coarse partitions to align with the seller, and more fine partitions to increase statistical power.</p>    <p>We validate our approach by running counterfactual simulations of Google&#x0027;s DoubleClick AdExchange on two days of data, perturbing the bids of a major advertiser on the first day according to our test. We implement a reserve-pricing scheme that partitions the inventory and computes Myerson-optimal reserve prices for each partition based on bids of this advertiser, and we simulate how this reserve-pricing logic may be detected by the advertiser. We also find that, using our test, the advertiser can detect dynamic reserve pricing even if it uses a much coarser traffic partition than the one used in the reserve pricing scheme. Furthermore, although at a significant cost for the buyer, detection is still possible assuming the advertiser can only observe the final cost of an impression, rather than the exact reserve price (which may be censored by the second-highest bid).</p>    <p>The paper is organized as follows. In Section&#x00A0;<a class="sec" href="#sec-7">2</a> we describe the kinds of reserve pricing schemes that our statistical test is suited for: reserves set according to a buyer&#x0027;s history of bids on fixed partitions of query traffic, such that the reserves scale with the bids. We also provide formal definitions for the notions of single-shot and dynamic incentive compatibility. Section&#x00A0;<a class="sec" href="#sec-8">3</a> provides our experimental design based on bid perturbations, and proves that additive perturbations can be problematic unless stringent conditions on bid distributions are met. In Section&#x00A0;<a class="sec" href="#sec-13">4</a> we validate our test on real auction data from Google&#x0027;s DoubleClick AdExchange, and demonstrate the relationship between the quality of the reserve price observations (e.g., exact or censored) and the ability to detect the underlying reserve pricing scheme. We also measure the cost-effectiveness of running the test for various bid perturbation magnitudes. Section&#x00A0;<a class="sec" href="#sec-19">5</a> concludes.</p>    <section id="sec-6">    <header>     <div class="title-info">      <h3>       <span class="section-number">1.1</span> Related Work</h3>     </div>    </header>    <p>     <em>Single-shot reserve pricing.</em>. The idea that reserve prices significantly increase the revenue of the seller is central in auction theory. In fact Myerson&#x0027;s seminal result&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0017">17</a>] says that the single shot revenue-optimal auction with <em>n</em> bidders and values independently drawn from a (regular) distribution <em>F</em> just runs the welfare optimal second price auction with a reserve price for each bidder. The power of reserve prices is well understood and a lot of research has gone into (approximately) optimizing them under various constraints. Hartline and Roughgarden&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0011">11</a>] construct second price and VCG auctions with reserve prices in a variety of settings and show that they approximate the optimal revenue. Chawla et al.&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0005">5</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0006">6</a>] and Yan&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0022">22</a>] take this further by showing that just reserve prices (namely, posted price mechanisms) without the presence of any auction competition is enough to approximate the optimal revenue in many single-parameter and some multi-parameter settings as well.</p>    <p>     <em>Sample complexity.</em>. Dhangwatnotai, Roughgarden and Yan&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0009">9</a>] highlight the necessity to compute these reserve prices with minimal knowledge of the buyer&#x0027;s value distribution and show how to accomplish this and still get a constant fraction of the optimal mechanism&#x0027;s revenue. This work on sample robust reserve pricing was pushed further by Cole and Roughgarden&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0007">7</a>], Huang, Mansour and Roughgarden&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0012">12</a>], and Morgenstern and Roughgarden&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0016">16</a>] who give bounds on the number of samples one needs to get (1 &#x2212; &#x03F5;)-close to the optimal revenue. When it comes to posting personalized reserve prices (i.e., non-anonymous reserve prices), whether the auctioneer runs a lazy or eager auction makes a significant difference. Paes Leme, Pal, and Vassilvitskii&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0018">18</a>] study this difference in detail, and show that while optimal lazy auctions may be computationally easy, as opposed to the NP-hard problem of optimal eager auctions, empirically even suboptimal eager reserve prices yield better revenue than optimal lazy reserve prices. The problem of approximating personalized eager reserve prices was studied in more detail by Roughgarden and Wang&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0020">20</a>] who show how to get a 12-approximation to the optimal revenue, and also how to translate their offline algorithm into an online learning algorithm.</p>    <p>     <em>Dynamic mechanisms.</em>. Another line of work that is related to ours is the literature on sequential, dynamic, and repeated mechanisms. When a buyer repeatedly interacts with the same seller, the seller can gain significantly higher per round revenue than in a single-shot auction by linking the incentive constraints across the different rounds, i.e., making the future allocation and pricing decisions be strongly dependent on a buyer&#x0027;s past bids. A string of recent work (see for ex.&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0002">2</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0003">3</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0014">14</a>]) with dynamic incentive compatibility as the central theme, has studied the additional revenue the seller can get under a variety of constraints.</p>    <p>     <em>Strategic buyers.</em>. Finally, our work is related to research in repeated auctions where the buyer knows the full mechanism used by the seller, and the goal is to understand her optimal strategy in the presence of bid-dependent reserve prices. Kanoria and Nazerzadeh&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0013">13</a>] propose a dynamic mechanism that is almost incentive compatible. That is, even though a strategic buyer could achieve higher surplus from playing an optimal bidding strategy, the incremental gain is negligible compared to the cost of playing the optimal strategy. Similarly Amin, Rostamizadeh and Syed&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0001">1</a>], Mohri and Mu&#x00F1;oz Medina&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0015">15</a>] and Drusta&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0010">10</a>] study a repeated posted price auction set up where the buyer attempts to maximize her discounted surplus. The main result of this line work is that the buyer&#x0027;s strategy can only deviate from truthfulness for a small number of rounds if the discounting factor is less than 1. However,&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0001">1</a>] show that without any form of discounting, a buyer can force the seller to reduce the reserve price to a constant fraction of her true valuation. Devanur, Peres, and Sivan&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0008">8</a>] study a different setting where the buyer&#x0027;s values are not drawn freshly from a distribution every round. Instead they are initially drawn from a publicly known distribution and continue to remain the same afterwards. The seller can simply post a take-it-or-leave-it reserve price in every round, based on the previous round prices and buyer decisions. In the Perfect Bayesian Equilibrium (PBE) of this game where the seller is unable to make any commitments about how he will increase or decrease reserve prices in the future, the authors show that the seller gains non-trivial revenue only in the last few rounds of the game.</p>    <p>The results of these papers rely critically on the unrealistic assumption that the buyer has access to the full mechanism. In practice, the buyer may only know the type of auction run by the seller, but not all of the details of the pricing function; and even in the case of full information, verifying that the seller is following the mechanism is far from trivial.</p>    <p>     <em>Verifiably correct auctions.</em>. A tangentially related problem to what we study is being able to verify that the auctioneer is indeed running the promised auction, i.e., are the auctions verifiably correct? (see&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0019">19</a>]). In contrast to our work, &#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0019">19</a>] focuses on detecting whether the auctioneer is acting maliciously by deviating from the promised protocol. Our work focuses on detecting whether the auctions that are run provide incentives for not reporting one&#x0027;s true value as bid.</p>    </section>   </section>   <section id="sec-7">    <header>    <div class="title-info">     <h2>      <span class="section-number">2</span> Preliminaries</h2>    </div>    </header>    <p>Consider a buyer participating in a repeated auction with a single seller (such as an ad exchange). A <em>query</em> is an opportunity for the seller to show an ad to a user visiting a webpage. The seller runs an auction for each query by soliciting bids from different buyers, and potentially specifying different reserve prices for each of them. We consider a setup where the seller partitions the space of queries into <em>buckets</em> to compute reserve prices, where each bucket is defined by a specific combination of the query&#x0027;s and buyer&#x0027;s features. The buyer&#x0027;s goal is to figure out whether the exchange is running a truthful (i.e., second-price) auction, and furthermore, whether her current bids are being used to influence future reserve prices.</p>    <p>In each bucket, the buyer&#x0027;s value is drawn independently in every round from an absolutely continuous distribution <em>F</em> with density <em>f</em>. The value distributions in different buckets could be different. Because we study this problem from the perspective of a single buyer, from an analysis standpoint, the number of buyers in each auction is not relevant, since their collective behavior is captured by the competing bid distribution.</p>    <p>    <em>History based reserve pricing.</em>. The seller divides the auction rounds into several roughly equal time periods called stages. A stage, for instance, could be based on the day, the week, or the month to which these auction rounds belong. Given a history of bids <em>h<sub>s</sub>    </em> = (<em>b</em>    <sub>1</sub>, &#x2026;, <em>b</em>    <sub>&#x2113;</sub>) in stage <em>s</em> in any given bucket, the seller computes the reserve price <em>r</em>    <sub>     <em>s</em> + 1</sub> in stage <em>s</em> + 1 for that bucket as <em>r</em>    <sub>     <em>s</em> + 1</sub>(<em>h<sub>s</sub>    </em>, &#x00B7;) where the &#x201C; &#x00B7; &#x201D; stands for inputs independent of the buyer&#x0027;s bids, such as the bucket to which the query belongs, other bidders&#x2019; bids, or other market factors that the seller may use in setting the reserve price.</p>    <p>    <em>Scale invariant reserve pricing.</em>. We define <span class="inline-equation"><span class="tex">$h_s^{\prime } = (1+\epsilon)h_s$</span>    </span> if <span class="inline-equation"><span class="tex">$b_i^{\prime } = (1+\epsilon)b_i$</span>    </span> for all 1 &#x2264; <em>i</em> &#x2264; &#x2113;. We call <span class="inline-equation"><span class="tex">$h_{s}^{\prime }$</span>    </span> a (1 + &#x03F5;)-scaled version of <em>h<sub>s</sub>    </em>. We assume in this paper that the seller&#x0027;s reserve pricing scheme is scale-invariant, i.e., fixing the other inputs we have, <div class="table-responsive">     <div class="display-equation">      <span class="tex mytex">\[ r_{s+1}((1+\epsilon)h_s, \cdot) = (1+\epsilon)r_{s+1}(h_s, \cdot). \] </span>      <br/>     </div>    </div> Note that scale invariance is equivalent to saying that prices should be independent of the whether the bids are specified in dollars or cents. In particular, the natural scheme of computing the Myerson-optimal reserve price out of the distribution induced by the history (i.e., samples) (<em>b</em>    <sub>1</sub>, &#x2026;, <em>b</em>    <sub>&#x2113;</sub>) is scale-invariant.</p>    <p>    <em>Sample robust reserve pricing.</em>. In practice the seller sets reserve prices based on historical bids (namely, samples) in a stage, rather than on the true distribution <em>F</em>. Nevertheless, in the ad exchange context it is reasonable to assume that there are enough samples in each bucket that the difference between the sampled distribution and true distribution is negligible. In particular, while one can construct corner-case reserve price functions that can be significantly off in the reserves they output even with small noise in the samples, we assume that the seller follows a sample robust reserve pricing algorithm where the noise in reserve prices become negligible with a large enough number of samples. Once again, natural schemes like computing the Myerson-optimal reserve price out of the distribution induced by the samples is sample robust. In the rest of the paper, we therefore ignore this sampling error.</p>    <p>    <em>Four worlds: history-{independent vs dependent}-seller, static vs dynamic market.</em>. A seller is history-independent if <span class="inline-equation"><span class="tex">$r_{s+1}(h_s,\cdot) = r_{s+1}(h_s^{\prime },\cdot)$</span>    </span> for all histories <span class="inline-equation"><span class="tex">$h_s, h_s^{\prime }$</span>    </span>. Since the reserve price could potentially be a function of market factors, other bidders&#x2019; bids etc. we make a distinction between static and dynamic markets. We say that a market is static if <em>r</em>    <sub>     <em>s</em> + 1</sub>(<em>h<sub>s</sub>    </em>, <em>y</em>) is the same for all values of <em>y</em>. The fluctuations in &#x201C;<em>y</em>&#x201D; that create a dynamic market is modeled as noise in the computed reserve price, namely, if we fix the history <em>h<sub>s</sub>    </em>, the changes in other factors &#x201C;<em>y</em>&#x201D; will manifest as <em>r</em>    <sub>     <em>s</em> + 1</sub>(<em>h<sub>s</sub>    </em>, <em>y</em>) = (1 + <em>&#x03B7;</em>)<em>r</em>    <sub>     <em>s</em> + 1</sub>(<em>h<sub>s</sub>    </em>, <em>y</em>&#x2032;) where <em>&#x03B7;</em> is a zero mean random variable drawn from some distribution <em>D</em>. One could model noise to be additive as well, and the nature of our results would not change with these modifications.</p>    <p>    <em>Buyer utility and incentive compatibility.</em>. We assume that the buyers are standard quasi-linear utility maximizers, i.e., their goal is to maximize the sum over all rounds (spanning several periods) of <em>vx</em> &#x2212; <em>p</em> where <em>v</em> is their value in any given round, <em>x</em> denotes whether or not they were allocated the good and <em>p</em> is the price they were charged.</p>    <p>When it comes to analyzing the pricing schemes practiced by exchanges, there are two main categories: whether the buyer stands to gain in any single auction by misreporting her true value (single-shot incentive compatibility) and whether she stands to gain in overall utility by misreporting in the current round (dynamic incentive compatibility).</p>    <p>    <em>Single-shot incentive compatibility.</em>. Any single auction is incentive compatible if reporting the true value is in the buyer&#x0027;s best interest. Let <div class="table-responsive">     <div class="display-equation">      <span class="tex mytex">\[ U_t(v_t,v_t^{\prime }, h_{s(t)-1},\cdot) = v_tx_t(v_t^{\prime },h_{s(t)-1},\cdot) - p_t(v_t^{\prime }, h_{s(t)-1}, \cdot) \] </span>      <br/>     </div>    </div> denote the utility attained by the buyer in round <em>t</em> by reporting <span class="inline-equation"><span class="tex">$v_t^{\prime }$</span>    </span> when her true value is <em>v<sub>t</sub>    </em>. The &#x201C; &#x00B7; &#x201D; in the allocation and payment functions captures, other buyers&#x2019; reported valuations and other potential features. Single-shot IC requires that <div class="table-responsive" id="eq1">     <div class="display-equation">      <span class="tex mytex">\begin{equation} U_t(v_t,v_t, h_{s(t)-1},\cdot) \ge U_t(v_t,v_t^{\prime },h_{s(t)-1},\cdot) \qquad \forall \ v_t,\ v_t^{\prime } \in R. \end{equation} </span>      <br/>      <span class="equation-number">(1)</span>     </div>    </div>    </p>    <p>    <em>Dynamic incentive compatibility.</em>. Let there be <em>T</em> auctions in total, spanning several stages. Dynamic incentive-compatibility requires that: <div class="table-responsive">     <div class="display-equation">      <span class="tex mytex">\begin{align*} &#x0026;\sum _{t = \tau }^{T} U_t\bigg (v_t, v_t, h_{s(\tau)-1} + (v_{\tau },\dots ,v_{t-1}), \cdot \bigg) \ge \\ &#x0026;\qquad \sum _{t = \tau }^{T} U_t\bigg (v_t, v_t^{\prime }, h_{s(\tau)-1} + (v_{\tau }^{\prime },\dots ,v_{t-1}^{\prime }),\cdot \bigg) \\ &#x0026;\qquad \qquad \qquad \ \ \forall \ \tau \in [1,T], \forall t \in [\tau , T], \forall \ v_t,\ v_t^{\prime } \in R.\end{align*} </span>      <br/>     </div>    </div>    </p>    <p>    <em>Buyer&#x0027;s goal.</em>. The buyer&#x0027;s goal is to design tests to evaluate single-shot and dynamic incentive compatibility. We take a statistical approach and seek tests to <em>reject</em> the null hypothesis of incentive compatibility. For dynamic incentive compatibility, we specifically focus on tests to uncover dynamic reserve pricing. Note that dynamic incentive compatibility is a general property that depends on more aspects of the auction mechanism than just dynamic reserves, so this is just one way to reject the null. Dynamic reserve pricing is a chief means of linking incentives across rounds so we focus on this important special case in this paper.</p>   </section>   <section id="sec-8">    <header>    <div class="title-info">     <h2>      <span class="section-number">3</span> Experimental designs</h2>    </div>    </header>    <p>In this section we describe tests for detecting violations of single-shot and dynamic incentive compatibility (IC).</p>    <section id="sec-9">    <header>     <div class="title-info">      <h3>       <span class="section-number">3.1</span> Single-shot Incentive Compatibility</h3>     </div>    </header>    <p>While it is tempting to test for single-shot IC using simple statistics such as bid to cost ratio, it is easy to see that such methods fail to distinguish between incentive and non-incentive compatible auctions. Indeed, a second price auction with reserve can have a bid to cost ratio close to 1 if the reserve price happens to be close to the buyer&#x0027;s bid. Instead, we propose a simple test motivated by (<a class="eqn" href="#eq1">1</a>). Let <em>k</em> > 0 and 0 < <em>&#x03B1;</em>     <sub>1</sub> < &#x2026; < <em>&#x03B1;<sub>k</sub>     </em> = 1 be a sequence of multipliers. Abusing the notation we let <em>U<sub>t</sub>     </em>(<em>v<sub>t</sub>     </em>, <em>&#x03B1;<sub>j</sub>     </em>) = <em>U<sub>t</sub>     </em>(<em>v<sub>t</sub>     </em>, <em>&#x03B1;<sub>j</sub>v<sub>t</sub>     </em>, <em>h</em>     <sub>      <em>s</em>(<em>t</em>) &#x2212; 1</sub>, &#x00B7;). It follows from the definition of incentive compatibility that <div class="table-responsive" id="eq2">      <div class="display-equation">       <span class="tex mytex">\begin{equation} \alpha _k \in \mathop{\arg \!\max }_{\alpha \in \lbrace \alpha _1, \ldots , \alpha _k\rbrace } U_t(v_t, \alpha _j). \end{equation} </span>       <br/>       <span class="equation-number">(2)</span>      </div>     </div> Our test is thus defined as follows: we randomly partition the traffic into <em>k</em> buckets <em>B</em>     <sub>1</sub>, &#x2026;, <em>B<sub>k</sub>     </em>. The buyer then scales bids in bucket <em>B<sub>j</sub>     </em> by <em>&#x03B1;<sub>j</sub>     </em> and calculates the total surplus <em>S<sub>j</sub>     </em> for each bucket. From (<a class="eqn" href="#eq2">2</a>), a single-shot incentive compatible mechanism should verify that <em>S<sub>k</sub>     </em> maximizes the surplus across all partitions.</p>    <p>     <em>Why not use same test for dynamic incentive compatibility?</em>. The case of dynamic incentive compatibility however, is significantly more difficult. It is easy to see that one cannot use the same test as in the single shot setting&#x2014;randomly splitting queries is not well defined, since bucket association needs to persist across days. Other bucketing schemes fail as well&#x2014;we will show in Section&#x00A0;<a class="sec" href="#sec-11">3.3</a> that the seller needs to partition her traffic along the <em>same</em> dimensions as the buyer is using to compute reserve prices.</p>    <p>In this paper, we consider a specific way in which dynamic incentive compatibility can be violated, namely by yesterday&#x0027;s bids influencing today&#x0027;s reserve prices. We call such a seller a history dependent seller. The test we design is based on simple bid perturbations and the intuitive notion that higher bids should yield higher reserves. More precisely, the family of tests we consider measures the correlation between the bid perturbations and the observed reserve prices. Our test will satisfy the following two conditions:</p>    <ul class="list-no-style">     <li id="list3" label="&#x2022;"><strong>Calibration</strong>. If seller reserve prices are not history dependent, the correlation between perturbations and reserves should be zero.<br/></li>     <li id="list4" label="&#x2022;"><strong>Conclusiveness</strong>. If seller reserve prices are history dependent, the correlation between perturbations and reserves should be strictly positive.<br/></li>    </ul>    <p>While these two conditions are natural, we show that a na&#x00EF;ve implementation of a correlation test is not necessarily conclusive. Such implementations include the use of of additive perturbations as well as using a random bucketing scheme. Note however that the nature of the auction (first price, second price, or otherwise) is immaterial for this test, which purely examines the reserves.</p>    </section>    <section id="sec-10">    <header>     <div class="title-info">      <h3>       <span class="section-number">3.2</span> Additive Perturbations</h3>     </div>    </header>    <p>The setup for the additive version of our test is simple: fix a bucket, and increase the bids in stage <em>s</em> + 1 in that bucket by an additive &#x03F5;, compared to the bids in stage <em>s</em>. One would expect that the reserve price in a bucket with such an additive perturbation would be no smaller than the reserve for an unmodified bucket. However, even this very basic requirement is true only for MHR distributions, i.e., for non-MHR distributions the buyer could observe a smaller reserve price after raising her bids!</p>    <p>Let <em>F</em> be the cdf of the absolutely continuous distribution of values in the bucket we are interested in, and let <em>f</em> be its density function. We denote by <em>G</em> &#x2254; 1 &#x2212; <em>F</em> the associated survival function for <em>F</em> and by <span class="inline-equation"><span class="tex">$\mathbf {x}:[0,1] \rightarrow \mathbb {R}$</span>     </span> the quantile function given by <strong>x</strong>(<em>q</em>) = <em>G</em>     <sup>&#x2212; 1</sup>(<em>q</em>). Consider a buyer who perturbs her bids by adding <span class="inline-equation"><span class="tex">$\epsilon \in \mathbb {R}$</span>     </span> to the value. That is the seller observes a bid following the distribution <em>F</em>     <sub>&#x03F5;</sub>(<em>x</em>) = <em>F</em>(<em>x</em> &#x2212; &#x03F5;). It is not hard to show that the quantile function <strong>x</strong>     <sub>&#x03F5;</sub> associated with <em>F</em>     <sub>&#x03F5;</sub> is given by <div class="table-responsive" id="eq3">      <div class="display-equation">       <span class="tex mytex">\begin{align} \mathbf {x}_\epsilon (q) = \mathbf {x}(q) + \epsilon . \end{align} </span>       <br/>       <span class="equation-number">(3)</span>      </div>     </div>    </p>    <p>We are interested in the set of distributions for which the function <span class="inline-equation"><span class="tex">$\epsilon \mapsto \mathop{\arg \!\max }_r r G_\epsilon (r)$</span>     </span> is strictly monotone. The importance of this family of distributions is clear: this is the family for which a buyer can measure the extent to which bid perturbation affects future reserve prices when a seller learns from her bids. While it seems intuitive that the optimal reserve should be monotone in the size of the perturbation &#x03F5;, the next example shows that this is not true in general.</p>    <div class="example" id="enc1">     <Label>Example 1.</Label>     <p> Let <span class="inline-equation"><span class="tex">$G(\mathbf {x}) = e^{-\mathbf {x}^{1/2}}$</span>      </span> be a Weibull distribution with shape parameter 1/2. Let us calculate <span class="inline-equation"><span class="tex">$r_\epsilon = \mathop{\arg \!\max }r G_\epsilon (r)$</span>      </span>. From the definition of <em>G</em>      <sub>&#x03F5;</sub> and taking derivatives of the revenue function we see that: <div class="table-responsive">       <div class="display-equation">       <span class="tex mytex">\begin{align*} (rG_\epsilon (r))^{\prime }&#x0026; = (r e^{-(r - \epsilon)^{1/2}})^{\prime } = \frac{e^{-(r- \epsilon)^{1/2}}\big (2 \sqrt {r - \epsilon } - r)}{2 \sqrt {r - \epsilon }}.\end{align*} </span>       <br/>       </div>      </div> Equating the above expression to 0 and solving for <em>r</em> shows that <span class="inline-equation"><span class="tex">$r_\epsilon = 2 + 2 \sqrt {1 - \epsilon }$</span>      </span>. Notice that this is a decreasing function of &#x03F5;. Therefore a buyer that perturbs her bids by increasing them by &#x03F5; will in fact observe a lower reserve price!</p>    </div>    <p>As the previous example shows not even regular distributions satisfy strict monotonicity in reserves obtained from perturbed distributions. However, we will show that functions with the monotone hazard rate property are precisely the ones for which this condition holds.</p>    <div class="definition" id="enc2">     <Label>Definition 1.</Label>     <p> A distribution is said to satisfy the monotone hazard rate (MHR) condition if <div class="table-responsive">       <div class="display-equation">       <span class="tex mytex">\begin{equation*} HR(x) = f(\mathbf {x})/G(\mathbf {x})\end{equation*} </span>       <br/>       </div>      </div> is a weakly increasing function in <strong>x</strong>.</p>    </div>    <div class="proposition" id="enc3">     <Label>Proposition 1.</Label>     <p> If a distribution satisfies MHR then the following inequality is satisfied for every <em>q</em> &#x2208; [0, 1] <div class="table-responsive">       <div class="display-equation">       <span class="tex mytex">\begin{equation*} \frac{q \mathbf {x}^{\prime \prime }(q)}{\mathbf {x}^{\prime }(q)} + 1 \ge 0.\end{equation*} </span>       <br/>       </div>      </div>     </p>    </div>    <div class="proof" id="proof1">     <Label>Proof.</Label>     <p> From the definition of MHR we see that <em>G</em>(<strong>x</strong>)/<em>f</em>(<strong>x</strong>) must be weakly decreasing therefore by first order conditions: <div class="table-responsive" id="eq4">       <div class="display-equation">       <span class="tex mytex">\begin{equation} \frac{-f(\mathbf {x})^2 - f^{\prime }(\mathbf {x}) G(\mathbf {x})}{f(\mathbf {x})^2} \le 0. \end{equation} </span>       <br/>       <span class="equation-number">(4)</span>       </div>      </div> This implies that <div class="table-responsive" id="eq5">       <div class="display-equation">       <span class="tex mytex">\begin{equation} 1 + \frac{f^{\prime }(\mathbf {x}) G(\mathbf {x})}{f(\mathbf {x})^2} \ge 0. \end{equation} </span>       <br/>       <span class="equation-number">(5)</span>       </div>      </div>     </p>     <p>Let us now calculate the second derivative of <strong>x</strong>, w.r.t. <em>q</em>. By the inverse function theorem we have: <div class="table-responsive">       <div class="display-equation">       <span class="tex mytex">\begin{equation*} \mathbf {x}^{\prime }= -\frac{1}{f(\mathbf {x})} \qquad \mathbf {x}^{\prime \prime } = \frac{f^{\prime }(\mathbf {x})}{f(\mathbf {x})^2} \mathbf {x}^{\prime }.\end{equation*} </span>       <br/>       </div>      </div> Therefore <span class="inline-equation"><span class="tex">$\frac{q \mathbf {x}^{\prime \prime }(q)}{\mathbf {x}^{\prime }(q)} = \frac{q f^{\prime }(\mathbf {x})}{f(\mathbf {x}^2)}$</span>      </span>. The change of variables <em>q</em> = <em>G</em>(<strong>x</strong>) in inequality&#x00A0;(<a class="eqn" href="#eq5">5</a>) yields the result.</p>    </div>    <div class="theorem" id="enc4">     <Label>Theorem 1.</Label>     <p> A regular distribution <em>F</em> satisfies MHR if and only if <em>r</em>      <sub>&#x03F5;</sub> is an increasing function of &#x03F5;.</p>    </div>    <div class="proof" id="proof2">     <Label>Proof.</Label>     <p> Notation: In the proof, we will deal with derivatives w.r.t. <em>q</em> and &#x03F5;. We use the &#x2032;-symbol for derivative w.r.t. <em>q</em> and <span class="inline-equation"><span class="tex">$\frac{d}{d\epsilon }$</span>      </span> for derivative w.r.t. &#x03F5;.</p>     <p>Let &#x03F5; > 0 and <span class="inline-equation"><span class="tex">$q^*_\epsilon$</span>      </span> denote the optimal revenue quantile for the distribution <em>F</em>      <sub>&#x03F5;</sub>, i.e., <span class="inline-equation"><span class="tex">$q^*_\epsilon = \mathop{\arg \!\max }_{q \in [0,1]}R_\epsilon (q) = \mathop{\arg \!\max }_{q \in [0,1]} q \mathbf {x}_\epsilon (q)$</span>      </span>. We first prove that the function <span class="inline-equation"><span class="tex">$\epsilon \mapsto q^*_\epsilon$</span>      </span> is strictly increasing. By equation&#x00A0;(<a class="eqn" href="#eq3">3</a>), it follows that the optimal reserve price <span class="inline-equation"><span class="tex">$r^*_\epsilon = \mathbf {x}_\epsilon (q^*_\epsilon) = \mathbf {x}(q^*_\epsilon) + \epsilon$</span>      </span>. From equation&#x00A0;(<a class="eqn" href="#eq3">3</a>) it also follows that <em>R</em>      <sub>&#x03F5;</sub>(<em>q</em>) = <em>q</em>      <strong>x</strong>      <sub>&#x03F5;</sub>(<em>q</em>) = <em>R</em>(<em>q</em>) + &#x03F5;<em>q</em>; differentiating this equation w.r.t. <em>q</em>, we get <span class="inline-equation"><span class="tex">$R_\epsilon ^{\prime }(q) = R^{\prime }(q) + \epsilon$</span>      </span>, and in particular, since <span class="inline-equation"><span class="tex">$R^{\prime }(q^*_0) = 0$</span>      </span> by definition, we have <span class="inline-equation"><span class="tex">$R_\epsilon ^{\prime }(q^*_0) = \epsilon {\gt} 0$</span>      </span>. Since <em>F</em> is a MHR distribution, it follows that <em>R</em>(<em>q</em>) is concave function (standard result), and thus it follows that <em>R</em>      <sub>&#x03F5;</sub>(<em>q</em>) is concave as well. We just showed that <span class="inline-equation"><span class="tex">$R_\epsilon ^{\prime }(q^*_0) = \epsilon {\gt} 0$</span>      </span>, i.e., the concave function <em>R</em>      <sub>&#x03F5;</sub>(&#x00B7;) is increasing at <span class="inline-equation"><span class="tex">$q^*_0$</span>      </span>. This means that it is maximized at a point strictly larger than <span class="inline-equation"><span class="tex">$q^*_0$</span>      </span>, i.e., <span class="inline-equation"><span class="tex">$q^*_\epsilon {\gt} q^*_0$</span>      </span>. We can similarly show that for <span class="inline-equation"><span class="tex">$\epsilon {\lt} 0, q^*_\epsilon {\lt} q^*_0$</span>      </span>. Thus, the function <span class="inline-equation"><span class="tex">$\epsilon \mapsto q^*_\epsilon$</span>      </span> is strictly increasing.</p>     <p>Let us now analyze the derivative of <span class="inline-equation"><span class="tex">$r^*_\epsilon$</span>      </span> w.r.t. &#x03F5;. In the previous paragraph we showed that <span class="inline-equation"><span class="tex">$r^*_\epsilon = \mathbf {x}(q^*_\epsilon) + \epsilon$</span>      </span>. Therefore, <div class="table-responsive" id="eq6">       <div class="display-equation">       <span class="tex mytex">\begin{align} \frac{d}{d\epsilon } r^*_\epsilon = \mathbf {x}^{\prime }(q^*_\epsilon)\cdot \frac{d}{d\epsilon }{q^*_\epsilon } + 1. \end{align} </span>       <br/>       <span class="equation-number">(6)</span>       </div>      </div> We are interested in those distributions for which <span class="inline-equation"><span class="tex">$\frac{d}{d\epsilon } r^*_\epsilon \ge 0$</span>      </span>, i.e., as the additive perturbation &#x03F5; increases, the optimal reserve <span class="inline-equation"><span class="tex">$r^*_\epsilon$</span>      </span> weakly increases.</p>     <p>Since <div class="table-responsive">       <div class="display-equation">       <span class="tex mytex">\[ q^*_\epsilon = \mathop{\arg \!\max }_{q \in [0,1]}R_\epsilon (q) = \mathop{\arg \!\max }_{q \in [0,1]} q \mathbf {x}_\epsilon (q) = \mathop{\arg \!\max }_{q \in [0,1]} q\mathbf {x}(q) + \epsilon q, \] </span>       <br/>       </div>      </div> the optimality condition of <span class="inline-equation"><span class="tex">$q^*_\epsilon$</span>      </span> (i.e., first order derivative of <em>q</em>      <strong>x</strong>(<em>q</em>) + &#x03F5;<em>q</em> w.r.t. <em>q</em>) gives us that: <div class="table-responsive">       <div class="display-equation">       <span class="tex mytex">\begin{equation*} R^{\prime }_\epsilon (q^*_\epsilon) = q^*_\epsilon \mathbf {x}^{\prime }(q^*_\epsilon) + \mathbf {x}(q^*_\epsilon) + \epsilon = 0.\end{equation*} </span>       <br/>       </div>      </div> Taking derivatives on both sides of the equation w.r.t. &#x03F5; yields: <div class="table-responsive">       <div class="display-equation">       <span class="tex mytex">\begin{equation*} \big (q^*_\epsilon \mathbf {x}^{\prime \prime }(q^*_\epsilon) + \mathbf {x}^{\prime }(q^*_\epsilon)\big)\frac{d}{d\epsilon }{q^*_\epsilon } + \mathbf {x}^{\prime }(q^*_\epsilon)\frac{d}{d\epsilon }{q^*_\epsilon } + 1 = 0\end{equation*} </span>       <br/>       </div>      </div> Therefore, <div class="table-responsive">       <div class="display-equation">       <span class="tex mytex">\begin{align*} \mathbf {x}^{\prime }(q^*_\epsilon)\frac{d}{d\epsilon }{q^*_\epsilon } + 1 &#x0026;= -\big (q^*_\epsilon \mathbf {x}^{\prime \prime }(q^*_\epsilon) + \mathbf {x}^{\prime }(q^*_\epsilon)\big)\frac{d}{d\epsilon }{q^*_\epsilon } \\ &#x0026;= -\mathbf {x}^{\prime }(q^*_\epsilon) \frac{d}{d\epsilon }{q^*_\epsilon }\Big (\frac{q^*_\epsilon \mathbf {x}^{\prime \prime }(q^*_\epsilon)}{\mathbf {x}^{\prime }(q^*_\epsilon) } + 1\Big).\end{align*} </span>       <br/>       </div>      </div>     </p>     <p>The LHS is just <span class="inline-equation"><span class="tex">$\frac{d}{d\epsilon } r^*_\epsilon$</span>      </span> by equation&#x00A0;(<a class="eqn" href="#eq6">6</a>), and since we want <span class="inline-equation"><span class="tex">$r^*_\epsilon$</span>      </span> to be weakly increasing in &#x03F5; at all &#x03F5;, we want the LHS to be non-negative for all &#x03F5; &#x2265; 0. In the RHS, note that because we proved that the mapping <span class="inline-equation"><span class="tex">$\epsilon \mapsto q^*_\epsilon$</span>      </span> is strictly increasing, we have <span class="inline-equation"><span class="tex">$\frac{d}{d\epsilon }{q^*_\epsilon } {\gt} 0$</span>      </span>. Furthermore, since <strong>x</strong> = <em>G</em>      <sup>&#x2212; 1</sup> and <em>G</em> is decreasing by definition, it follows that <strong>x</strong> is also decreasing, making <strong>x</strong>&#x2032; < 0. Thus the only way the RHS is non-negative is when <span class="inline-equation"><span class="tex">$\frac{q^*_\epsilon \mathbf {x}^{\prime \prime }(q^*_\epsilon)}{\mathbf {x}^{\prime }(q^*_\epsilon) } + 1 \ge 0$</span>      </span> for all &#x03F5;. From Proposition&#x00A0;<a class="enc" href="#enc3">1</a> this expression is non-negative for all &#x03F5; if and only if <em>F</em> satisfies the MHR condition.</p>    </div>    </section>    <section id="sec-11">    <header>     <div class="title-info">      <h3>       <span class="section-number">3.3</span> Unaligned buckets for perturbations</h3>     </div>    </header>    <p>One of the most natural A/B tests to detect dynamic reserve pricing is to (i) pick an arbitrary feature to split the space of queries into two; (ii) perturb to increase the bids in one of the halves, and decrease bids in the other half, and (iii) verify the change of the reserve prices in these two halves the next day. However, if the feature picked by the buyer is not one of the features picked by the seller to partition the space of queries into buckets, the results are <em>guaranteed</em> to be inconclusive.</p>    <div class="theorem" id="enc5">     <Label>Theorem 2.</Label>     <p> The results of a buyer A/B test based on a feature unused by the seller are guaranteed to be inconclusive, regardless of whether the perturbations are additive or multiplicative.</p>    </div>    <div class="proof" id="proof3">     <Label>Proof.</Label>     <p> Let the buyer divide the space of queries into two buckets <em>B</em>      <sub>1</sub> and <em>B</em>      <sub>2</sub> based on a feature not used by the seller. Consider any seller-defined bucket <em>B</em>. Let the cdf of the unperturbed distribution in <em>B</em> be <em>F</em>, supported in [0, 1]. Let <em>q</em>      <sub>1</sub> be the fraction of queries in <em>B</em> that are from <em>B</em>      <sub>1</sub> and <em>q</em>      <sub>2</sub> = 1 &#x2212; <em>q</em>      <sub>1</sub> be the fraction of queries from <em>B</em>      <sub>2</sub>. Let <span class="inline-equation"><span class="tex">$\widetilde{F_A}$</span>      </span> and <span class="inline-equation"><span class="tex">$\widetilde{F_M}$</span>      </span> be the distribution in the same bucket <em>B</em> after additive and multiplicative distributions respectively. An additive perturbation increases the bids additively by &#x03F5; in <em>B</em>      <sub>1</sub> and decreases them by &#x03F5; in <em>B</em>      <sub>2</sub>. A multiplicative perturbation multiplies the bids by 1 + &#x03F5; in <em>B</em>      <sub>1</sub> and by 1 &#x2212; &#x03F5; in <em>B</em>      <sub>2</sub>. Let <em>F</em>      <sub>1</sub> be the cdf of the distribution in the bucket <em>B</em>&#x2229;<em>B</em>      <sub>1</sub>, and <em>F</em>      <sub>2</sub> in the bucket <em>B</em>&#x2229;<em>B</em>      <sub>2</sub>. It is easy to verify that: <div class="table-responsive">       <div class="display-equation">       <span class="tex mytex">\[ \widetilde{F_A}(x) = \left\lbrace \begin{array}{lr}q_2F_2(x+\epsilon), &#x0026; 0 \le x \le \epsilon \\ q_1 F_1(x-\epsilon) + q_2 F_2(x+\epsilon), &#x0026; \epsilon \le x \le 1-\epsilon \\ q_1 F_1(x-\epsilon) + q_2, &#x0026; 1-\epsilon \le x \le 1+\epsilon \end{array}\right\rbrace \] </span>       <br/>       </div>      </div> and similarly, <div class="table-responsive">       <div class="display-equation">       <span class="tex mytex">\[ \widetilde{F_M}(x) = \left\lbrace \begin{array}{lr}q_1 F_1(\frac{x}{1+\epsilon }) + q_2 F_2(\frac{x}{1-\epsilon }), &#x0026; 0 \le x \le 1-\epsilon \\ q_1 F_1(\frac{x}{1+\epsilon }) + q_2, &#x0026; 1-\epsilon \le x \le 1+\epsilon \end{array}\right\rbrace \] </span>       <br/>       </div>      </div>     </p>     <p>Consider the simple case where <em>F</em>(<em>x</em>) = <em>F</em>      <sub>1</sub>(<em>x</em>) = <em>F</em>      <sub>2</sub>(<em>x</em>) = <em>x</em> (i.e., the <em>U</em>[0, 1] distribution) and <span class="inline-equation"><span class="tex">$q_1 = q_2 = \frac{1}{2}$</span>      </span>. The Myerson optimal reserve price for <em>F</em>, without any perturbations is <span class="inline-equation"><span class="tex">$\max _x x(1-F(x)) = \frac{1}{2}$</span>      </span>. For <em>x</em> &#x2208; [&#x03F5;, 1 &#x2212; &#x03F5;], we have <span class="inline-equation"><span class="tex">$\widetilde{F_A}(x) = x$</span>      </span>, and thus for small &#x03F5; the optimal reserve price after perturbation (namely, <span class="inline-equation"><span class="tex">$\max _x x(1-\widetilde{F_A}(x))$</span>      </span>) will be exactly <span class="inline-equation"><span class="tex">$\frac{1}{2}$</span>      </span>, i.e., unchanged by perturbation, <em>both</em> in bucket <em>B</em>      <sub>1</sub> and in <em>B</em>      <sub>2</sub>. This is because the seller sets a single reserve for the whole bucket <em>B</em>. A buyer observing this would be led to conclude that the seller does not engage in dynamic reserve pricing. Likewise, for <em>x</em> &#x2208; [0, 1 &#x2212; &#x03F5;], we have <span class="inline-equation"><span class="tex">$\widetilde{F_M}(x) = \frac{x}{1-\epsilon ^2}$</span>      </span>, and thus for small &#x03F5; the optimal reserve price after perturbation (namely, <span class="inline-equation"><span class="tex">$\max _x x(1-\widetilde{F_M}(x))$</span>      </span>) will be <span class="inline-equation"><span class="tex">$\frac{1-\epsilon ^2}{2}$</span>      </span>, i.e., decreased after perturbation, <em>both</em> in bucket <em>B</em>      <sub>1</sub> and in <em>B</em>      <sub>2</sub>. This would yield a non-positive correlation between perturbations and reserve and therefore will be inconclusive.</p>     <p>This is not a property of any particular distribution. For any <em>F</em>, <em>F</em>      <sub>1</sub> and <em>F</em>      <sub>2</sub>, the seller&#x0027;s new reserve price is a single number for all of bucket <em>B</em> (by definition of <em>B</em> being a seller&#x0027;s bucket). If the new reserve price happens to be identical to the old reserve price, the buyer incorrectly concludes that there is no dynamic reserve pricing even if it is happening. If the new reserve price has increased the buyer feels puzzled about increased reserve price even for queries in <em>B</em>&#x2229;<em>B</em>      <sub>2</sub> where she decreased bids. If the new reserve price has decreased, the buyer again feels puzzled about decreased reserve price even for queries in <em>B</em>&#x2229;<em>B</em>      <sub>1</sub> where she increased bids.</p>    </div>    <p>Theorem&#x00A0;<a class="enc" href="#enc5">2</a> above underscores the subtlety in constructing an A/B test to detect dynamic reserve pricing. Note that the feature picked by the buyer may indeed be quite a useful feature, i.e., it could indeed be that the distribution in <em>B</em>     <sub>1</sub> is significantly different from the distribution in <em>B</em>     <sub>2</sub> (or, the distribution <em>F</em>     <sub>1</sub> in <em>B</em>&#x2229;<em>B</em>     <sub>1</sub> is different from the distribution <em>F</em>     <sub>2</sub> in <em>B</em>&#x2229;<em>B</em>     <sub>2</sub>). The failure of the above test is irrespective of whether the feature picked by the buyer is relevant or irrelevant. Whether the seller also considered it to be relevant is the question, and this is what makes the A/B test design complicated for the buyer.</p>    </section>    <section id="sec-12">    <header>     <div class="title-info">      <h3>       <span class="section-number">3.4</span> Multiplicative Perturbations</h3>     </div>    </header>    <figure id="fig1">     <img src="../../../data/deliveryimages.acm.org/10.1145/3190000/3186047/images/www2018-56-fig1.jpg" class="img-responsive" alt="Figure 1"      longdesc=""/>     <div class="figure-caption">      <span class="figure-number">Figure 1:</span>      <span class="figure-title">Surplus lift (over worst performing bidding strategy) vs bid shading factor <em>&#x03B4;</em>.</span>     </div>    </figure>    <p>We now introduce our main test based on multiplicative perturbations. Notice that any scale invariant choice of reserve prices will satisfy, by definition, that perturbations resulting in larger bids will lead to higher reserve prices. Let {<em>B</em>     <sub>1</sub>, &#x2026;, <em>B<sub>n</sub>     </em>} denote a partition of traffic into <em>n</em> buckets. Let <em>&#x03B1;</em> &#x2208; [0, 1] denote the bid perturbation magnitude. For every bucket <em>B<sub>i</sub>     </em> denote by <em>&#x03B2;<sub>i</sub>     </em> a uniform random variable in {1 &#x2212; <em>&#x03B1;</em>, 1 + <em>&#x03B1;</em>}. Our proposed experiment proceeds as follows: in round <em>s</em>, for every query <em>q<sub>j</sub>     </em> falling in bucket <em>B<sub>i</sub>     </em> for which buyer has value <em>v<sub>ij</sub>     </em>, the buyer submits a bid of <em>&#x03B2;<sub>i</sub>v<sub>ij</sub>     </em>. At round <em>s</em> + 1 the buyer observes reserve price <span class="inline-equation"><span class="tex">$r_{s+1}^{(i)}$</span>     </span>. Our statistical test is motivated by the intuition that if a seller uses past bids to influence reserve prices then the change in magnitude of reserve price from day <em>s</em> to <em>s</em> + 1 should be highly correlated with the bid perturbation magnitude <em>&#x03B2;<sub>i</sub>     </em> &#x2212; 1. More precisely, we define the quotient <div class="table-responsive">      <div class="display-equation">       <span class="tex mytex">\[ Q_i := r_{s+1}^{(i)} / r_{s}^{(i)} \] </span>       <br/>      </div>     </div> and we denote the average correlation of <em>Q<sub>i</sub>     </em> with the noise magnitude <em>&#x03B2;<sub>i</sub>     </em> &#x2212; 1 by <div class="table-responsive">      <div class="display-equation">       <span class="tex mytex">\begin{equation*} C_\alpha = \mathbb {E}\big [Q_i (\beta _i - 1)\big ].\end{equation*} </span>       <br/>      </div>     </div> Using the conditions described in Section&#x00A0;<a class="sec" href="#sec-7">2</a> we now establish the properties of <em>C<sub>&#x03B1;</sub>     </em> for the scenarios considered in this paper.</p>    <ul class="list-no-style">     <li id="list5" label="&#x2022;"><strong>History independent seller.</strong> By definition, the reserve prices of a history independent seller are independent of the bids. Therefore the ratio <em>Q<sub>i</sub>      </em> is independent of <em>&#x03B2;<sub>i</sub>      </em> and <em>C<sub>&#x03B1;</sub>      </em> = 0. This equality holds in both a static and dynamic market since the dynamic noise <em>&#x03B7;</em> is independent of <em>&#x03B2;<sub>i</sub>      </em>.<br/></li>     <li id="list6" label="&#x2022;"><strong>History dependent seller.</strong> Under the assumption of robust and scale invariant pricing we must have <em>Q<sub>i</sub>      </em> = <em>&#x03B2;<sub>i</sub>      </em>. Therefore, <em>E</em>[<em>Q<sub>i</sub>&#x03B2;<sub>i</sub>      </em>] = <em>E</em>[<em>&#x03B2;<sub>i</sub>      </em>(<em>&#x03B2;<sub>i</sub>      </em> &#x2212; 1)] = <em>&#x03B1;</em>      <sup>2</sup>. The same equality holds under dynamic market conditions since the noise <em>&#x03B7;</em> is independent of <em>&#x03B2;<sub>i</sub>      </em>.<br/></li>    </ul>    <p>We can now define a test to discriminate between a history dependent and a history independent seller. Let <span class="inline-equation"><span class="tex">$\widehat{C}_\alpha = \frac{1}{n} \sum _{i=1}^n Q_i (\beta _i - 1)$</span>     </span> denote the empirical estimate of <em>C<sub>&#x03B1;</sub>     </em>. Then for any <em>&#x03B4;</em> > 0, by Chebychev&#x0027;s inequality we have with probability at least 1 &#x2212; <em>&#x03B4;</em>     <div class="table-responsive" id="eq7">      <div class="display-equation">       <span class="tex mytex">\begin{equation} |C_\alpha - \widehat{C}_\alpha | \le \sqrt {\sum _{i=1}^n \frac{\text{Var}(Q_i (\beta _i - 1))}{\delta n^2}}. \end{equation} </span>       <br/>       <span class="equation-number">(7)</span>      </div>     </div> Note that one could use any other concentration or bootstrapping technique to obtain a confidence interval for <em>C<sub>&#x03B1;</sub>     </em>. Equation&#x00A0;(<a class="eqn" href="#eq7">7</a>) implies that we can reject the null hypothesis of a history independent seller with probability of error less than <em>&#x03B4;</em> if the confidence interval for <em>C<sub>&#x03B1;</sub>     </em> does not include 0. Similarly we can reject the null hypothesis that the seller is history dependent and using scale invariant reserve prices if this interval does not contain <em>&#x03B1;</em>     <sup>2</sup>.</p>    </section>   </section>   <section id="sec-13">    <header>    <div class="title-info">     <h2>      <span class="section-number">4</span> Experimental results</h2>    </div>    </header>    <p>For our experimental evaluation we select a large advertiser on DoubleClick AdExchange and consider a random sample of auctions that the advertiser participated in over two consecutive days in October, 2017. We then artificially introduce reserve prices, or adjust individual buyer&#x0027;s bids, and use an auction simulator that is able to replay the exchange auction logic from logged data to simulate auction outcomes. We then compute surplus for each of the buyers and revenue for the seller. For measuring single-shot incentive compatibility and dynamic incentive compatibility we implement the following reserve price selection method: we partition traffic by observable features (in the bid callout), and compute Myerson-optimal reserve prices within partitions using bids from the first day; note that Myerson-optimal reserves are scale invariant, so our theory applies to this scheme.</p>    <section id="sec-14">    <header>     <div class="title-info">      <h3>       <span class="section-number">4.1</span> Single-Shot Incentive Compatibility</h3>     </div>    </header>    <p>To demonstrate the simplicity and power of our single-shot incentive compatibility test we carry it out under three different mechanisms. We define a <em>&#x03B3;</em>-price auction as one that sets a reserve to a <em>&#x03B3;</em> fraction of the highest bid. Note that <em>&#x03B3;</em> = 1 corresponds to first price auctions. Moreover, a <em>&#x03B3;</em>-price auction is incentive compatible only if <em>&#x03B3;</em> = 0; since otherwise the payment of a buyer may depend on her bid.</p>    <p>The parameters of our test are <em>k</em> = 10 and <span class="inline-equation"><span class="tex">$\alpha _i = \frac{i}{10}$</span>     </span>. We modified the exchange auction to simulate a <em>&#x03B3;</em>-price auction for <em>&#x03B3;</em> = 0.95 and <em>&#x03B3;</em> = 0.75. We also ran a second price auction using the reserve pricing scheme described above and we show the results in Figure <a class="fig" href="#fig1">1</a>. Notice that for both <em>&#x03B3;</em>-price auctions, the optimal multiplier is bounded away from 1 whereas, for the second price auction, the optimal strategy is given by the multiplier <em>&#x03B1;<sub>k</sub>     </em>, even in the presence of reserve prices.</p>    </section>    <section id="sec-15">    <header>     <div class="title-info">      <h3>       <span class="section-number">4.2</span> Dynamic Incentive Compatibility</h3>     </div>    </header>    <p>We now turn to our statistical test of dynamic incentive compatibility. We explore the effectiveness of our tests along two dimensions: the information available to the buyer about the reserve set by the exchange, and the granularity of the buckets over which bids are perturbed in the test. We then demonstrate the trade-off between the efficacy of the tests and their cost.</p>    <p>For the informational dimension, we distinguish between three scenarios that differ on whether the buyer observes the exact reserve price set by the exchange, or some censored version of it. In the <em>full information</em> scenario, the buyer observes the exact reserve; in our implementation, this is the Myerson-optimal reserve price calculated using the bucketing method previously described. This setting is ideal for the buyer, but often unrealistic in practice as the exchange&#x0027;s reserve can often be overridden by other parameters. For instance, publishers may set their own reserve prices for portions of their inventory that they consider especially valuable. In the <em>partial information</em> scenario, the buyer only observes the final reserve price that represents the maximum of these parameters. For our implementation we simulate reserve prices as the maximum between Myerson reserves and those submitted by the publishers. Finally, we consider a <em>limited information</em> scenario where an advertiser only observes her cost per auction (i.e., the maximum of the reserve price and second-highest bid). This scenario is arguably the most realistic in practice since the cost is always available to the buyer, but the exact reserve price may or may not be shared by the exchange.</p>    <p>The other dimension we explore is the granularity of the buckets over which bids are perturbed and their alignment with partitions used to set reserve prices. We consider a handful of features associated with each auction, for instance whether the segment of inventory is mobile or desktop, the publisher identity, and so on. In our simulations, the seller uses these features to compute an optimal reserve price for each unique setting, for instance computing a different reserve price for mobile-NYTimes, desktop-NYTimes, mobile-WSJ, desktop-WSJ, and so on (we discard feature combinations that occur fewer than 100 times in the dataset).</p>    <p>For the buyer experiment, we define <em>coarse</em>, <em>fine</em>, and <em>random</em> settings. The <em>coarse</em> partition is defined only according to the publisher identity. The <em>fine</em> partition is a refinement, and represents the same partitioning scheme used by our reserve price selection algorithm. Finally, in the <em>random</em> setting, buckets are defined by the IP address of the machine making the ad request. Note that the coarse partitioning is quite realistic for a buyer to implement, as it is based on information commonly available in callouts.</p>    <p>In each setting, we follow the perturbation model described in Section&#x00A0;<a class="sec" href="#sec-12">3.4</a>. For each bucket we select a perturbation magnitude uniformly in {1 &#x2212; <em>&#x03B1;</em>, 1 + <em>&#x03B1;</em>}. Perturbations vary between buckets but are fixed for all bids within a bucket.</p>    <p>Overall, we track two metrics. The first captures the experimenter&#x0027;s ability to determine whether the seller is computing Myerson optimal reserves based on the previous bids submitted by the buyer. The second is the cost of these experiments, and their impact on the utility obtained by the buyer.</p>    <section id="sec-16">     <p><em>Full Information.</em> In order to measure how the magnitude of the reserve price changes as a function of the noise we let <em>&#x03B1;</em> vary in the set {0.1, 0.2, 0.3, 0.4, 0.5}. For every <em>&#x03B1;</em> we calculate the empirical covariance <span class="inline-equation"><span class="tex">$\widehat{C}_\alpha$</span>      </span> and we calculate a 95% confidence interval according to (<a class="eqn" href="#eq7">7</a>). The results of this analysis can be seen in Figure&#x00A0;<a class="fig" href="#fig2">2</a>.</p>     <p>Observe that when the buyer partitions her traffic randomly, the test fails, even in the full information setting; thus it is important for the buyer partitions to be aligned with those used by the seller. On the other hand, the difference between fine and coarse partitions is relatively small. The granularity only changes the confidence interval, which is a bit tighter for the fine partition. <figure id="fig2">       <img src="../../../data/deliveryimages.acm.org/10.1145/3190000/3186047/images/www2018-56-fig2.jpg" class="img-responsive" alt="Figure 2"        longdesc=""/>       <div class="figure-caption">       <span class="figure-number">Figure 2:</span>       <span class="figure-title">Empirical covariance between reserve prices and bid perturbation as a function of <em>&#x03B1;</em>, in the full information scenario.</span>       </div>      </figure>     </p>    </section>    <section id="sec-17">     <p><em>Partial and Limited Information.</em> Recall that in the partial information scenario the bidder does not see the actual reserve price computed by the seller, rather she can only observe a censored reserve price. In the limited information scenario the buyer can only observe her cost per impression. As expected, the inability to observe exact reserve prices computed makes the test less effective.</p>     <p>As in the full information setting, we let <em>&#x03B1;</em> vary in {0.1, 0.2, 0.3, 0.4, 0.5} and compute the correlation between <em>&#x03B1;</em> and the observed reserve price, as a function of different partitions. Figure&#x00A0;<a class="fig" href="#fig3">3</a> shows the results of our statistical test for each traffic partition in the partial information scenario, while Figure&#x00A0;<a class="fig" href="#fig4">4</a> shows the results of the limited information scenario. The first thing to notice is that the magnitude of the effect is muted, and the covariance is no longer simply the square of the noise. In fact for the limited information scenario, it is barely possible to detect correlation even for values of <em>&#x03B1;</em> as high as 0.4. This drastic drop in correlation for the limited information scenario can be explained by the fact that changes in advertisers costs depend not only on the reserve price set by the seller but also on the bids from other buyers which can change from day to day independently of the bid perturbation. This highlights the difficulty of testing for dynamic incentive compatibility&#x2014;recall that testing single-shot incentive compatibility is easy even in the limited information setting (Figure <a class="fig" href="#fig1">1</a>).</p>     <p>Finally, notice that unlike the previous two scenarios, the coarse partition detects correlation slightly better than the fine partition. This is mainly due to the fact that each bucket in the fine partition has a smaller number of samples. This makes the estimate of the average cost per bucket noisier, and therefore less correlated with the bid perturbation. <figure id="fig3">       <img src="../../../data/deliveryimages.acm.org/10.1145/3190000/3186047/images/www2018-56-fig3.jpg" class="img-responsive" alt="Figure 3"        longdesc=""/>       <div class="figure-caption">       <span class="figure-number">Figure 3:</span>       <span class="figure-title">Empirical covariance between reserve prices and bid perturbation as a function of <em>&#x03B1;</em>, in the partial information scenario.</span>       </div>      </figure>      <figure id="fig4">       <img src="../../../data/deliveryimages.acm.org/10.1145/3190000/3186047/images/www2018-56-fig4.jpg" class="img-responsive" alt="Figure 4"        longdesc=""/>       <div class="figure-caption">       <span class="figure-number">Figure 4:</span>       <span class="figure-title">Empirical covariance between reserve prices and bid perturbation as a function of <em>&#x03B1;</em>, in the limited information scenario.</span>       </div>      </figure>      <figure id="fig5">       <img src="../../../data/deliveryimages.acm.org/10.1145/3190000/3186047/images/www2018-56-fig5.jpg" class="img-responsive" alt="Figure 5"        longdesc=""/>       <div class="figure-caption">       <span class="figure-number">Figure 5:</span>       <span class="figure-title">Regret as a function of <em>&#x03B1;</em>.</span>       </div>      </figure>     </p>    </section>    <section id="sec-18">     <p><em>Experiment Cost.</em> The statistical power of our test can always be enhanced by increasing the magnitude of the perturbation. However, this comes at a direct cost to the buyer. As we observed above, bidding one&#x0027;s true value is a surplus maximizing strategy in second price auctions with reserves. Therefore, we define the advertiser&#x0027;s experimental cost as the loss in surplus compared to her bidding her value. For a given query <em>k</em>, we assume the bid <em>b<sub>k</sub>      </em> as logged in the data represents a buyer&#x0027;s true value for the impression. Let <em>p<sub>k</sub>      </em> be the cost of the query as logged in the data, and let <span class="inline-equation"><span class="tex">$\tilde{p}_k$</span>      </span> be the query&#x0027;s cost under the perturbed bid as calculated by the auction replay. Let <em>x<sub>k</sub>      </em> &#x2208; {0, 1} be a binary variable indicating whether the advertiser won impression <em>k</em> under its original bid, and define <span class="inline-equation"><span class="tex">$\tilde{x}_k$</span>      </span> analogously for the perturbed bid. Note that the cost of the query is necessarily zero if the advertiser loses the auction. It is possible for the advertiser to win the auction under its original bid and lose under its perturbed bid, and vice-versa. The advertiser&#x0027;s <em>surplus</em> under the original and perturbed bids is <em>x<sub>k</sub>      </em>(<em>b<sub>k</sub>      </em> &#x2212; <em>p<sub>k</sub>      </em>) and <span class="inline-equation"><span class="tex">$\tilde{x}_k(b_k - \tilde{p}_k)$</span>      </span> respectively, and its <em>regret</em> for the perturbation is <span class="inline-equation"><span class="tex">$x_k(b_k - p_k) - \tilde{x}_k(b_k - \tilde{p}_k).$</span>      </span> Regret must be non-negative if truthful bidding is a dominant strategy, and we confirmed that this holds for each query in our evaluation.</p>     <p>For each experimental condition we report the regret as a percentage of the optimal surplus over all queries, namely <div class="table-responsive">       <div class="display-equation">       <span class="tex mytex">\[ \frac{\sum _k x_k(b_k - p_k) - \tilde{x}_k(b_k - \tilde{p}_k)}{\sum _k x_k(b_k - p_k)}. \] </span>       <br/>       </div>      </div> We plot the results in Figure&#x00A0;<a class="fig" href="#fig5">5</a>. Note that regret only depends on the partition granularity and noise magnitude, and does not depend on whether we are in the full or partial information setting. We computed confidence intervals by separately computing the regret for each hour and using twice the standard error across the 24 resulting regret samples. We see that regret can be very precisely estimated at all perturbation levels and for both the coarse and fine partitions, which show very similar trends. At <span class="inline-equation"><span class="tex">$\alpha = 10\%$</span>      </span>, regret is no greater than at 1%, and from <span class="inline-equation"><span class="tex">$\alpha = 30\%$</span>      </span> onwards regret starts to exceed 5% for both partitions. To apply our test, advertisers will want to gradually increase the noise magnitude to ensure that the opportunity cost does not exceed the value of the insights into incentive compatibility.</p>    </section>    </section>   </section>   <section id="sec-19">    <header>    <div class="title-info">     <h2>      <span class="section-number">5</span> Conclusion</h2>    </div>    </header>    <p>This paper proposed statistical tests to quantify the extent to which a display ad auction is incentive compatible. We considered a test for single-shot IC, to confirm that bid information is not used to set the payment in any individual auction run. Our main focus was on dynamic IC, specifically whether historical bids are used to set future reserve prices in some scale-invariant fashion. We gave theoretical and practical demonstrations that natural tests such as additive perturbations and random traffic splitting can fail to detect dynamic reserve pricing. Moreover, we ran extensive experiments to estimate the tradeoffs between experiment cost, traffic splitting, and the type of pricing information available to the buyer. Our tests offer means for advertisers to gain insights into the underlying auction mechanism that can inform their bidding strategies, without the need for any coordination with publishers. The paper can be expanded in multiple ways. For example, what is the lowest cost test one can design to test single-shot IC? The lowest cost test to detect history dependent reserve prices? What is the optimal tradeoff between cost of the test and the statistical significance of the results obtained?</p>   </section>  </section>  <section class="back-matter">   <section id="ref-001">    <header>    <div class="title-info">     <h2 class="page-brake-head">REFERENCES</h2>    </div>    </header>    <ul class="bibUl">    <li id="BibPLXBIB0001" label="[1]">Kareem Amin, Afshin Rostamizadeh, and Umar Syed. Learning prices for repeated auctions with strategic buyers. In <em>Proceedings of NIPS</em>, pages 1169&#x2013;1177, 2013.</li>    <li id="BibPLXBIB0002" label="[2]">Itai Ashlagi, Constantinos Daskalakis, and Nima Haghpanah. Sequential mechanisms with ex-post participation guarantees. In <em>Proceedings of the 2016 ACM Conference on Economics and Computation</em>, EC &#x2019;16, pages 213&#x2013;214, New York, NY, USA, 2016. ACM.</li>    <li id="BibPLXBIB0003" label="[3]">Santiago Balseiro, Vahab Mirrokni, and Renato Paes&#x00A0;Leme. Dynamic mechanisms with martingale utilities. In <em>Proceedings of the 2017 ACM Conference on Economics and Computation</em>, EC &#x2019;17, pages 165&#x2013;165, New York, NY, USA, 2017. ACM.</li>    <li id="BibPLXBIB0004" label="[4]">Ross Benes. How SSPs use deceptive price floors to squeeze ad buyers. <a class="link-inline force-break" target="_blank"     href="https://digiday.com/marketing/ssps-use-deceptive-price-floors-squeeze-ad-buyers">https://digiday.com/marketing/ssps-use-deceptive-price-floors-squeeze-ad-buyers</a>, September 30, 2017. Accessed: 2017-10-20.</li>    <li id="BibPLXBIB0005" label="[5]">Shuchi Chawla, Jason&#x00A0;D. Hartline, David&#x00A0;L. Malec, and Balasubramanian Sivan. Multi-parameter mechanism design and sequential posted pricing. In <em>Proceedings of the Forty-second ACM Symposium on Theory of Computing</em>, STOC &#x2019;10, pages 311&#x2013;320, New York, NY, USA, 2010. ACM.</li>    <li id="BibPLXBIB0006" label="[6]">Shuchi Chawla, David&#x00A0;L. Malec, and Balasubramanian Sivan. The power of randomness in bayesian optimal mechanism design. In <em>Proceedings of the 11th ACM Conference on Electronic Commerce</em>, EC &#x2019;10, pages 149&#x2013;158, New York, NY, USA, 2010. ACM.</li>    <li id="BibPLXBIB0007" label="[7]">Richard Cole and Tim Roughgarden. The sample complexity of revenue maximization. In <em>Proceedings of the Forty-sixth Annual ACM Symposium on Theory of Computing</em>, STOC &#x2019;14, pages 243&#x2013;252, New York, NY, USA, 2014. ACM.</li>    <li id="BibPLXBIB0008" label="[8]">Nikhil&#x00A0;R. Devanur, Yuval Peres, and Balasubramanian Sivan. Perfect bayesian equilibria in repeated sales. In <em>Proceedings of the Twenty-sixth Annual ACM-SIAM Symposium on Discrete Algorithms</em>, SODA &#x2019;15, pages 983&#x2013;1002, Philadelphia, PA, USA, 2015. Society for Industrial and Applied Mathematics.</li>    <li id="BibPLXBIB0009" label="[9]">Peerapong Dhangwatnotai, Tim Roughgarden, and Qiqi Yan. Revenue maximization with a single sample. <em>Games and Economic Behavior</em>, 91(C):318&#x2013;333, 2015.</li>    <li id="BibPLXBIB0010" label="[10]">Alexey Drutsa. Horizon-independent optimal pricing in repeated auctions with truthful and strategic buyers. In <em>Proceedings of WWW</em>, pages 33&#x2013;42, 2017.</li>    <li id="BibPLXBIB0011" label="[11]">Jason&#x00A0;D. Hartline and Tim Roughgarden. Simple versus optimal mechanisms. In <em>Proceedings of the 10th ACM Conference on Electronic Commerce</em>, EC &#x2019;09, pages 225&#x2013;234, New York, NY, USA, 2009. ACM.</li>    <li id="BibPLXBIB0012" label="[12]">Zhiyi Huang, Yishay Mansour, and Tim Roughgarden. Making the most of your samples. In <em>Proceedings of the Sixteenth ACM Conference on Economics and Computation</em>, EC &#x2019;15, pages 45&#x2013;60, New York, NY, USA, 2015. ACM.</li>    <li id="BibPLXBIB0013" label="[13]">Yash Kanoria and Hamid Nazerzadeh. Dynamic reserve prices for repeated auctions: Learning from bids - working paper. In <em>Proceedings of WINE</em>, page 232, 2014.</li>    <li id="BibPLXBIB0014" label="[14]">Vahab Mirrokni, Renato&#x00A0;Paes Leme, Pingzhong Tang, and Song Zuo. Dynamic auctions with bank accounts. In <em>Proceedings of the Twenty-Fifth International Joint Conference on Artificial Intelligence</em>, IJCAI&#x2019;16, pages 387&#x2013;393, 2016.</li>    <li id="BibPLXBIB0015" label="[15]">Mehryar Mohri and Andres&#x00A0;Mu&#x00F1;oz Medina. Revenue optimization against strategic buyers. In <em>Proceedings of NIPS</em>, pages 2530&#x2013;2538, 2015.</li>    <li id="BibPLXBIB0016" label="[16]">Jamie Morgenstern and Tim Roughgarden. The pseudo-dimension of near-optimal auctions. In <em>Proceedings of the 28th International Conference on Neural Information Processing Systems - Volume 1</em>, NIPS&#x2019;15, pages 136&#x2013;144, Cambridge, MA, USA, 2015. MIT Press.</li>    <li id="BibPLXBIB0017" label="[17]">Roger&#x00A0;B. Myerson. Optimal auction design. <em>Math. Oper. Res.</em>, 6(1):58&#x2013;73, February 1981.</li>    <li id="BibPLXBIB0018" label="[18]">Renato Paes&#x00A0;Leme, Martin Pal, and Sergei Vassilvitskii. A field guide to personalized reserve prices. In <em>Proceedings of the 25th International Conference on World Wide Web</em>, WWW &#x2019;16, pages 1093&#x2013;1102, Republic and Canton of Geneva, Switzerland, 2016. International World Wide Web Conferences Steering Committee.</li>    <li id="BibPLXBIB0019" label="[19]">D.&#x00A0;C. Parkes, M.&#x00A0;O. Rabin, S.&#x00A0;M. Shieber, and C.&#x00A0;A. Thorpe. Practical secrecy-preserving, verifiably correct and trustworthy auctions. In <em>Proceedings of the 8th International Conference on Electronic Commerce: The New e-Commerce: Innovations for Conquering Current Barriers, Obstacles and Limitations to Conducting Successful Business on the Internet</em>, ICEC &#x2019;06, pages 70&#x2013;81, New York, NY, USA, 2006. ACM.</li>    <li id="BibPLXBIB0020" label="[20]">Tim Roughgarden and Joshua&#x00A0;R. Wang. Minimizing regret with multiple reserves. In <em>Proceedings of the 2016 ACM Conference on Economics and Computation</em>, EC &#x2019;16, pages 601&#x2013;616, New York, NY, USA, 2016. ACM.</li>    <li id="BibPLXBIB0021" label="[21]">Sarah Sluis. Big changes coming to auctions, as exchanges roll the dice on first-price. <a class="link-inline force-break" target="_blank"     href="https://adexchanger.com/platforms/big-changes-coming-auctions-exchanges-roll-dice-first-price">https://adexchanger.com/platforms/big-changes-coming-auctions-exchanges-roll-dice-first-price</a>, May 5, 2017. Accessed: 2017-10-20.</li>    <li id="BibPLXBIB0022" label="[22]">Qiqi Yan. Mechanism design via correlation gap. In <em>Proceedings of the Twenty-second Annual ACM-SIAM Symposium on Discrete Algorithms</em>, SODA &#x2019;11, pages 710&#x2013;719, Philadelphia, PA, USA, 2011. Society for Industrial and Applied Mathematics.</li>    </ul>   </section>  </section>  <section id="foot-001" class="footnote">   <header>    <div class="title-info">    <h2>FOOTNOTE</h2>    </div>   </header>   <div class="bibStrip">    <p>This paper is published under the Creative Commons Attribution-NonCommercial-NoDerivs 4.0 International (CC-BY-NC-ND&#x00A0;4.0) license. Authors reserve their rights to disseminate the work on their personal and corporate Web sites with the appropriate attribution.</p>    <p>    <em>WWW '18, April 23-27, 2018, Lyon, France</em>    </p>    <p>&#x00A9; 2018; IW3C2 (International World Wide Web Conference Committee), published under Creative Commons CC-BY-NC-ND&#x00A0;4.0 License. ACM ISBN 978-1-4503-5639-8/18/04.<br/>DOI: <a class="link-inline force-break" target="_blank"     href="https://doi.org/10.1145/3178876.3186047">https://doi.org/10.1145/3178876.3186047</a>    </p>   </div>  </section>  <div class="pubHistory">   <p/>  </div> </body> </html> 
