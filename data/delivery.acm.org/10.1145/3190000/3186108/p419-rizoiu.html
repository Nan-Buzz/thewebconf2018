<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> <head>  <title>SIR-Hawkes: Linking Epidemic Models and Hawkes Processes to Model Diffusions in Finite Populations</title>  <!-- Copyright (c) 2010-2015 The MathJax Consortium --><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta>  <meta name="viewport" content="width=device-width; initial-scale=1.0;"></meta>  <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>  <link media="screen, print" rel="stylesheet"    href="https://dl.acm.org/pubs/lib/css/bootstrap.min.css"/><link media="screen, print" rel="stylesheet"    href="https://dl.acm.org/pubs/lib/css/bootstrap-theme.min.css"/><link media="screen, print" rel="stylesheet"    href="https://dl.acm.org/pubs/lib/css/main.css"/><script src="https://dl.acm.org/pubs/lib/js/jquery.min.js" type="text/javascript"></script>  <script src="https://dl.acm.org/pubs/lib/js/bootstrap.min.js" type="text/javascript"></script>  <script src="https://dl.acm.org/pubs/lib/js/bibCit.js" type="text/javascript"></script>  <script src="https://dl.acm.org/pubs/lib/js/divTab.js" type="text/javascript"></script>  <script type="text/javascript"    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML"></script>  <script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});</script> </head> <body id="main">  <section class="front-matter">   <section>    <header class="title-info">    <div class="journal-title">     <h1>      <span class="title">SIR-Hawkes: Linking Epidemic Models and Hawkes Processes to Model Diffusions in Finite Populations</span>      <br/>      <span class="subTitle"/>     </h1>    </div>    </header>    <div class="authorGroup">    <div class="author"><span class="givenName">Marian-Andrei</span>      <span class="surName">Rizoiu</span>,     ANU &#x0026; Data61 CSIRO, Canberra, Australia    </div>    <div class="author">     <span class="givenName">Swapnil</span>     <span class="surName">Mishra</span>,     ANU &#x0026; Data61 CSIRO, Canberra, Australia    </div>    <div class="author">     <span class="givenName">Quyu</span>     <span class="surName">Kong</span>,     ANU &#x0026; Data61 CSIRO, Canberra, Australia    </div>    <div class="author">     <span class="givenName">Mark</span>     <span class="surName">Carman</span>,     Monash University, Melbourne, Australia    </div>    <div class="author">     <span class="givenName">Lexing</span>     <span class="surName">Xie</span>,     ANU &#x0026; Data61 CSIRO, Canberra, Australia    </div>                        </div>    <br/>    <div class="pubInfo">    <p>DOI: <a href="https://doi.org/10.1145/3178876.3186108" target="_blank">https://doi.org/10.1145/3178876.3186108</a>     <br/>WWW '18: <a href="https://doi.org/10.1145/3178876" target="_blank">Proceedings of The Web Conference 2018</a>, Lyon, France, April 2018</p>    </div>    <div class="abstract">    <p>     <small>Among the statistical tools for online information diffusion modeling, both epidemic models and Hawkes point processes are popular choices. The former originate from epidemiology, and consider information as a viral contagion which spreads into a population of online users. The latter have roots in geophysics and finance, view individual actions as discrete events in continuous time, and modulate the rate of events according to the self-exciting nature of event sequences. Here, we establish a novel connection between these two frameworks. Namely, the rate of events in an extended Hawkes model is identical to the rate of new infections in the Susceptible-Infected-Recovered (SIR) model after marginalizing out recovery events &#x2013; which are unobserved in a Hawkes process. This result paves the way to apply tools developed for SIR to Hawkes, and vice versa. It also leads to HawkesN, a generalization of the Hawkes model which accounts for a finite population size. Finally, we derive the distribution of cascade sizes for HawkesN, inspired by methods in stochastic SIR. Such distributions provide nuanced explanations to the general unpredictability of popularity: the distribution for diffusion cascade sizes tends to have two modes, one corresponding to large cascade sizes and another one around zero.</small>    </p>    </div>    <div class="classifications">    <div class="AcmReferenceFormat">     <p>      <small>       <span style="font-weight:bold;">ACM Reference Format:</span>       <br/>       Marian-Andrei Rizoiu, Swapnil Mishra, Quyu Kong, Mark Carman, and Lexing Xie. 2018. SIR-Hawkes: Linking Epidemic Models and Hawkes Processes to Model Diffusions in Finite Populations. In <em>WWW 2018: The 2018 Web Conference,</em>       <em>April 23&#x2013;27, 2018 (WWW 2018),</em>       <em> Lyon, France. ACM, New York, NY, USA</em> 10 Pages. <a href="https://doi.org/10.1145/3178876.3186108" class="link-inline force-break"       target="_blank">https://doi.org/10.1145/3178876.3186108</a></small>     </p>    </div>    </div>   </section>  </section>  <section class="body">   <section id="sec-6">    <header>    <div class="title-info">     <h2>      <span class="section-number">1</span> Introduction</h2>    </div>    </header>    <p>The research community has long been aware of the importance of the word-of-mouth phenomenon in information dissemination and in shaping user behavior in online and offline environments. In this paper, we study how information spreads online by modeling its underlying mechanism, i.e. how it passes from individual to individual. The aim is to link individual actions to collective-level measures, such as popularity or fame.</p>    <p>This work addresses three open questions concerning two classes of approaches mainly used for modeling online diffusions: <em>epidemic models</em> and <em>Hawkes point processes</em>. The first open question regards the relationship between these two models. Epidemic models emerged from the field of epidemiology, and consider information as a viral contagion which spreads within a population of online users; Hawkes models have been mainly used in finance and geophysics, and view individual broadcasts of information as events in a stochastic point process. <strong>Despite having the origins in different disciplines, these two models describe the stochastic series of discrete events; is there an inherent connection between them?</strong> The second question is about designing more expressive diffusion models. Hawkes processes are the de facto modeling choice for social media processes, mainly because they can be easily customized to account for social factors such as the influence of users&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0014">14</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0044">44</a>], the length of &#x201C;social memory&#x201D;&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0023">23</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0029">29</a>] and the inherent content quality&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0021">21</a>]. <strong>Can we employ notions from epidemic models to design a Hawkes process more adept at describing online diffusions?</strong> The third question concerns predicting the final size of the cascade, which intuitively reflects the popularity of the underlying message. Previous work&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0023">23</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0028">28</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0029">29</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0044">44</a>] predict a single value for the expected future popularity, however it is well known that popularity is hard to predict. There are many random factors lead to high variance in prediction&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0037">37</a>]. <strong>Can we compute the size distribution, to explain the high variance and hence the unpredictability?</strong>    </p>    <p>In this work, we address all three questions above, by drawing for the first time the connection between epidemic models and point processes, validating it both theoretically and also empirically on three large publicly available datasets of retweet cascades.</p>    <p>We answer the first question by studying the previously unexplored link between the Susceptible-Infected-Recovered (SIR) epidemic model&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0018">18</a>] and the Hawkes processes. The key to the link is in the modeling of the word-of-mouth process: we regard each new each new broadcast from one user to another as an event in Hawkes, and analogous to a new infection in SIR. Starting from this observation, we show that the rate of events in an extended Hawkes model is identical to the rate of new infections in the SIR model, after taking the expectation over recovery events &#x2013; which are unobserved in the Hawkes process. This is significant, as it indicates that tools developed for one approach can be applied to the other.</p>    <p>To answer the second question, we propose HawkesN, an extension of the Hawkes model with a finite population. The Hawkes process&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0016">16</a>] has no upper limit for the number of events that may occur. This is hardly a realistic assumption for social media processes such as information diffusion, which relies on a finite underlying population of humans, each broadcasting a message a finite number of times. We introduce a parameter <em>N</em>, denoting the finite total size of the population, and we modulate the event rate by the available population. We study the estimation of <em>N</em> from data and we construct a lower bound statistic to detect when parameter <em>N</em> does not have a valid solution. We show that the HawkesN model explains better longer event sequences.</p>    <p>To address the third question, we construct a probability distribution over future cascade size by applying a Markov chain technique developed for SIR to a diffusion cascade which has been partially observed and fitted using HawkesN. Based on our observations on a large sample of real diffusion cascades, we also provide a nuanced explanation for the main-stream belief that popularity is unpredictable. The distribution shows two peaks: the larger peak corresponds to the cascade extinguishing quickly after its beginning; the smaller peak corresponds to a large cascade size. At the beginning of the cascade it is impossible to distinguish between the two cases, however the posterior probability distribution after observing a prefix of the cascade can be updated to account for the observed events.</p>    <p>    <strong>The main contributions of this work include:</strong>    </p>    <ul class="list-no-style">    <li id="list1" label="&#x2022;">We show a previously unexplored connection between two different classes of approaches &#x2013; epidemic models and Hawkes point processes &#x2013; by showing that the rate of events in HawkesN is identical to the expected rate of new infections in SIR after marginalizing out recovery events.<br/></li>    <li id="list2" label="&#x2022;">We introduce HawkesN &#x2013; a novel class of Hawkes processes in which event intensity is modulated by the remaining population size &#x2013; and we show it generalizes better to unseen data than the state-of-the-art modeling.<br/></li>    <li id="list3" label="&#x2022;">We study the estimation of population size from observed data and we construct a lower bound statistic to detect when parameter <em>N</em> does not have a valid solution.<br/></li>    <li id="list4" label="&#x2022;">We use a Markov chain tool from epidemic model theory to predict the distribution of the final size of a cascade. We provide a nuanced explanation for the main-stream belief that popularity is unpredictable.<br/></li>    <li id="list5" label="&#x2022;">We construct <font style="font-variant: small-caps">ActiveRT</font>&#x2013; a new Twitter cascades benchmark dataset, publicly available (together with the HawkesN simulation and fitting R code) at: <tt><a href="https://github.com/computationalmedia/sir-hawkes" target="_blank">https://github.com/computationalmedia/sir-hawkes</a> </tt>     <br/></li>    </ul>   </section>   <section id="sec-7">    <header>    <div class="title-info">     <h2>      <span class="section-number">2</span> Prerequisites</h2>    </div>    </header>    <p>In this section, we briefly review a few key concepts of the Poisson and Hawkes&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0016">16</a>] point processes (in Sec.&#x00A0;<a class="sec" href="#sec-8">2.1</a>), and of the SIR epidemic model and its bivariate process formulation (in Sec.&#x00A0;<a class="sec" href="#sec-9">2.2</a>).</p>    <section id="sec-8">    <header>     <div class="title-info">      <h3>       <span class="section-number">2.1</span> Poisson and Hawkes processes</h3>     </div>    </header>    <p>     <strong>The Poisson processes.</strong> A point process is a random process whose realizations consists of event times <em>t</em>     <sub>1</sub>, <em>t</em>     <sub>2</sub>, &#x2026; [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0007">7</a>], where <em>t<sub>j</sub>     </em> denotes the time of occurrence of the <em>j</em>-th event. In a <em>homogeneous</em> Poisson processes, the inter-arrival times <em>&#x03C4;<sub>j</sub>     </em> = <em>t<sub>j</sub>     </em> &#x2212; <em>t</em>     <sub>      <em>j</em> &#x2212; 1</sub> are random variables <em>i.i.d.</em> exponentially distributed with parameter <em>&#x03BB;</em> &#x2013; also called the <em>event rate</em> of the Poisson process. In <em>non-homogeneous</em> Poisson processes, the event rate is a deterministic time-continuous function <em>&#x03BB;</em>(<em>t</em>), which defines the probability of an event occurring in the infinitesimal interval around time <em>t</em>. Formally: <div class="table-responsive" id="eq1">      <div class="display-equation">       <span class="tex mytex">\begin{align} \mathbb{P}(N_{t+h}=n+m\,|\,N_t=n)&#x0026;=\lambda (t) h+o(h) &#x0026; \text{when } m=1 \nonumber \\ \mathbb{P}(N_{t+h}=n+m\,|\,N_t=n)&#x0026;=o(h) &#x0026;\text{when } m{\gt}1 \nonumber \\ \mathbb{P}(N_{t+h}=n+m\,|\,N_t=n)&#x0026;=1-\lambda (t) h + o(h) &#x0026;\text{when } m=0 \end{align} </span>       <br/>       <span class="equation-number">(1)</span>      </div>     </div> where <em>o</em>(<em>h</em>) is a function so that <span class="inline-equation"><span class="tex">$\lim _{h \downarrow 0}\frac{o(h)}{h} = 0$</span>     </span>; <em>N<sub>t</sub>     </em> is the counting process associated with the point process, i.e. a random variable which counts the number of events up to (and including) time <em>t</em>.</p>    <p>     <strong>The Hawkes process</strong>&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0016">16</a>] is a self-exciting point process, in which each previous event occurred at the time <em>t<sub>j</sub>     </em> < <em>t</em> generates new events at the rate <em>&#x03D5;</em>(<em>t</em> &#x2212; <em>t<sub>j</sub>     </em>) &#x2013; also called the <em>kernel</em> of the Hawkes process. The event rate of a Hawkes process is a stochastic function dependent on previous event times, defined as: <div class="table-responsive" id="eq2">      <div class="display-equation">       <span class="tex mytex">\begin{equation} \lambda (t) = \mu + \sum _{t_j {\lt} t} \phi (t-t_j) \end{equation} </span>       <br/>       <span class="equation-number">(2)</span>      </div>     </div> which models the following process&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0020">20</a>]: a new event either enters the system at the background rate <em>&#x03BC;</em>; or it is generated by a previous event at the rate of the corresponding kernel function.</p>    </section>    <section id="sec-9">    <header>     <div class="title-info">      <h3>       <span class="section-number">2.2</span> The SIR Model</h3>     </div>    </header>    <p>The Susceptible-Infected-Recovered (SIR) model defines three classes of individuals (also known as compartments): those <em>susceptible</em> to infection, those currently <em>infected</em> (and therefore infectious) and those <em>recovered</em> from the infection and no longer infective. SIR models the following process: when a susceptible individual meets an infectious individual, the former becomes infected at the rate <em>&#x03B2;</em>; infected individuals recover from the infection at a constant rate <em>&#x03B3;</em>.</p>    <p>     <strong>Deterministic SIR.</strong> In the deterministic SIR, the individuals and their assignment to each of the three compartments are not observed. The temporal dynamics of the sizes of each of the compartments are governed by the following ordinary differential equations&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0001">1</a>]: <div class="table-responsive" id="eq3">      <div class="display-equation">       <span class="tex mytex">\begin{align} \frac{dS(t)}{dt} &#x0026;= -\beta \frac{S(t)}{N} I(t) \end{align} </span>       <br/>       <span class="equation-number">(3)</span>      </div>     </div>     <div class="table-responsive" id="eq4">      <div class="display-equation">       <span class="tex mytex">\begin{align} \frac{dI(t)}{dt} &#x0026;= \beta \frac{S(t)}{N} I(t) - \gamma I(t) \end{align} </span>       <br/>       <span class="equation-number">(4)</span>      </div>     </div>     <div class="table-responsive" id="eq5">      <div class="display-equation">       <span class="tex mytex">\begin{align} \frac{dR(t)}{dt} &#x0026;= \gamma I(t). \end{align} </span>       <br/>       <span class="equation-number">(5)</span>      </div>     </div>     <em>S</em>(<em>t</em>), <em>I</em>(<em>t</em>) and <em>R</em>(<em>t</em>) are deterministic functions, denoting the sizes at time <em>t</em> of the susceptible, infected and recovered populations, respectively; <em>N</em> = <em>S</em>(<em>t</em>) + <em>I</em>(<em>t</em>) + <em>R</em>(<em>t</em>) is the total population size.</p>    <p>There are a number of assumptions made by the SIR model. Firstly, it assumes that the population is homogeneous and individuals meet any other individual uniformly at random. Secondly, it assumes that all rates are constant: the infection rate <em>&#x03B2;</em> and the recovery rate <em>&#x03B3;</em>. Thirdly, it assumes that the population has no births and no deaths &#x2013; i.e. <em>N</em> is constant throughout the unfolding of the epidemic. The last assumption holds when the speed of the epidemic outpaces considerably the speed of change in the population &#x2013; e.g., an average retweet diffusion only lasts minutes, compared to years of expected activity of a user on Twitter.</p>    <p>     <strong>Stochastic SIR.</strong> Several stochastic formulations of the SIR model have been proposed&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0001">1</a>], which model the behavior of independent and identically distributed agents. The actions of the agents are described by the same set of holistic rules defined in Eq.&#x00A0;(<a class="eqn" href="#eq3">3</a>)-(<a class="eqn" href="#eq5">5</a>) and the same assumptions detailed above&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0004">4</a>].</p>    <p>One such stochastic formulation of SIR is the bivariate point process representation&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0039">39</a>], in which two types of events occur: <em>infection events</em> and <em>recovery events</em>. The <em>j</em>-th infected individual in the SIR process gets infected at time <span class="inline-equation"><span class="tex">$t^I_j$</span>     </span> and recovers at time <span class="inline-equation"><span class="tex">$t^R_j$</span>     </span>. Therefore, to each infection event corresponds a recovery event. <em>S<sub>t</sub>     </em>, <em>I<sub>t</sub>     </em> and <em>R<sub>t</sub>     </em> are discrete random variable taking integer values. They are the stochastic counterparts of <em>S</em>(<em>t</em>), <em>I</em>(<em>t</em>) and <em>R</em>(<em>t</em>) respectively. Eq.&#x00A0;(<a class="eqn" href="#eq3">3</a>)-(<a class="eqn" href="#eq5">5</a>) can be written as stochastic differential equations, but for ease of following we will keep referring to Eq.&#x00A0;(<a class="eqn" href="#eq3">3</a>)-(<a class="eqn" href="#eq5">5</a>) in the rest of this paper. We define the <em>time to recovery</em> (i.e. the time the individual <em>j</em> is infectious) as: <span class="inline-equation"><span class="tex">$\tau _j = t^R_j - t^I_j$</span>     </span>. From Eq.&#x00A0;(<a class="eqn" href="#eq5">5</a>) results that the times to recovery are distributed exponentially with parameter <em>&#x03B3;</em>, and infections last on average <span class="inline-equation"><span class="tex">$\frac{1}{\gamma }$</span>     </span> units of time.</p>    <p>Let <em>C<sub>t</sub>     </em> be the counting process of the <em>infection process</em> and <em>R<sub>t</sub>     </em> the counting process of the <em>recovery process</em>. Note that <em>C<sub>t</sub>     </em> = <em>N</em> &#x2212; <em>S<sub>t</sub>     </em> is total number of occurred infections (regardless if they are still infectious) and it is distinct from <em>I<sub>t</sub>     </em> (number of infectious at time <em>t</em>). Let <span class="inline-equation"><span class="tex">$\mathcal {H}_t$</span>     </span> be the history of the bivariate epidemic process up to time <em>t</em>, i.e. <span class="inline-equation"><span class="tex">$\mathcal {H}_t = \lbrace t^I_1, t^I_2, \ldots , t^R_1, t^R_2, \ldots \rbrace$</span>     </span>. It can be shown that the rate of <em>new infections &#x03BB;<sup>I</sup>     </em>(<em>t</em>) and the rate of <em>new recoveries &#x03BB;<sup>R</sup>     </em>(<em>t</em>) are: <div class="table-responsive" id="eq6">      <div class="display-equation">       <span class="tex mytex">\begin{equation} \lambda ^I(t) = \beta \frac{S_t}{N} I_t ; \;\; \lambda ^R(t) = \gamma I_t. \end{equation} </span>       <br/>       <span class="equation-number">(6)</span>      </div>     </div> We sketch the proof for the previous statement. Yan [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0039">39</a>] derives the probability of a new infection at time <em>t</em> given <span class="inline-equation"><span class="tex">$\mathcal {H}_t$</span>     </span> as: <div class="table-responsive">      <div class="display-equation">       <span class="tex mytex">\begin{align*} \mathbb{P}(C_{t+\delta t} - C_t = 1 | \mathcal {H}_t) &#x0026;= \beta \frac{S_t}{N}I_t \delta t + o(\delta t) \nonumber \\ \mathbb{P}(C_{t+\delta t} - C_t {\gt} 1 | \mathcal {H}_t) &#x0026;= 0 \nonumber \\ \mathbb{P}(C_{t+\delta t} - C_t = 0 | \mathcal {H}_t) &#x0026;= 1 - \beta \frac{S_t}{N}I_t\delta t + o(\delta t), \end{align*} </span>       <br/>      </div>     </div> Given Eq.&#x00A0;(<a class="eqn" href="#eq1">1</a>), the new infections process is a temporal point process of intensity <span class="inline-equation"><span class="tex">$\beta \frac{S_t}{N}I_t$</span>     </span>. <em>&#x03BB;<sup>R</sup>     </em>(<em>t</em>) is derived similarly.</p>    <p>Fig.&#x00A0;<a class="fig" href="#fig1">1</a> illustrates an SIR realization as a bivariate point process: five infection events occur at times <span class="inline-equation"><span class="tex">$t^I_1,.., t^I_5$</span>     </span> (shown in red); five recovery events occur at <span class="inline-equation"><span class="tex">$t^R_1, ..t^R_5$</span>     </span> (shown in blue). The middle panel of Fig.&#x00A0;<a class="fig" href="#fig1">1</a> shows the size of the infectious population <em>I<sub>t</sub>     </em> over time. Each new infection event increments <em>I<sub>t</sub>     </em>, and each new recovery decreases <em>I<sub>t</sub>     </em> by one. The bottom panel of Fig.&#x00A0;<a class="fig" href="#fig1">1</a> shows the corresponding new infection and new recovery rates. Initially, <em>&#x03BB;<sup>I</sup>     </em>(<em>t</em>) is significantly higher than <em>&#x03BB;<sup>R</sup>     </em>(<em>t</em>). As the number of susceptible individuals <em>S<sub>t</sub>     </em> gets depleted, the term <span class="inline-equation"><span class="tex">$\frac{S_t}{N}$</span>     </span> in Eq.&#x00A0;(<a class="eqn" href="#eq6">6</a>) inhibits <em>&#x03BB;<sup>I</sup>     </em>(<em>t</em>) which becomes zero after the fifth infection (<span class="inline-equation"><span class="tex">$S_t = 0, t \ge t^I_5$</span>     </span>). The new recovery rate also becomes zero after the last infected individual recovers (<span class="inline-equation"><span class="tex">$I_t = 0, t \ge t^R_5$</span>     </span>).</p>    <p>     <strong>The connection between deterministic and stochastic SIR</strong> is that the mean behavior of the stochastic process asymptotically approaches that of the deterministic process&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0001">1</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0039">39</a>]. The connection between the deterministic and the stochastic population sizes is <span class="inline-equation"><span class="tex">$S(t) = \mathbb{E}_{\mathcal {H}_t}\left[ S_t \right]$</span>     </span>, <span class="inline-equation"><span class="tex">$I(t) = \mathbb{E}_{\mathcal {H}_t}\left[ I_t \right]$</span>     </span> and <span class="inline-equation"><span class="tex">$R(t) = \mathbb{E}_{\mathcal {H}_t}\left[ R_t \right]$</span>     </span>&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0001">1</a>]. Our own results simulating the two variants are presented in an online supplement&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0025">25</a>].</p>    <p>As will be elaborated in Sec.&#x00A0;<a class="sec" href="#sec-12">3.2</a>, the bivariate point process SIR formulation provides the link to the Hawkes point processes. <figure id="fig1">      <img src="http://deliveryimages.acm.org/10.1145/3190000/3186108/images/www2018-117-fig1.jpg" class="img-responsive" alt="Figure 1"       longdesc=""/>      <div class="figure-caption">       <span class="figure-number">Figure 1:</span>       <span class="figure-title">An illustration of SIR as a bivariate point process: the infection process and the recovery process. <em>(top panel)</em> The <em>j<sup>th</sup>       </em> individual gets infected at time <span class="inline-equation"><span class="tex">$t^I_j$</span>       </span> and recovers at <span class="inline-equation"><span class="tex">$t^R_j$</span>       </span>. The <em>time to recovery</em>        <span class="inline-equation"><span class="tex">$\tau _j = t^R_j - t^I_j$</span>       </span> is the period the individual stays infectious. <em>(middle panel)</em> The size of the infectious population <em>I</em>(<em>t</em>) over time. <em>(lower panel)</em> The infection rate <em>&#x03BB;<sup>I</sup>       </em>(<em>t</em>) and the recovery rate <em>&#x03BB;<sup>R</sup>       </em>(<em>t</em>) for the SIR parameters: <em>N</em> = 5, <em>&#x03B2;</em> = 2, <em>&#x03B3;</em> = 0.5.</span>      </div>     </figure>    </p>    </section>   </section>   <section id="sec-10">    <header>    <div class="title-info">     <h2>      <span class="section-number">3</span> Linking epidemic models and Hawkes processes</h2>    </div>    </header>    <p>We first propose <em>HawkesN</em>, a generalization of the Hawkes process with finite population (in Sec.&#x00A0;<a class="sec" href="#sec-11">3.1</a>) and we show the connection between HawkesN and the SIR epidemic model (in Sec.&#x00A0;<a class="sec" href="#sec-12">3.2</a>).</p>    <section id="sec-11">    <header>     <div class="title-info">      <h3>       <span class="section-number">3.1</span> HawkesN: a process in finite population</h3>     </div>    </header>    <p>We generalize the Hawkes model&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0016">16</a>] to account for finite population sizes. Intuitively cascades not only follow self-exciting word of mouth diffusions, but they are also limited by the size of the relevant community. The effect of introducing the finite population size <em>N</em> is that the event rate at time <em>t</em> is modulated by the available population. To the best of our knowledge, no prior work on modeling social processes using Hawkes models had accounted for a finite underlying population.</p>    <p>The event rate function in HawkesN is defined as: <div class="table-responsive" id="eq7">      <div class="display-equation">       <span class="tex mytex">\begin{equation} \lambda ^H(t) = \left(1 - \frac{N_t}{N} \right) \left[ \mu + \sum _{t_j {\lt} t} \phi (t - t_j) \right], \end{equation} </span>       <br/>       <span class="equation-number">(7)</span>      </div>     </div> where <em>&#x03D5;</em>(<em>t</em> &#x2212; <em>t<sub>j</sub>     </em>) can be the same kernel function used with Hawkes, and <em>N<sub>t</sub>     </em> is the counting process associated with the point process. Both <em>&#x03BB;<sup>H</sup>     </em>(<em>t</em>) and <em>N<sub>t</sub>     </em> are right-continuous functions. The term <span class="inline-equation"><span class="tex">$1 - \frac{N_t}{N}$</span>     </span> scales the event rate at time <em>t</em> with the proportion of the events which can still occur after time <em>t</em>. When <em>t</em> = 0, we have <em>&#x03BB;<sup>H</sup>     </em>(<em>t</em>) = <em>&#x03BC;</em>. When <em>N<sub>t</sub>     </em> = <em>N</em>, we have <em>&#x03BB;<sup>H</sup>     </em>(<em>t</em>) = 0, i.e., there will be no more new events when the pool of users who can act is exhausted. When <em>N</em> &#x2192; &#x221E;, Eq.&#x00A0;(<a class="eqn" href="#eq7">7</a>) simplifies to Eq.&#x00A0;(<a class="eqn" href="#eq2">2</a>). In other words, the Hawkes process is a special case of HawkesN with infinite population.</p>    <p>Fig.&#x00A0;<a class="fig" href="#fig2">2</a> illustrates the HawkesN process for an information diffusion in a population of five users (<em>N</em> = 5). Each user takes an action at most once, represented as event time <em>t<sub>j</sub>     </em>, <em>j</em> = 1..5. The corresponding counting process <em>N<sub>t</sub>     </em> is shown in the middle plot. Events <em>t</em>     <sub>2</sub>..<em>t</em>     <sub>5</sub> are considered to have been triggered by event <em>t</em>     <sub>1</sub>. The bottom panel compares the <em>offspring rates</em> &#x2013; the rate of events generated by the first event at <em>t</em>     <sub>1</sub> &#x2013; for Hawkes (denoted as <em>&#x03D5;</em>     <sub>1</sub>(<em>t</em>)) and HawkesN (denoted as <span class="inline-equation"><span class="tex">$\phi ^H_1(t)$</span>     </span>). In HawkesN, the population modulates the event rate by decreasing it after each new event and the event rate becomes zero after <em>t</em>     <sub>5</sub>. The Hawkes process does not take into account the population size, i.e. it will have <em>&#x03D5;</em>(<em>t</em>) > 0 in Eq.&#x00A0;<a class="eqn" href="#eq2">2</a> even after <em>t</em>     <sub>5</sub>.</p>    <p>We use the exponential kernel function for HawkesN: <div class="table-responsive" id="eq8">      <div class="display-equation">       <span class="tex mytex">\begin{equation} \phi (\tau) = \kappa \theta e^{-\theta \tau } \end{equation} </span>       <br/>       <span class="equation-number">(8)</span>      </div>     </div>     <em>&#x03BA;</em> is a scaling factor and <em>&#x03B8;</em> is the parameter of the exponential function which models the decay of <em>social memory</em>. The exponential kernel is a common choice in literature&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0002">2</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0008">8</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0011">11</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0023">23</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0029">29</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0043">43</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0044">44</a>]. Other kernels have been used with Hawkes, including power-law functions&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0006">6</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0017">17</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0019">19</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0023">23</a>] and Rayleigh functions&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0034">34</a>]. Using HawkesN with non-exponential kernel functions is left for future work. <figure id="fig2">      <img src="http://deliveryimages.acm.org/10.1145/3190000/3186108/images/www2018-117-fig2.jpg" class="img-responsive" alt="Figure 2"       longdesc=""/>      <div class="figure-caption">       <span class="figure-number">Figure 2:</span>       <span class="figure-title">An example diffusion illustrating the finite population effects in self-exciting process. <em>(top panel)</em> An event refers to the <em>j<sup>th</sup>       </em> user taking an action at time <em>t<sub>j</sub>       </em> (e.g. posting a tweet).The state of the user population is shown at each time <em>t<sub>j</sub>       </em>: <font color="purple">purple users</font> have performed the past observed actions; <font color="orange">orange users</font> are yet to perform any action. <em>(middle panel)</em> The counting process <em>N<sub>t</sub>       </em> increases by one with each event; <em>(lower panel)</em> The <em>offspring rate &#x03D5;</em>       <sub>1</sub>(<em>t</em>) &#x2013; the rate of events generated by this first event at time <em>t</em>       <sub>1</sub>, modeled by Hawkes and by HawkesN (denoted by <span class="inline-equation"><span class="tex">$\phi _1^H(t)$</span>       </span>).</span>      </div>     </figure>    </p>    </section>    <section id="sec-12">    <header>     <div class="title-info">      <h3>       <span class="section-number">3.2</span> Linking HawkesN and SIR</h3>     </div>    </header>    <p>We now present our main result, Theorem&#x00A0;<a class="enc" href="#enc1">3.1</a>, which links stochastic SIR and the HawkesN process.</p>    <p>     <strong>Intuition.</strong> When modeling information diffusion, both SIR and HawkesN model the same phenomenon: users come into contact with the diffused content, which they further broadcast to other users. Each new broadcast is modeled as a new event in HawkesN, and as a new infection in SIR. The key to linking HawkesN and SIR models is the conceptual similarity between an event in HawkesN and a new infection in SIR. In HawkesN, past events generate new events at the rate <em>&#x03D5;</em>(<em>t</em>), which is exponentially time-decaying in Eq.&#x00A0;(<a class="eqn" href="#eq8">8</a>). In SIR, an infectious individual <em>j</em> infects susceptible individuals at a rate of <span class="inline-equation"><span class="tex">$\frac{\beta S_t}{N}$</span>     </span> during the time it is infectious <em>&#x03C4;<sub>j</sub>     </em>, which is exponentially distributed with parameter <em>&#x03B3;</em> (discussed in Sec.&#x00A0;<a class="sec" href="#sec-9">2.2</a>).</p>    <div class="theorem" id="enc1">     <Label>Theorem 3.1.</Label>     <p> Suppose the new infections in a stochastic SIR process of parameters {<em>&#x03B2;</em>, <em>&#x03B3;</em>, <em>N</em>}</p>     <p>follow a point process of intensity <em>&#x03BB;<sup>I</sup>      </em>(<em>t</em>). Suppose also the events in a HawkesN process with parameters {<em>&#x03BC;</em>, <em>&#x03BA;</em>, <em>&#x03B8;</em>, <em>N</em>} have the intensity <em>&#x03BB;<sup>H</sup>      </em>(<em>t</em>) (Eq&#x00A0;<a class="eqn" href="#eq7">7</a>). Let <span class="inline-equation"><span class="tex">$\mathcal {T} = \lbrace \tau _1, \tau _2, \ldots \rbrace$</span>      </span> be the set of the times to recovery of the infected individuals in SIR. The expectation of <em>&#x03BB;<sup>I</sup>      </em>(<em>t</em>) over <span class="inline-equation"><span class="tex">$\mathcal {T}$</span>      </span> is equal <em>&#x03BB;<sup>H</sup>      </em>(<em>t</em>): <div class="table-responsive">       <div class="display-equation">       <span class="tex mytex">\begin{equation*} \mathbb{E}_\mathcal {T}[ \lambda ^I(t)] = \lambda ^H(t), \end{equation*} </span>       <br/>       </div>      </div> when <em>&#x03BC;</em> = 0, <em>&#x03B2;</em> = <em>&#x03BA;&#x03B8;</em>, <em>&#x03B3;</em> = <em>&#x03B8;</em>.</p>    </div>    <p>Note that both <span class="inline-equation"><span class="tex">$\mathbb{E}_\mathcal {T}[ \lambda ^I(t)]$</span>     </span> and <em>&#x03BB;<sup>H</sup>     </em>(<em>t</em>) are random functions, as they depend on the random infection times <span class="inline-equation"><span class="tex">$t^I_j$</span>     </span> (for SIR) and the random event times <em>t<sub>j</sub>     </em> (for HawkesN). The expectation only removes the randomness from the recovery times <span class="inline-equation"><span class="tex">$t^R_j$</span>     </span> in SIR.</p>    <p>The rest of this section proves this theorem.</p>    <p>     <strong>The expected new infection rate.</strong> We express <em>S<sub>t</sub>     </em> and <em>I<sub>t</sub>     </em> in Eq.&#x00A0;(<a class="eqn" href="#eq6">6</a>) using indicator functions of the infection event times and the times to recovery: <div class="table-responsive" id="eq9">      <div class="display-equation">       <span class="tex mytex">\begin{align} S_t &#x0026;= N - C_t = N - \sum _{j \ge 1} \mathbb{1}(t^I_j {\lt} t) \nonumber \\I_t &#x0026;= C_t - R_t = \sum _{j \ge 1} {1}(t^I_j {\lt} t, t^R_j {\gt} t) = \sum _{t^I_j {\lt} t} {1}(t^I_j + \tau _j {\gt} t) . \end{align} </span>       <br/>       <span class="equation-number">(9)</span>      </div>     </div> We examine a point process consisting only of the infection events <span class="inline-equation"><span class="tex">$\lbrace t^I_j\rbrace$</span>     </span>. The event rate in this process is obtained by marginalizing out times of recovery: <div class="table-responsive" id="eq10">      <div class="display-equation">       <span class="tex mytex">\begin{align} \mathbb{E}_\mathcal {T} \left[ \lambda ^I(t) \right] &#x0026;\overset{(6),(9)}{=} \mathbb{E}_\mathcal {T} \left[ \beta \frac{S_t}{N} \sum _{t^I_j {\lt} t} {1}(t^I_j + \tau _j {\gt} t) \right] \nonumber \\ &#x0026;= \sum _{t^I_j {\lt} t} \mathbb{E}_\mathcal {T} \left[ \beta \frac{S_t}{N} {1}(t^I_j + \tau _j {\gt} t) \right] \nonumber \\ &#x0026;= \sum _{t^I_j {\lt} t} \int _{0}^{\infty }\beta \frac{S_t}{N} {1}(t^I_j + \zeta {\gt} t) r(\zeta) d\zeta \nonumber \\ &#x0026;= \sum _{t^I_j {\lt} t} \beta \frac{S_t}{N} \int _{t-t^I_j}^{\infty } r(\zeta) d\zeta , \end{align} </span>       <br/>       <span class="equation-number">(10)</span>      </div>     </div> where <em>r</em>(<em>&#x03B6;</em>) is the exponential probability distribution function for the time to recovery (cf. Sec.&#x00A0;<a class="sec" href="#sec-9">2.2</a>). Knowing <em>S<sub>t</sub>     </em> = <em>N</em> &#x2212; <em>C<sub>t</sub>     </em>, we obtain: <div class="table-responsive" id="eq11">      <div class="display-equation">       <span class="tex mytex">\begin{equation} \mathbb{E}_\mathcal {T} \left[ \lambda ^I(t) \right] = \left(1 - \frac{C_t}{N} \right) \sum _{t^I_j {\lt} t} \beta e^{-\gamma (t - t^I_j)} . \end{equation} </span>       <br/>       <span class="equation-number">(11)</span>      </div>     </div>    </p>    <p>We can see that Eq.&#x00A0;(<a class="eqn" href="#eq7">7</a>) (with the exponential kernel in Eq.&#x00A0;(<a class="eqn" href="#eq8">8</a>)) and Eq.&#x00A0;(<a class="eqn" href="#eq11">11</a>) are identical when <em>N<sub>t</sub>     </em> = <em>C<sub>t</sub>     </em> and under the parameter equivalence in Theorem&#x00A0;<a class="enc" href="#enc1">3.1</a>. That is to say, the new infection point process in an SIR model and the HawkesN point-process with no background event rate are described by the same conditional intensity. This completes the proof of Theorem&#x00A0;<a class="enc" href="#enc1">3.1</a>. We also demonstrate the equivalence empirically, through simulation and subsequent parameter fitting, in the online supplement&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0025">25</a>]. <figure id="fig3">      <img src="http://deliveryimages.acm.org/10.1145/3190000/3186108/images/www2018-117-fig3.jpg" class="img-responsive" alt="Figure 3"       longdesc=""/>      <div class="figure-caption">       <span class="figure-number">Figure 3:</span>       <span class="figure-title">Visualization of the space of states of the SIR bivariate Markov Chain {<em>s</em>, <em>i</em>}. <em>s</em>, <em>i</em> &#x2208; <em>N</em> and <em>s</em> + <em>i</em> &#x2264; <em>N</em>, in other words the space of valid states sits under the green line <em>s</em> + <em>i</em> = <em>N</em>. The initial state in an SIR epidemic is always on the <font color="green">green line</font> (<em>S</em>(0) + <em>I</em>(0) = <em>N</em>). Given an initial state {<em>s</em> = <em>S</em>(0), <em>i</em> = <em>I</em>(0)} (shown by the <font color="magenta">magenta circle</font>), the <font color="orange">orange area</font> shows the space of reachable states and the gray area depicts the <em>unreachable states</em>. From a state {<em>s</em>, <em>i</em>} the system can to {<em>s</em> &#x2212; 1, <em>i</em> + 1}(new infection); and to {<em>s</em>, <em>i</em> &#x2212; 1}(new recovery). The absorbing states ({<em>s</em>, 0}) is shown with a <font color="red">red line</font>.</span>      </div>     </figure>    </p>    </section>   </section>   <section id="sec-13">    <header>    <div class="title-info">     <h2>      <span class="section-number">4</span> Diffusion Size Distribution</h2>    </div>    </header>    <p>We compute the probability distribution of the final size of an information diffusion cascade which has been partially observed and fitted using HawkesN, using a Markov chain technique developed for SIR. In Sec.&#x00A0;<a class="sec" href="#sec-14">4.1</a> we review known results on the final size distribution of an SIR epidemic. In Sec.&#x00A0;<a class="sec" href="#sec-15">4.2</a> we employ the equivalence shown in Theorem&#x00A0;<a class="enc" href="#enc1">3.1</a> to compute the final size distribution of a cascade modeled with HawkesN.</p>    <section id="sec-14">    <header>     <div class="title-info">      <h3>       <span class="section-number">4.1</span> Epidemic size distributions in SIR</h3>     </div>    </header>    <p>The final size of an infection is defined as the total number of individuals that have been infected (and recovered) during the epidemic. Estimating the final size while the epidemic is in its early stages is a well-studied problem in epidemiology. In this section, we review a solution to this problem for the stochastic SIR model.</p>    <p>     <strong>SIR as a Markov chain.</strong> The stochastic SIR introduced in Sec.&#x00A0;<a class="sec" href="#sec-9">2.2</a> can be formulated as a bivariate continuous time-homogeneous Markov chain&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0001">1</a>]. Each state <em>&#x03C3;</em> &#x2208; <em>&#x03A3;</em> is uniquely defined by the ordered pair of random variables {<em>S<sub>t</sub>     </em>, <em>I<sub>t</sub>     </em>}, denoting the sizes of the susceptible and the infected populations. <em>&#x03A3;</em> is the finite space of all possible states, visually represented in Fig.&#x00A0;<a class="fig" href="#fig3">3</a> as a triangle on the two-dimensional surface with the number of susceptible on the x-axis and the number of infected on the y-axis. From a given state {<em>S<sub>t</sub>     </em> = <em>s</em>, <em>I<sub>t</sub>     </em> = <em>i</em>} (denoted from here on as {<em>s</em>, <em>i</em>}), there are only two other states in which the system can transition depending on the type of event that occurs: a new infection arrives, and the system transitions {<em>s</em>, <em>i</em>} &#x2192; {<em>s</em> &#x2212; 1, <em>i</em> + 1} with the probability <em>p</em>({<em>s</em> &#x2212; 1, <em>i</em> + 1}|{<em>s</em>, <em>i</em>}); or a new recovery arrives, and the system transitions {<em>s</em>, <em>i</em>} &#x2192; {<em>s</em>, <em>i</em> &#x2212; 1} with the probability <em>p</em>({<em>s</em>, <em>i</em> &#x2212; 1}|{<em>s</em>, <em>i</em>}) (shown in the figure by the red and blue arrows, respectively).</p>    <p>     <strong>Transition matrix and probabilities.</strong> The epidemic ends when <em>I<sub>t</sub>     </em> = 0, i.e. no more infectious individuals exist to propagate the epidemic. Consequently, the states {<em>s</em>, 0} are <em>absorbing states</em> &#x2013; once the system arrives in one of these states, it does not transition to any other state. From a non-absorbing state {<em>s</em>, <em>i</em>}, new infections are observed at the rate <span class="inline-equation"><span class="tex">$\frac{\beta }{N} s i$</span>     </span> and new recoveries at the rate of <em>&#x03B3;i</em> (see Eq.&#x00A0;(<a class="eqn" href="#eq6">6</a>)). We obtain the transition probabilities: <div class="table-responsive" id="eq12">      <div class="display-equation">       <span class="tex mytex">\begin{align} p(\lbrace s-1,i+1\rbrace | \lbrace s,i\rbrace) &#x0026;= \frac{\frac{\beta }{N} s i}{\frac{\beta }{N} s i + \gamma i} = \frac{\beta s}{\beta s + N \gamma } , \text{ for } i {\gt} 0 \nonumber \\p(\lbrace s,i-1\rbrace | \lbrace s,i\rbrace) &#x0026;= \frac{\gamma i}{\frac{\beta }{N} s i + \gamma i} = \frac{N \gamma }{\beta s + N \gamma } , \text{ for } i {\gt} 0. \end{align} </span>       <br/>       <span class="equation-number">(12)</span>      </div>     </div> Suppose that the states in <em>&#x03A3;</em> are ordered from 1 to |<em>&#x03A3;</em>|. We define the <em>transition matrix T</em> = [<em>t<sub>kl</sub>     </em>] of size |<em>&#x03A3;</em>| &#x00D7; |<em>&#x03A3;</em>|, where <em>t<sub>kl</sub>     </em> = <em>p</em>(<em>&#x03C3;<sub>k</sub>     </em> = {<em>s<sub>k</sub>     </em>, <em>i<sub>k</sub>     </em>}|<em>&#x03C3;<sub>l</sub>     </em> = {<em>s<sub>l</sub>     </em>, <em>i<sub>l</sub>     </em>}) is the probability of transitioning from state <em>&#x03C3;<sub>l</sub>     </em> to state <em>&#x03C3;<sub>k</sub>     </em>. From Eq.&#x00A0;(<a class="eqn" href="#eq12">12</a>) we obtain: <div class="table-responsive" id="eq13">      <div class="display-equation">       <span class="tex mytex">\begin{equation} t_{kl} = \left\lbrace \begin{array}{ll}\frac{\beta s_l}{\beta s_l + N \gamma } &#x0026;,s_k = s_l - 1, i_k = i_l + 1, i_l {\gt} 0 \\ \frac{ N \gamma }{\beta s_l + N \gamma } &#x0026;,s_k = s_l, i_k = i_l - 1, i_l {\gt} 0 \\ 1 &#x0026;, s_k = s_l, i_k = i_l = 0 \\ 0 &#x0026; , \text{otherwise} \end{array} \right. . \end{equation} </span>       <br/>       <span class="equation-number">(13)</span>      </div>     </div> Note that the sum of each column <em>j</em> in the transition matrix <em>M</em> is equal to 1, as it contains the probabilities of transitioning from <em>&#x03C3;<sub>l</sub>     </em> to another state.</p>    <p>     <strong>Probability state vector and size distribution.</strong> Let <em>&#x03C0;</em> be the probability state vector <em>&#x03C0;</em> &#x2208; <em>R</em>     <sup>|<em>&#x03A3;</em>| &#x00D7; 1</sup>, with the <em>l<sup>th</sup>     </em> position of <em>&#x03C0;</em> giving the probability that the system is currently found in state <em>&#x03C3;<sub>l</sub>     </em>. Let <em>&#x03C0;</em>     <sub>0</sub> = [0, .., 0, 1, 0, .., 0] be the initial probability vector, with the value of 1 corresponding to <span class="inline-equation"><span class="tex">$\tilde{\sigma }$</span>     </span> the <em>initial state</em>, and zero everywhere else. Starting from <em>&#x03C0;</em>     <sub>0</sub>, we compute the probability state vector after one transition as <em>&#x03C0;</em>     <sup>(1)</sup> = <em>M</em> &#x00D7; <em>&#x03C0;</em>     <sub>0</sub>. <em>&#x03C0;</em>     <sup>(2)</sup> = <em>M</em>     <sup>2</sup> &#x00D7; <em>&#x03C0;</em>     <sub>0</sub> gives the probabilities after two transitions, <em>&#x03C0;</em>     <sup>(3)</sup> = <em>M</em>     <sup>3</sup> &#x00D7; <em>&#x03C0;</em>     <sub>0</sub> after three etc. Given that there are at most <em>N</em> &#x2212; 1 infection events and <em>N</em> recovery events in an SIR realization, the system is guaranteed to converge after 2<em>N</em> &#x2212; 1 steps&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0001">1</a>]. At convergence, all states except the absorbing states have a probability of zero in <em>&#x03C0;</em>     <sup>(2<em>N</em> &#x2212; 1)</sup>. We denote as <em>P</em>(<em>s</em>) the value in <em>&#x03C0;</em>     <sup>(2<em>N</em> &#x2212; 1)</sup> for the state {<em>s</em>, 0}, <em>s</em> = 0, 1, &#x2026;, <em>N</em> &#x2212; <em>I</em>     <sub>0</sub>.</p>    <p>From an initial state <span class="inline-equation"><span class="tex">$\tilde{\sigma }$</span>     </span> the system can finish in any of the absorbing states {<em>s</em>, 0} with the probability <em>P</em>(<em>s</em>). The distribution of final size of the diffusion is that of the random variable <em>N</em>&#x2032; = <em>N</em> &#x2212; <em>s</em>.</p>    </section>    <section id="sec-15">    <header>     <div class="title-info">      <h3>       <span class="section-number">4.2</span> Cascade size distribution in HawkesN</h3>     </div>    </header>    <p>Given Theorem&#x00A0;&#x00A0;<a class="enc" href="#enc1">3.1</a>, computing the probability distribution over the final size of the cascade after observing an arbitrary number of events, conceptually amounts to changing the initial state <span class="inline-equation"><span class="tex">$\tilde{\sigma } = \lbrace \tilde{s}, \tilde{i}\rbrace$</span>     </span> and using the method described in Sec.&#x00A0;<a class="sec" href="#sec-14">4.1</a>. Suppose we observed <em>l</em> events in HawkesN, we have <span class="inline-equation"><span class="tex">$\tilde{s} = N - l$</span>     </span>. The recovery events are not observed and the exact size of the infected population <span class="inline-equation"><span class="tex">$\tilde{i}$</span>     </span> is not known. We compute its expectation over times to recovery <span class="inline-equation"><span class="tex">$\mathcal {T}$</span>     </span> as: <div class="table-responsive" id="eq14">      <div class="display-equation">       <span class="tex mytex">\begin{equation} \mathbb{E}_\mathcal {T}[\tilde{i}] = \mathbb{E}_\mathcal {T} \left[ \sum _{j = 1}^l {1}(t^I_j + \tau _j {\gt} t_l) \right] \overset{Eq.(10),(11)}{=} \sum _{j = 1}^l e^{- \gamma (t_l-t^I_j)} \end{equation} </span>       <br/>       <span class="equation-number">(14)</span>      </div>     </div> and we run the method in Sec.&#x00A0;<a class="sec" href="#sec-14">4.1</a> starting from the initial state <span class="inline-equation"><span class="tex">$\tilde{\sigma } = \lbrace N - l, \mathbb{E}_\mathcal {T}[\tilde{i}]\rbrace$</span>     </span>. <span class="inline-equation"><span class="tex">$\mathbb{E}_\mathcal {T}[\tilde{i}]$</span>     </span> in Eq.&#x00A0;(<a class="eqn" href="#eq14">14</a>) is a real number, that we round to the closest integer.</p>    <p>In our discussion in Sec.&#x00A0;<a class="sec" href="#sec-22">6.3</a>, we study two probability distributions: the <em>apriori</em> distribution is computed starting from the initial state <span class="inline-equation"><span class="tex">$\tilde{\sigma } = \lbrace N - 1, 1\rbrace$</span>     </span> and it is dependent on model parameters only. The <em>aposteriori</em> distribution is the size distribution after observing <em>l</em> events, it is computed starting from <span class="inline-equation"><span class="tex">$\tilde{\sigma } = \lbrace N - l, \mathbb{E}_\mathcal {T}[\tilde{i}]\rbrace$</span>     </span> and it is dependent on model parameters and the observed event times <em>t</em>     <sub>1</sub>, <em>t</em>     <sub>2</sub>, &#x2026;, <em>t<sub>l</sub>     </em> (cf. Eq.&#x00A0;(<a class="eqn" href="#eq14">14</a>)).</p>    </section>   </section>   <section id="sec-16">    <header>    <div class="title-info">     <h2>      <span class="section-number">5</span> Fitting HawkesN to data</h2>    </div>    </header>    <p>In epidemiology, the size of population <em>N</em> is usually considered a fixed known parameter &#x2013; e.g. the number of people in a community. For online diffusions, it could be possible to estimate <em>N</em> from past diffusions (as discussed in Sec.&#x00A0;<a class="sec" href="#sec-24">8</a>). However, in this section we analyze the case when <em>N</em> is not known beforehand and needs to be estimated from observed data.</p>    <section id="sec-17">    <header>     <div class="title-info">      <h3>       <span class="section-number">5.1</span> The likelihood of HawkesN</h3>     </div>    </header>    <p>Let {<em>t</em>     <sub>1</sub>, <em>t</em>     <sub>2</sub>, &#x2026;, <em>t<sub>n</sub>     </em>} be a set of event times assumed to have been generated from a HawkesN process described in Sec.&#x00A0;<a class="sec" href="#sec-11">3.1</a>. When modeling diffusion cascades, it is typically assumed that every event apart from <em>t</em>     <sub>1</sub> is a reaction to the first event, i.e., the background intensity is zero <em>&#x03BC;</em> = 0, &#x2200;<em>t</em> > 0&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0023">23</a>]. We estimate the remaining HawkesN parameters {<em>&#x03BA;</em>, <em>&#x03B8;</em>, <em>N</em>} by maximizing the log-likelihood function of the point process (see the online supplement&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0025">25</a>] or Daley and Vere-Jones [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0007">7</a>, Ch.&#x00A0;7.2]): <div class="table-responsive" id="eq15">      <div class="display-equation">       <span class="tex mytex">\begin{equation} \mathcal {L}(\kappa , \theta , N) = \sum _{j=1}^n \log \lambda ^H\left(t_j\right) - \int _0^{t_n} \lambda ^H(\tau)\mathrm{d}\tau . \end{equation} </span>       <br/>       <span class="equation-number">(15)</span>      </div>     </div> We further detail the integral term: <div class="table-responsive" id="eq16">      <div class="display-equation">       <span class="tex mytex">\begin{align} \int _0^{t_n} \lambda ^H(\tau)\mathrm{d}\tau =&#x0026; \int _0^{t_n} \left(1 - \frac{N_{t}}{N} \right) \sum _{t_j {\lt} t} \phi (t - t_j) dt \nonumber \\ =&#x0026; \sum _{j = 0}^{n-1} \int _{t_j}^{t_n} \left(1 - \frac{N_{t}}{N} \right) \phi (t - t_j) dt \nonumber \\ =&#x0026; \sum _{j = 0}^{n-1} \sum _{l=j}^{n-1} \frac{N - l}{N} \int _{t_l}^{t_{l+1}} \phi (t - t_j) dt \nonumber \\^{cf.~(8)} =&#x0026; \kappa \sum _{j=0}^{n-1 } \sum _{l=j}^{n-1} \frac{N - l}{N} \left[e^{-\theta (t_l - t_j)} - e^{-\theta (t_{l+1} - t_j)} \right]. \end{align} </span>       <br/>       <span class="equation-number">(16)</span>      </div>     </div> Eq.&#x00A0;(<a class="eqn" href="#eq15">15</a>) is a non-linear objective and there are a few natural constraints for each of the model parameters, namely: <em>&#x03B8;</em> > 0, <em>&#x03BA;</em> > 0 and <em>N</em> &#x2265; <em>n</em>. We use the mathematical modeling language AMPL&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0010">10</a>], which provides an interface to different tools for continuous optimization, including automatic gradient computation and solvers. We choose as solver Ipopt&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0033">33</a>], a common choice in literature for large problems with non-linear objectives. More details can be found in the online supplement&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0025">25</a>].</p>    </section>    <section id="sec-18">    <header>     <div class="title-info">      <h3>       <span class="section-number">5.2</span> Estimating population size <em>N</em>      </h3>     </div>    </header>    <p>Here we examine the case when the population size <em>N</em> is the only unknown. The purpose is to identify how difficult it is to retrieve the value of <em>N</em> from data. Having a value of <em>N</em> for which the derivative is zero is a necessary condition for a local maximum in the log-likelihood function in Eq.&#x00A0;(<a class="eqn" href="#eq15">15</a>). We write the derivative of the log-likelihood with respect to <em>N</em>: <div class="table-responsive" id="eq17">      <div class="display-equation">       <span class="tex mytex">\begin{align} \frac{\partial \mathcal {L}}{\partial N} =&#x0026; \sum ^n_1 \frac{(\mu (t) + \sum _{t_j {\lt} t} \phi (t-t_j)) \frac{j - 1}{N^2}}{(\mu (t) + \sum _{t_j {\lt} t} \phi (t-t_j))\frac{N-j + 1}{N}} \nonumber \\ &#x0026;- \kappa \sum ^{n-1}_{j=0} \sum ^{n-1}_{l=j} \frac{l}{N^2} \left[ e^{-\theta (t_l-t_j)} - e^{-\theta (t_{l+1} - t_j)} \right] \nonumber \\ =&#x0026; \sum ^n_1 \frac{j - 1}{N(N - j+1)} - \frac{1}{N^2}\sum ^{n-1}_{j=0} \sum ^{n-1}_{l=j} l\kappa \left[ e^{-\theta (t_l-t_j)} - e^{-\theta (t_{l+1} - t_j)} \right] . \end{align} </span>       <br/>       <span class="equation-number">(17)</span>      </div>     </div> Knowing that <em>N</em> &#x2212; <em>j</em> + 1 &#x2264; <em>N</em>, &#x2200;<em>j</em> = 1..<em>n</em>, we construct a lower bound for <span class="inline-equation"><span class="tex">$\frac{\partial \mathcal {L}}{\partial N}$</span>     </span>: <div class="table-responsive" id="eq18">      <div class="display-equation">       <span class="tex mytex">\begin{equation} \frac{\partial \mathcal {L}}{\partial N} \ge \frac{1}{N^2}\underbrace{ \left(\frac{(n-1)n}{2} - \sum ^{n-1}_{j=0} \sum ^{n-1}_{l=j} l\kappa \left[e^{-\theta (t_l-t_j)} - e^{-\theta (t_{l+1} - t_j)}\right]\right) }_{\mathcal {S}(\kappa , \theta , \lbrace t_1, t_2, \ldots , t_n\rbrace)} \end{equation} </span>       <br/>       <span class="equation-number">(18)</span>      </div>     </div> We define the right hand side of Eq.&#x00A0;(<a class="eqn" href="#eq18">18</a>) <span class="inline-equation"><span class="tex">$\mathcal {S}(\kappa , \theta , \lbrace t_1, t_2, \ldots , t_n\rbrace)$</span>     </span> as a statistic of the observed event times <em>t<sub>j</sub>     </em> and of fixed model parameters <em>&#x03BA;</em> and <em>&#x03B8;</em>. The statistic does not depend on <em>N</em>. Given parameters and a set of event times <em>t<sub>j</sub>     </em>, when the statistic <span class="inline-equation"><span class="tex">$\mathcal {S}(\kappa , \theta , \lbrace t_1, t_2, \ldots , t_n\rbrace) {\gt} 0$</span>     </span> it is guaranteed that the log-likelihood function <span class="inline-equation"><span class="tex">$\mathcal {L}$</span>     </span> keeps monotonically increasing with <em>N</em> &#x2265; <em>n</em>, and no valid solution exists for <em>N</em>.</p>    <div class="table-responsive" id="tab1">     <div class="table-caption">      <span class="table-number">Table 1:</span>      <span class="table-title">Percentage of non-valid <em>N</em> solutions and accuracy of detection using statistic <span class="inline-equation"><span class="tex">$\mathcal {S}$</span>       </span>.</span>     </div>     <table class="table">      <thead>       <tr>       <th style="text-align:right;">Percentage observed</th>       <th style="text-align:right;">5%</th>       <th style="text-align:right;">10%</th>       <th style="text-align:right;">20%</th>       <th style="text-align:right;">40%</th>       <th style="text-align:right;">80%</th>       </tr>      </thead>      <tbody>       <tr>       <td style="text-align:right;">Non-valid <em>N</em> (SIR)</td>       <td style="text-align:right;">4%</td>       <td style="text-align:right;">0%</td>       <td style="text-align:right;">0%</td>       <td style="text-align:right;">0%</td>       <td style="text-align:right;">0%</td>       </tr>       <tr>       <td style="text-align:right;">Non-valid <em>N</em> (HawkesN)</td>       <td style="text-align:right;">56%</td>       <td style="text-align:right;">42%</td>       <td style="text-align:right;">37%</td>       <td style="text-align:right;">18%</td>       <td style="text-align:right;">0%</td>       </tr>       <tr>       <td style="text-align:right;">valid <em>N</em> roots</td>       <td style="text-align:right;">44</td>       <td style="text-align:right;">58</td>       <td style="text-align:right;">63</td>       <td style="text-align:right;">82</td>       <td style="text-align:right;">100</td>       </tr>       <tr>       <td style="text-align:right;">found using <span class="inline-equation"><span class="tex">$\mathcal {S} {\lt} 0$</span>        </span>       </td>       <td style="text-align:right;">40</td>       <td style="text-align:right;">57</td>       <td style="text-align:right;">63</td>       <td style="text-align:right;">82</td>       <td style="text-align:right;">100</td>       </tr>      </tbody>     </table>    </div>    <figure id="fig4">     <img src="http://deliveryimages.acm.org/10.1145/3190000/3186108/images/www2018-117-fig4.jpg" class="img-responsive" alt="Figure 4"      longdesc=""/>     <div class="figure-caption">      <span class="figure-number">Figure 4:</span>      <span class="figure-title">       <em>(top panel)</em> Example of an simulated SIR process realization, containing 10 infection events and 10 recovery events. <em>(middle panel)</em> The log-likelihood as a function of <em>N</em> for HawkesN (over the infection events, in red) and for SIR (in blue). <em>(bottom panel)</em> The derivative of the log-likehood w.r.t. <em>N</em>. For HawkesN, the derivative is always positive and the log-likelihood monotonically increases, and there is no valid <em>N</em> solution. For SIR, the log-likelihood has a maximum at 102, close to the simulated value <em>N</em> = 100. Statistic value for this realization <span class="inline-equation"><span class="tex">$\mathcal {S} = 13.77$</span>       </span>.</span>     </div>    </figure>    <figure id="fig5">     <img src="http://deliveryimages.acm.org/10.1145/3190000/3186108/images/www2018-117-fig5.jpg" class="img-responsive" alt="Figure 5"      longdesc=""/>     <div class="figure-caption">      <span class="figure-number">Figure 5:</span>      <span class="figure-title">Median and 15%/85% confidence intervals for estimating <em>N</em> using the maximum log-likelihood using HawkesN (red color) and SIR (blue color).</span>     </div>    </figure>    <p>     <strong>Difficulty of estimating <em>N</em>.</strong> We illustrate the difficulty of estimating <em>N</em> by simulation, and we show that this is dependent on the number of observed events in the cascade. Starting from the set of parameters <em>&#x03BC;</em> = 0, <em>&#x03BA;</em> = 5, <em>&#x03B8;</em> = 0.2, <em>N</em> = 100, we simulate 100 realizations using stochastic SIR. Assuming fixed all parameters except <em>N</em>, we study the validity and the quality of estimating <em>N</em> over increasingly longer prefixes of each cascade containing a percentage of all events in the range <span class="inline-equation"><span class="tex">$[5\%, 100\%]$</span>     </span>. SIR observes both infection and recovery events in each prefix, while HawkesN observes infection events only.</p>    <p>We implement a numerical procedure for finding <em>N</em>: we divide the range [0, 200] into 1000 intervals and we numerically search each interval for a root for Eq.&#x00A0;<a class="eqn" href="#eq17">17</a> using <tt>uniroot</tt> in R. This is a slow procedure which provides a ground truth against which we compare the statistic <span class="inline-equation"><span class="tex">$\mathcal {S}$</span>     </span>. Table&#x00A0;<a class="tbl" href="#tab1">1</a> shows for how many cascades there is no valid solution for <em>N</em> for SIR (first row) and HawkesN (second row). Five observed percentages are shown <span class="inline-equation"><span class="tex">$5\%, 10\%, 20\%, 40\%$</span>     </span> and 80%. For HawkesN, 56% of cascades do not have a valid <em>N</em> after observing 5% of the events. We observe that, when more than 50% of the cascade is observed, a solution for <em>N</em> exists. For SIR however, only 10% of the cascade have a non-valid <em>N</em> at the beginning of the cascades, and all cascades have valid solutions to <em>N</em> once more than 10% is observed. This indicates that it is more difficult to estimate <em>N</em> in HawkesN than in SIR. The bottom two rows of Table&#x00A0;<a class="tbl" href="#tab1">1</a> show how many cascades have valid solutions for <em>N</em> and for how many of these the statistic <span class="inline-equation"><span class="tex">$\mathcal {S}$</span>     </span> is negative. <span class="inline-equation"><span class="tex">$\mathcal {S} {\lt} 0$</span>     </span> mis-identifies only 4 valid solutions (out of 44) after observing 5% of the cascade and it identifies all valid solutions for percentages greater than 10%. Note that <span class="inline-equation"><span class="tex">$\mathcal {S}$</span>     </span> is a lower bound for the log-likelihood and it is guaranteed to find all non-valid solutions.</p>    <p>Fig.&#x00A0;<a class="fig" href="#fig4">4</a> shows an example of a cascade with 10 infection events and 10 recovery events. No valid solution exists for <em>N</em> when using HawkesN &#x2013; the log-likelihood function is monotonically increasing. When the recovery events are observed in SIR, <em>N</em> has a feasible solution close to the ground truth. This indicates that the timing of the recovery events (not observed in HawkesN) embeds information about the size of the population. Fig.&#x00A0;<a class="fig" href="#fig5">5</a> confirms this conclusion, showing that SIR estimates correctly <em>N</em> even at the beginning of cascades, whereas HawkesN requires observing around 50% of the the cascade to estimate <em>N</em> correctly. For the full details of the simulation and additional analytic analysis, please consult the online supplement [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0025">25</a>]. <figure id="fig6">      <img src="http://deliveryimages.acm.org/10.1145/3190000/3186108/images/www2018-117-fig6.jpg" class="img-responsive" alt="Figure 6"       longdesc=""/>      <div class="figure-caption">       <span class="figure-number">Figure 6:</span>       <span class="figure-title">Performances of HawkesN explaining unobserved data, using holdout negative log likelihood. The performance over all cascades in a dataset are summarized using boxplots, lower is better <em>(a)</em>. The percentage of observed events in each cascade used to train HawkesN is varied between 10% and 95%. We use 1000 cascades randomly sampled from <font style="font-variant: small-caps">News</font>.<em>(b), (c) and (d)</em> The performances on all cascades of <font style="font-variant: small-caps">ActiveRT</font>, <font style="font-variant: small-caps">Seismic</font> and <font style="font-variant: small-caps">News</font>, for Hawkes and HawkesN, when observing 40% and 80% of each cascade.</span>      </div>     </figure>     <figure id="fig7">      <img src="http://deliveryimages.acm.org/10.1145/3190000/3186108/images/www2018-117-fig7.jpg" class="img-responsive" alt="Figure 7"       longdesc=""/>      <div class="figure-caption">       <span class="figure-number">Figure 7:</span>       <span class="figure-title">Final size probability distribution for a <font style="font-variant: small-caps">News</font> cascade. HawkesN was fitted on the first 27 events <em>(left)</em> and 47 events <em>(right)</em>. The black line shows the <em>apriori</em> distribution, after seeing a single event. the <font color="blue">blue line</font> shows the <em>apostoriori</em> distribution, after seeing the observed events. Shown with vertical lines: the number of observed events in gray dashed, the deterministic prediction in <font color="magenta">magenta dashed</font> and the actual observed cascade size in <font color="red">red</font>.</span>      </div>     </figure>    </p>    </section>   </section>   <section id="sec-19">    <header>    <div class="title-info">     <h2>      <span class="section-number">6</span> Experiments and results</h2>    </div>    </header>    <p>In this section, we investigate the performances of HawkesN on three Twitter diffusion datasets (described in Sec.&#x00A0;<a class="sec" href="#sec-20">6.1</a>). We evaluate the generalization performance of HawkesN (in Sec.&#x00A0;<a class="sec" href="#sec-21">6.2</a>) and we profile cascade size distributions and we provide a new explanation for the perceived popularity unpredictability (Sec.&#x00A0;<a class="sec" href="#sec-22">6.3</a>).</p>    <section id="sec-20">    <header>     <div class="title-info">      <h3>       <span class="section-number">6.1</span> Datasets</h3>     </div>    </header>    <div class="table-responsive" id="tab2">     <div class="table-caption">      <span class="table-number">Table 2:</span>      <span class="table-title">Datasets profiling: number of cascades and number of tweets tweets; min, mean and median cascade size.</span>     </div>     <table class="table">      <thead>       <tr>       <th style="text-align:right;"/>       <th style="text-align:right;">#cascades</th>       <th style="text-align:right;">#tweets</th>       <th style="text-align:right;">Min.</th>       <th style="text-align:right;">Mean</th>       <th style="text-align:right;">Median</th>       </tr>      </thead>      <tbody>       <tr>       <td style="text-align:right;">        <font style="font-variant: small-caps">ActiveRT</font> &#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"         href="#BibPLXBIB0028">28</a>]</td>       <td style="text-align:right;">41,411</td>       <td style="text-align:right;">8,142,892</td>       <td style="text-align:right;">20</td>       <td style="text-align:right;">197</td>       <td style="text-align:right;">41</td>       </tr>       <tr>       <td style="text-align:right;">        <font style="font-variant: small-caps">Seismic</font> &#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"         href="#BibPLXBIB0044">44</a>]</td>       <td style="text-align:right;">166,076</td>       <td style="text-align:right;">34,784,488</td>       <td style="text-align:right;">50</td>       <td style="text-align:right;">209</td>       <td style="text-align:right;">111</td>       </tr>       <tr>       <td style="text-align:right;">        <font style="font-variant: small-caps">News</font> &#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"         href="#BibPLXBIB0023">23</a>]</td>       <td style="text-align:right;">20,093</td>       <td style="text-align:right;">3,252,549</td>       <td style="text-align:right;">50</td>       <td style="text-align:right;">162</td>       <td style="text-align:right;">90</td>       </tr>      </tbody>     </table>    </div>    <p>We use three datasets of retweet diffusion cascades in Twitter, used in previous work. For each tweet in each cascade, we have information about the time offset of the retweet and the number of followers of the user posting the retweet. The <font style="font-variant: small-caps">ActiveRT</font> dataset was collected by Rizoiu et&#x00A0;al. [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0028">28</a>] during 6 months in 2014. It contains more than 41k retweet cascades related to more than 13k Youtube videos, each cascade containing at least 20 tweets. The <font style="font-variant: small-caps">Seismic</font> dataset was collected by Zhao et&#x00A0;al. [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0044">44</a>]. It contains a sample of all tweets during a month (i.e. using the firehose Twitter API restricted access), further filtered so that the length of each cascade is greater than 50. The <font style="font-variant: small-caps">News</font> dataset was collected by Mishra et&#x00A0;al. [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0023">23</a>] over a period of four moths in 2015. They selected tweets containing links to news articles, by tracking the official twitter handles of popular news outlets, such NewYork Times, or CNN. Each cascade contains at least 50 tweets. Table&#x00A0;<a class="tbl" href="#tab2">2</a> summarizes these datasets.</p>    </section>    <section id="sec-21">    <header>     <div class="title-info">      <h3>       <span class="section-number">6.2</span> Generalization to unobserved data</h3>     </div>    </header>    <p>All three datasets described in the previous section also contain user information for each tweet. The tweets are pairs {<em>m<sub>j</sub>     </em>, <em>t<sub>j</sub>     </em>}, <em>t</em> = 1, &#x2026;, <em>n</em>, where <em>m<sub>j</sub>     </em> is the number of followers of the user having emitted tweet <em>j</em> at time <em>t<sub>j</sub>     </em>. In this section, we choose to use the modified exponential kernel function proposed by&#x00A0;Mishra et&#x00A0;al. [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0023">23</a>], which also accounts for the number of followers for a user: <em>&#x03D5;</em>(<em>&#x03C4;</em>) = <em>&#x03BA;m<sup>&#x03B7;</sup>&#x03B8;e</em>     <sup>&#x2212; <em>&#x03B8;&#x03C4;</em>     </sup>. More details about the marked HawkesN and its equivalence with SIR are found in the&#x00A0;online supplement [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0025">25</a>].</p>    <p>We empirically validate HawkesN by studying how it generalizes to unseen data. We compare HawkesN with the Hawkes model for information diffusion, proposed by Mishra et&#x00A0;al. [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0023">23</a>]. We adopt the setup in&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0002">2</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0008">8</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0011">11</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0028">28</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0029">29</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0044">44</a>]: the first few events in a diffusion are observed and used to fit the models. Hawkes is fitted as described in&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0023">23</a>], and HawkesN is fitted as described in Sec.&#x00A0;<a class="sec" href="#sec-17">5.1</a>. The population size <em>N</em> is also fitted from data. We measure the holdout likelihood, i.e. the likelihood of the events in the unobserved period. The lower the negative holdout likelihood, the better the model generalizes to unseen data. We report the <em>per event</em> holdout negative likelihood, to render the results comparable across holdout sets containing different numbers of events. Given the analysis in Sec.&#x00A0;<a class="sec" href="#sec-18">5.2</a>, we chose to observe a given proportion of each cascade, to render the results comparable across cascades of different length.</p>    <p>Fig.&#x00A0;6a shows the generalization performances of HawkesN, when varying the percentage of observed events from 10% to 95%. Consistent with the conclusions in Sec.&#x00A0;<a class="sec" href="#sec-18">5.2</a>, we observe a high variance of performance when observing less than 40% of each cascade. The basic Hawkes model shows less variance at lower percentages (shown in the online supplement&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0025">25</a>]). Plots (b) to (d) in Fig.&#x00A0;<a class="fig" href="#fig6">6</a> show the generalization performance of Hawkes and HawkesN, on the three datasets, for the observed percentages of 40% and 80%. Visibly, HawkesN has a consistently lower median value for the negative log-likelihood than Hawkes for higher observed percentages. The mean negative log-likelihood values are comparable for HawkesN and Hawkes on <font style="font-variant: small-caps">News</font> and <font style="font-variant: small-caps">Seismic</font>. On <font style="font-variant: small-caps">ActiveRT</font> the mean of HawkesN is higher &#x2013; likely due to Youtube videos behaving differently, with some old ones (e.g. Music) still being shared.</p>    <p>For higher observed percentages, the mean negative log-likelihood improves for HawkesN and it degrades for Hawkes. This indicates that the the modulation factor (<span class="inline-equation"><span class="tex">$1 - \frac{Nt}{N}$</span>     </span> in Eq.&#x00A0;<a class="eqn" href="#eq7">7</a>) helps improve likelihood, and HawkesN fits longer event sequences better.</p>    </section>    <section id="sec-22">    <header>     <div class="title-info">      <h3>       <span class="section-number">6.3</span> Explaining popularity unpredictability</h3>     </div>    </header>    <p>In this section, we study the probability distribution of population size for real-life cascades. Both left and right plots in Fig.&#x00A0;<a class="fig" href="#fig7">7</a> show the same cascade from the <font style="font-variant: small-caps">News</font> dataset, with the HawkesN parameters fit on 27 and 47 events respectively (here <em>N</em> is a meta-parameter fixed at <em>N</em> = 80). The <em>apriori</em> probability size distribution &#x2013; the distribution after observing only the first event &#x2013; shows two maxima: one around very small values of cascade size, and one around &#x223C; 65. This provides the following explanation for the general perceived unpredictability of online popularity. For cascades showing a bi-modal <em>apriori</em> size distribution, there are two likely outcomes: either it dies out early or it reaches a large size compared to the maximum population <em>N</em>. At time <em>t</em> = 0 is it impossible to differentiate between the two outcomes. The situation is different after observing a number of events. The <em>aposteriori</em> probability distribution (shown in Fig.&#x00A0;<a class="fig" href="#fig7">7</a> with a blue line) reflects the information gained from the observed events and it shows a single maximum towards the higher size values. The more events we observe, the higher the likelihood of the true value of cascade size. We also observe that the size distribution gets narrower as we observe more events, i.e. there is less uncertainty in cascade size prediction. This provides another explanation to why autoregressive popularity prediction approaches&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0005">5</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0027">27</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0031">31</a>] achieve higher results. Online popularity has been previously claimed to be unpredictable &#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"      href="#BibPLXBIB0021">21</a>], however as far as we know this is the first explanation for it, based on analytical results on size distributions.</p>    </section>   </section>   <section id="sec-23">    <header>    <div class="title-info">     <h2>      <span class="section-number">7</span> Related Work</h2>    </div>    </header>    <p>We structure some of the related work in the field of social media analysis into two broad categories, based on the used framework: point process approaches and epidemic models.</p>    <p>    <strong>Point process approaches.</strong> Point-process based generative models are a popular choice for popularity modeling&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0006">6</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0008">8</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0040">40</a>] and prediction&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0022">22</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0028">28</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0029">29</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0044">44</a>]. In their seminal work, Crane and Sornette [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0006">6</a>] linkes popularity bursts and decays to the effects of a Hawkes self-exciting process. More sophisticated models have been proposed to model and simulate popularity in microblogs&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0040">40</a>] and videos&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0008">8</a>]. These approaches successfully account for the social phenomena which modulate online diffusion: the &#x201C;rich-get-richer&#x201D; phenomenon and social contagion. Certain models can output an estimate for the total size of a retweet cascade. Shen et&#x00A0;al. [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0029">29</a>] employ reinforced Poisson processes, modeling three phenomena: fitness of an item, a temporal relaxation function and a reinforcement mechanism; while SEISMIC&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0044">44</a>] employs a double stochastic process, one accounting for infectiousness and the other one for the arrival time of events. Our work differs from the above in two aspects. First it proposes a generalization of the Hawkes model, which operates in a finite population &#x2013; which is a more realistic assumption. Second, it outputs a size probability distribution and it explains the perceived unpredictability of online popularity&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0021">21</a>].</p>    <p>A recently emerging body of work employs Stochastic Differential Equations to formulate Hawkes point processes. RedQueen&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0043">43</a>] and Cheshire&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0042">42</a>] are two algorithms aimed at optimizing social influence, which they formulate as a stochastic optimal control problem. Wang et&#x00A0;al. [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0035">35</a>] use stochastic control and reinforcement learning to address the user activity guiding problem and feedback in social systems. Later, Wang et&#x00A0;al. [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0036">36</a>] use the stochastic differential equation model to link the microscopic event data and macroscopic inference, and to approximate its probability distribution. The similarity between the above and our work is at the level of tools, by using stochastic calculus to link the event-level to the event rate and compute expected quantities. However, none of the above links point processes to epidemic models. The advantage of our solution is that it enables to leverage the mature tools in epidemic models to the field of information diffusion.</p>    <p>    <strong>Epidemic model approaches.</strong> Despite being developed for the field of epidemiology, epidemic models have been applied to information diffusion problems through the analogy of information spread as a disease. Classic epidemic models were early applied in the knowledge and scientific theory diffusion study&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0013">13</a>] and latter employed in many areas, such as economic and finance time series analysis&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0030">30</a>]. Pastor-Satorras and Vespignani [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0026">26</a>] applied SIS (Susceptible-Infected-Susceptible) epidemic model to simulate computer virus transmission over the Internet. A series of studies analyzed the spread of rumors in complex networks based on an epidemic model&#x00A0;[<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0015">15</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0024">24</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0032">32</a>, <a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0041">41</a>]. More recently, Woo and Chen [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0038">38</a>] modeled topic diffusion in web forums using an SIR model; Martin et&#x00A0;al. [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0021">21</a>] fitted an epidemic model to retweet cascades and used the computed basic reproduction number to theorize the unpredictability of online popularity. Bauckhage et&#x00A0;al. [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0003">3</a>] use a stochastic SIR model to characterize attention dynamics of viral videos. Goel et&#x00A0;al. [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0012">12</a>] apply large-scale agent based SIR simulation on a random network to study the virality on Twitter diffusions. Feng et&#x00A0;al. [<a class="bib" data-trigger="hover" data-toggle="popover" data-placement="top"     href="#BibPLXBIB0009">9</a>] propose a fractional SIR model in which the infection probability of a node is proportional to its fraction of infected neighbors and apply it on Sina Weibo data. However, these work do not leverage tools specific to epidemic models (e.g. the probability distribution of size), nor do they link to point process models as our work does.</p>   </section>   <section id="sec-24">    <header>    <div class="title-info">     <h2>      <span class="section-number">8</span> Conclusion</h2>    </div>    </header>    <p>In this work, we present a previously unexplored connection between Hawkes point processes and SIR epidemic models. First, we establish a novel connection between these two frameworks by linking the rate of events in an extended Hawkes model to the rate of new infections in the Susceptible-Infected-Recovered (SIR) model after marginalizing out recovery events &#x2013; which are unobserved in a Hawkes process. This paves the way to applying tools developed for one approach to the other approach. It also leads to HawkesN, an extension of the Hawkes process with a finite number of events. Finally, we present a novel method to compute the probability distribution of the final size of a cascade after observing its initial unfolding using HawkesN, which is based on a Markov chain tools developed for SIR. We use the probability of cascade size on a large sample of real cascades to provide a nuanced explanation for the general unpredictability of popularity.</p>    <p>    <strong>Assumptions, limitations and future work.</strong> This work assumes a fixed population (users don&#x0027;t enter, nor do they exit). A link could be drawn between evolving populations in SIR and <em>&#x03BC;</em>(<em>t</em>) &#x2260; 0 in HawkesN. The current work assumes that the maximum population size <em>N</em> is estimated for each cascade, while observing i. Future work could use other observed similar cascades to infer the size of a &#x201C;thematic neighborhood&#x201D; before a cascade starts unfolding. Finally, allowing for user-specific behavior in the SIR model or kernel functions other than the exponential function requires more advanced SIR formulations, such as an agent-based formulation. <strong>Acknowledgments.</strong>This material is based on research sponsored by the Air Force Research Laboratory, under agreement number FA2386-15-1-4018. We thank the National Computational Infrastructure (NCI) for providing computational resources, supported by the Australian Government. We thank Aditya Krishna Menon for insightful discussions.</p>   </section>  </section>  <section class="back-matter">   <section id="ref-001">    <header>    <div class="title-info">     <h2 class="page-brake-head">REFERENCES</h2>    </div>    </header>    <ul class="bibUl">    <li id="BibPLXBIB0001" label="[1]">Linda J.&#x00A0;S. Allen. 2008. An Introduction to Stochastic Epidemic Models. In <em>      <em>Mathematical Epidemiology</em>     </em>. Springer, Berlin, Heidelberg, Chapter&#x00A0;3, 81&#x2013;130. <a href="https://doi.org/10.1007/978-3-540-78911-6_3" target="_blank">https://doi.org/10.1007/978-3-540-78911-6_3</a></li>    <li id="BibPLXBIB0002" label="[2]">Peng Bao, Hua-Wei Shen, Xiaolong Jin, and Xue-Qi Cheng. 2015. Modeling and Predicting Popularity Dynamics of Microblogs using Self-Excited Hawkes Processes. In <em>      <em>Proceedings of the 24th International Conference on World Wide Web - WWW &#x2019;15 Companion</em>     </em>. ACM Press, New York, New York, USA, 9&#x2013;10. <a href="https://doi.org/10.1145/2740908.2742744" target="_blank">https://doi.org/10.1145/2740908.2742744</a></li>    <li id="BibPLXBIB0003" label="[3]">Christian Bauckhage, Fabian Hadiji, and Kristian Kersting. 2015. How Viral Are Viral Videos?. In <em>      <em>ICWSM</em>     </em>. 22&#x2013;30.</li>    <li id="BibPLXBIB0004" label="[4]">Georgiy&#x00A0;V. Bobashev, D.&#x00A0;Michael Goedecke, Feng Yu, and Joshua&#x00A0;M. Epstein. 2007. A hybrid epidemic model: Combining the advantages of agent-based and equation-based approaches. In <em>      <em>Proceedings - Winter Simulation Conference</em>     </em>. IEEE, 1532&#x2013;1537. <a href="https://doi.org/10.1109/WSC.2007.4419767" target="_blank">https://doi.org/10.1109/WSC.2007.4419767</a></li>    <li id="BibPLXBIB0005" label="[5]">Biao Chang, Hengshu Zhu, Yong Ge, Enhong Chen, Hui Xiong, and Chang Tan. 2014. Predicting the Popularity of Online Serials with Autoregressive Models. In <em>      <em>Proceedings of the 23rd ACM International Conference on Conference on Information and Knowledge Management - CIKM &#x2019;14</em>     </em>. ACM Press, New York, New York, USA, 1339&#x2013;1348. <a href="https://doi.org/10.1145/2661829.2662055" target="_blank">https://doi.org/10.1145/2661829.2662055</a></li>    <li id="BibPLXBIB0006" label="[6]">Riley Crane and Didier Sornette. 2008. Robust dynamic classes revealed by measuring the response function of a social system. <em>      <em>Proceedings of the National Academy of Sciences</em>     </em>105, 41 (oct 2008), 15649&#x2013;15653. <a href="https://doi.org/10.1073/pnas.0803685105" target="_blank">https://doi.org/10.1073/pnas.0803685105</a></li>    <li id="BibPLXBIB0007" label="[7]">D&#x00A0;J Daley and D Vere-Jones. 2008. <em>      <em>An introduction to the theory of point processes. Vol. I</em>     </em>. Vol.&#x00A0;I. xviii+573 pages. <a href="https://doi.org/10.1007/b97277" target="_blank">https://doi.org/10.1007/b97277</a></li>    <li id="BibPLXBIB0008" label="[8]">Wanying Ding, Yue Shang, Lifan Guo, Xiaohua Hu, Rui Yan, and Tingting He. 2015. Video Popularity Prediction by Sentiment Propagation via Implicit Network. In <em>      <em>Proceedings of the 24th ACM International on Conference on Information and Knowledge Management</em>     </em>. ACM, 1621&#x2013;1630. <a href="https://doi.org/10.1145/2806416.2806505" target="_blank">https://doi.org/10.1145/2806416.2806505</a></li>    <li id="BibPLXBIB0009" label="[9]">Ling Feng, Yanqing Hu, Baowen Li, H&#x00A0;Eugene Stanley, Shlomo Havlin, and Lidia&#x00A0;A Braunstein. 2015. Competing for attention in social media under information overload conditions. <em>      <em>PloS one</em>     </em>10, 7 (2015), e0126090.</li>    <li id="BibPLXBIB0010" label="[10]">Robert Fourer, David&#x00A0;M Gay, and Brian&#x00A0;W Kernighan. 1987. <em>      <em>AMPL: A mathematical programming language</em>     </em>. AT&#x0026;T Bell Laboratories Murray Hill, NJ 07974.</li>    <li id="BibPLXBIB0011" label="[11]">Shuai Gao, Jun Ma, and Zhumin Chen. 2015. Modeling and Predicting Retweeting Dynamics on Microblogging Platforms. In <em>      <em>Proceedings of the Eighth ACM International Conference on Web Search and Data Mining - WSDM &#x2019;15</em>     </em>. ACM Press, New York, New York, USA, 107&#x2013;116. <a href="https://doi.org/10.1145/2684822.2685303" target="_blank">https://doi.org/10.1145/2684822.2685303</a></li>    <li id="BibPLXBIB0012" label="[12]">Sharad Goel, Ashton Anderson, Jake Hofman, and Duncan&#x00A0;J Watts. 2015. The structural virality of online diffusion. <em>      <em>Management Science</em>     </em>62, 1 (2015), 180&#x2013;196.</li>    <li id="BibPLXBIB0013" label="[13]">William Goffman. 1971. A Mathematical Method for Analyzing the Growth of a Scientific Discipline. <em>      <em>Journal of the ACM (JACM)</em>     </em>18, 2 (apr 1971), 173&#x2013;185. <a href="https://doi.org/10.1145/321637.321640" target="_blank">https://doi.org/10.1145/321637.321640</a></li>    <li id="BibPLXBIB0014" label="[14]">Manuel Gomez-Rodriguez, Le Song, Nan Du, Hongyuan Zha, and Bernhard Sch&#x00F6;lkopf. 2016. Influence Estimation and Maximization in Continuous-Time Diffusion Networks. <em>      <em>ACM Transactions on Information Systems</em>     </em>34, 2 (feb 2016), 1&#x2013;33. <a href="https://doi.org/10.1145/2824253" target="_blank">https://doi.org/10.1145/2824253</a></li>    <li id="BibPLXBIB0015" label="[15]">Daniel Gruhl, R. Guha, David Liben-Nowell, and Andrew Tomkins. 2004. Information Diffusion Through Blogspace. In <em>      <em>Proceedings of the 13th International Conference on World Wide Web</em>     </em>(WWW &#x2019;04). ACM, New York, NY, USA, 491&#x2013;501. <a href="https://doi.org/10.1145/988672.988739" target="_blank">https://doi.org/10.1145/988672.988739</a></li>    <li id="BibPLXBIB0016" label="[16]">Alan&#x00A0;G. Hawkes. 1971. Spectra of some self-exciting and mutually exciting point processes. <em>      <em>Biometrika</em>     </em>58, 1 (apr 1971), 83&#x2013;90. <a href="https://doi.org/10.1093/biomet/58.1.83" target="_blank">https://doi.org/10.1093/biomet/58.1.83</a></li>    <li id="BibPLXBIB0017" label="[17]">Agn&#x00E8;s Helmstetter and Didier Sornette. 2002. Subcritical and supercritical regimes in epidemic models of earthquake aftershocks. <em>      <em>Journal of Geophysical Research: Solid Earth</em>     </em>107, B10 (2002), ESE 10&#x2013;1&#x2014;-ESE 10&#x2013;21. <a href="https://doi.org/10.1029/2001jb001580arxiv:cond-mat/0109318" target="_blank">https://doi.org/10.1029/2001jb001580arxiv:cond-mat/0109318</a></li>    <li id="BibPLXBIB0018" label="[18]">W.&#x00A0;O. Kermack and A.&#x00A0;G. McKendrick. 1927. A Contribution to the Mathematical Theory of Epidemics. <em>      <em>Proceedings of the Royal Society A: Mathematical, Physical and Engineering Sciences</em>     </em>115, 772 (aug 1927), 700&#x2013;721. <a href="https://doi.org/10.1098/rspa.1927.0118" target="_blank">https://doi.org/10.1098/rspa.1927.0118</a></li>    <li id="BibPLXBIB0019" label="[19]">Ryota Kobayashi and Renaud Lambiotte. 2016. TiDeH: Time-Dependent Hawkes Process for Predicting Retweet Dynamics. In <em>      <em>ICWSM 2016</em>     </em>. arxiv:1603.09449</li>    <li id="BibPLXBIB0020" label="[20]">Patrick&#x00A0;J. Laub, Thomas Taimre, and Philip&#x00A0;K. Pollett. 2015. Hawkes Processes. (jul 2015). arxiv:1507.02822 <a href="http://arxiv.org/abs/1507.02822" target="_blank">http://arxiv.org/abs/1507.02822</a></li>    <li id="BibPLXBIB0021" label="[21]">Travis Martin, Jake&#x00A0;M. Hofman, Amit Sharma, Ashton Anderson, and Duncan&#x00A0;J. Watts. 2016. Exploring Limits to Prediction in Complex Social Systems. In <em>      <em>Proceedings of the 25th International Conference on World Wide Web</em>     </em>. 683&#x2013;694. <a href="https://doi.org/10.1145/2872427.2883001arXiv:1602.01013" target="_blank">https://doi.org/10.1145/2872427.2883001arXiv:1602.01013</a></li>    <li id="BibPLXBIB0022" label="[22]">Hongyuan Mei and Jason Eisner. 2017. The Neural Hawkes Process: A Neurally Self-Modulating Multivariate Point Process. In <em>      <em>Advances in Neural Information Processing Systems 30</em>     </em>. 6757&#x2013;6767. arxiv:1612.09328 <a href="https://arxiv.org/abs/1612.09328" target="_blank">https://arxiv.org/abs/1612.09328</a></li>    <li id="BibPLXBIB0023" label="[23]">Swapnil Mishra, Marian-Andrei Rizoiu, and Lexing Xie. 2016. Feature Driven and Point Process Approaches for Popularity Prediction. In <em>      <em>Proceedings of the 25th ACM International on Conference on Information and Knowledge Management - CIKM &#x2019;16</em>     </em>. ACM Press, Indianapolis, IN, USA, 1069&#x2013;1078. <a href="https://doi.org/10.1145/2983323.2983812" target="_blank">https://doi.org/10.1145/2983323.2983812</a></li>    <li id="BibPLXBIB0024" label="[24]">Yamir Moreno, Maziar Nekovee, and Amalio&#x00A0;F. Pacheco. 2004. Dynamics of rumor spreading in complex networks. <em>      <em>Physical Review E - Statistical, Nonlinear, and Soft Matter Physics</em>     </em>69, 6 2 (jun 2004), 066130. <a href="https://doi.org/10.1103/PhysRevE.69.066130arxiv:cond-mat/0312131" target="_blank">https://doi.org/10.1103/PhysRevE.69.066130arxiv:cond-mat/0312131</a></li>    <li id="BibPLXBIB0025" label="[25]">online supplement. 2017. Appendix: SIR Hawkes: Linking Epidemic Models and Hawkes Point Processes for Online Information Diffusion. (2017). <a class="link-inline force-break"      href="https://arxiv.org/pdf/1711.01679.pdf#page=11">https://arxiv.org/pdf/1711.01679.pdf#page=11</a>.</li>    <li id="BibPLXBIB0026" label="[26]">Romualdo Pastor-Satorras and Alessandro Vespignani. 2001. Epidemic spreading in scale-free networks. <em>      <em>Physical Review Letters</em>     </em>86, 14 (apr 2001), 3200&#x2013;3203. <a href="https://doi.org/10.1103/PhysRevLett.86.3200arxiv:cond-mat/0010317" target="_blank">https://doi.org/10.1103/PhysRevLett.86.3200arxiv:cond-mat/0010317</a></li>    <li id="BibPLXBIB0027" label="[27]">Henrique Pinto, Jussara&#x00A0;M. Almeida, and Marcos&#x00A0;A. Gon&#x00E7;alves. 2013. Using early view patterns to predict the popularity of youtube videos. In <em>      <em>Proceedings of the sixth ACM international conference on Web search and data mining - WSDM &#x2019;13</em>     </em>. ACM Press, New York, New York, USA, 365. <a href="https://doi.org/10.1145/2433396.2433443" target="_blank">https://doi.org/10.1145/2433396.2433443</a></li>    <li id="BibPLXBIB0028" label="[28]">Marian-Andrei Rizoiu, Lexing Xie, Scott Sanner, Manuel Cebrian, Honglin Yu, and Pascal Van Hentenryck. 2017. Expecting to be HIP: Hawkes Intensity Processes for Social Media Popularity. In <em>      <em>26th International Conference on World Wide Web - WWW &#x2019;17</em>     </em>. ACM Press, Perth, Australia., 735&#x2013;744. <a href="https://doi.org/10.1145/3038912.3052650" target="_blank">https://doi.org/10.1145/3038912.3052650</a> arxiv:1602.06033</li>    <li id="BibPLXBIB0029" label="[29]">Hw Shen, Dashun Wang, Chaoming Song, and Al Barab&#x00E1;si. 2014. Modeling and Predicting Popularity Dynamics via Reinforced Poisson Processes. In <em>      <em>Proceedings of the Twenty-Eighth AAAI Conference on Artificial Intelligence</em>     </em>. AAAI Press, Qu&#x00E9;bec City, Qu&#x00E9;bec, Canada., 291&#x2013;297. arXiv:arXiv:1401.0778v1</li>    <li id="BibPLXBIB0030" label="[30]">Ernest&#x00A0;S. Shtatland and Timur Shtatland. 2008. Another Look at Low-Order Autoregressive Models in Early Detection of Epidemic Outbreaks and Explosive Behaviors in Economic and Financial Time Series. In <em>      <em>SGF Proceedings</em>     </em>.</li>    <li id="BibPLXBIB0031" label="[31]">Gabor Szabo and Bernardo&#x00A0;a. Huberman. 2010. Predicting the popularity of online content. <em>      <em>Commun. ACM</em>     </em>53, 8 (aug 2010), 80. <a href="https://doi.org/10.1145/1787234.1787254" target="_blank">https://doi.org/10.1145/1787234.1787254</a> arxiv:0811.0405</li>    <li id="BibPLXBIB0032" label="[32]">Daniel Trpevski, Wallace K.&#x00A0;S. Tang, and Ljupco Kocarev. 2010. Model for rumor spreading over networks. <em>      <em>Physical Review E - Statistical, Nonlinear, and Soft Matter Physics</em>     </em>81, 5 (may 2010), 056102. <a href="https://doi.org/10.1103/PhysRevE.81.056102" target="_blank">https://doi.org/10.1103/PhysRevE.81.056102</a></li>    <li id="BibPLXBIB0033" label="[33]">A W&#x00E4;chter and L&#x00A0;T Biegler. 2006. On the Implementation of a Primal-Dual Interior Point Filter Line Search Algorithm for Large-Scale Nonlinear Programming. <em>      <em>Mathematical Programming</em>     </em>106, 1 (2006), 25&#x2013;57.</li>    <li id="BibPLXBIB0034" label="[34]">Jacco Wallinga and Peter Teunis. 2004. Different epidemic curves for severe acute respiratory syndrome reveal similar impacts of control measures.<em>      <em>American journal of epidemiology</em>     </em>160, 6 (sep 2004), 509&#x2013;16.</li>    <li id="BibPLXBIB0035" label="[35]">Yichen Wang, Evangelos Theodorou, Apurv Verma, and Le Song. 2016. A Stochastic Differential Equation Framework for Guiding Online User Activities in Closed Loop. (mar 2016). arxiv:1603.09021 <a href="http://arxiv.org/abs/1603.09021" target="_blank">http://arxiv.org/abs/1603.09021</a></li>    <li id="BibPLXBIB0036" label="[36]">Yichen Wang, Xiaojing Ye, Haomin Zhou, Hongyuan Zha, and Le Song. 2017. Linking Micro Event History to Macro Prediction in Point Process Models. In <em>      <em>Proceedings of the 20th International Conference on Artificial Intelligence and Statistics</em>     </em>, Vol.&#x00A0;54. 1375&#x2013;1384. <a href="http://proceedings.mlr.press/v54/wang17f.html" target="_blank">http://proceedings.mlr.press/v54/wang17f.html</a></li>    <li id="BibPLXBIB0037" label="[37]">Duncan&#x00A0;J. Watts. 2011. <em>      <em>Everything is obvious : once you know the answer</em>     </em>. Crown Business. 335 pages.</li>    <li id="BibPLXBIB0038" label="[38]">Jiyoung Woo and Hsinchun Chen. 2016. Epidemic model for information diffusion in web forums: experiments in marketing exchange and political dialog. <em>      <em>SpringerPlus</em>     </em>5, 1 (dec 2016), 66. <a href="https://doi.org/10.1186/s40064-016-1675-x" target="_blank">https://doi.org/10.1186/s40064-016-1675-x</a></li>    <li id="BibPLXBIB0039" label="[39]">Ping Yan. 2008. Distribution Theory, Stochastic Processes and Infectious Disease Modelling. In <em>      <em>Mathematical Epidemiology</em>     </em>, Wu&#x00A0;J. Brauer F., van den Driessche P. (Ed.). Springer, Berlin, Heidelberg, Chapter&#x00A0;10, 229&#x2013;293. <a href="https://doi.org/10.1007/978-3-540-78911-6_10" target="_blank">https://doi.org/10.1007/978-3-540-78911-6_10</a></li>    <li id="BibPLXBIB0040" label="[40]">Linyun Yu, Peng Cui, Fei Wang, Chaoming Song, and Shiqiang Yang. 2017. Uncovering and predicting the dynamic process of information cascades with survival model. <em>      <em>Knowledge and Information Systems</em>     </em>50, 2 (feb 2017), 633&#x2013;659. <a href="https://doi.org/10.1007/s10115-016-0955-7arxiv:1505.07193" target="_blank">https://doi.org/10.1007/s10115-016-0955-7arxiv:1505.07193</a></li>    <li id="BibPLXBIB0041" label="[41]">Dami&#x00E1;n&#x00A0;H. Zanette. 2002. Dynamics of rumor propagation on small-world networks. <em>      <em>Physical Review E - Statistical, Nonlinear, and Soft Matter Physics</em>     </em>65, 4 (mar 2002), 041908. <a href="https://doi.org/10.1103/PhysRevE.65.041908" target="_blank">https://doi.org/10.1103/PhysRevE.65.041908</a> arxiv:0110324</li>    <li id="BibPLXBIB0042" label="[42]">Ali Zarezade, Abir De, Hamid Rabiee, and Manuel&#x00A0;Gomez Rodriguez. 2017. Cheshire: An Online Algorithm for Activity Maximization in Social Networks. (mar 2017). arxiv:1703.02059 <a href="http://arxiv.org/abs/1703.02059" target="_blank">http://arxiv.org/abs/1703.02059</a></li>    <li id="BibPLXBIB0043" label="[43]">Ali Zarezade, Utkarsh Upadhyay, Hamid Rabiee, and Manuel&#x00A0;Gomez Rodriguez. 2017. RedQueen: An Online Algorithm for Smart Broadcasting in Social Networks. In <em>      <em>10th ACM International Conference on Web Search and Data Mining</em>     </em>. arxiv:1610.05773 <a href="http://arxiv.org/abs/1610.05773" target="_blank">http://arxiv.org/abs/1610.05773</a></li>    <li id="BibPLXBIB0044" label="[44]">Qingyuan Zhao, Murat&#x00A0;A Erdogdu, Hera&#x00A0;Y He, Anand Rajaraman, and Jure Leskovec. 2015. SEISMIC: A Self-Exciting Point Process Model for Predicting Tweet Popularity. In <em>      <em>ACM SIGKDD Conference on Knowledge Discovery and Data Mining</em></em>.</li>    </ul>   </section>  </section>  <section id="foot-001" class="footnote">   <header>    <div class="title-info">    <h2>FOOTNOTE</h2>    </div>   </header>   <div class="bibStrip">    <p>This paper is published under the Creative Commons Attribution 4.0 International (CC-BY&#x00A0;4.0) license. Authors reserve their rights to disseminate the work on their personal and corporate Web sites with the appropriate attribution.</p>    <p>    <em>WWW '18, April 23-27, 2018, Lyon, France</em>    </p>    <p>&#x00A9; 2018; IW3C2 (International World Wide Web Conference Committee), published under Creative Commons CC-BY&#x00A0;4.0 License. ACM ISBN 978-1-4503-5639-8/18/04.<br/>DOI: <a class="link-inline force-break" target="_blank"     href="https://doi.org/10.1145/3178876.3186108">https://doi.org/10.1145/3178876.3186108</a>    </p>   </div>  </section>  <div class="pubHistory">   <p/>  </div> </body> </html> 
